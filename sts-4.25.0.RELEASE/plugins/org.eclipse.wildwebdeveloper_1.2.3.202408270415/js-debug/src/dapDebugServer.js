"use strict";(()=>{var k8=Object.create;var cv=Object.defineProperty;var YE=Object.getOwnPropertyDescriptor;var R8=Object.getOwnPropertyNames;var O8=Object.getPrototypeOf,N8=Object.prototype.hasOwnProperty;var w=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var B8=(t,e)=>()=>(t&&(e=t(t=0)),e);var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var F8=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of R8(e))!N8.call(t,n)&&n!==r&&cv(t,n,{get:()=>e[n],enumerable:!(i=YE(e,n))||i.enumerable});return t};var F=(t,e,r)=>(r=t!=null?k8(O8(t)):{},F8(e||!t||!t.__esModule?cv(r,"default",{value:t,enumerable:!0}):r,t));var z=(t,e,r,i)=>{for(var n=i>1?void 0:i?YE(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(n=(i?o(e,r,n):o(n))||n);return i&&n&&cv(e,r,n),n},E=(t,e)=>(r,i)=>e(r,i,t);var vt=v((xpe,ix)=>{"use strict";var U8=Object.create,mh=Object.defineProperty,j8=Object.getOwnPropertyDescriptor,ex=Object.getOwnPropertyNames,W8=Object.getPrototypeOf,q8=Object.prototype.hasOwnProperty,V8=(t,e)=>function(){return e||(0,t[ex(t)[0]])((e={exports:{}}).exports,e),e.exports},G8=(t,e)=>{for(var r in e)mh(t,r,{get:e[r],enumerable:!0})},tx=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of ex(e))!q8.call(t,n)&&n!==r&&mh(t,n,{get:()=>e[n],enumerable:!(i=j8(e,n))||i.enumerable});return t},K8=(t,e,r)=>(r=t!=null?U8(W8(t)):{},tx(e||!t||!t.__esModule?mh(r,"default",{value:t,enumerable:!0}):r,t)),z8=t=>tx(mh({},"__esModule",{value:!0}),t),X8=V8({"node_modules/request-light/lib/node/main.js"(t){(()=>{var e={46:(o,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u,c,{signal:l}={}){return new Promise((p,f)=>{function g(){l==null||l.removeEventListener("abort",g),u.removeListener(c,m),u.removeListener("error",y)}function m(...b){g(),p(b)}function y(b){g(),f(b)}l==null||l.addEventListener("abort",g),u.on(c,m),u.on("error",y)})}},54:function(o,a,u){"use strict";var c=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};let l=u(361),p=c(u(374)),f=c(u(304)),g=p.default("agent-base");function m(){let{stack:b}=new Error;return typeof b=="string"&&b.split(`
`).some(I=>I.indexOf("(https.js:")!==-1||I.indexOf("node:https:")!==-1)}function y(b,I){return new y.Agent(b,I)}(function(b){class I extends l.EventEmitter{constructor(W,P){super();let D=P;typeof W=="function"?this.callback=W:W&&(D=W),this.timeout=null,D&&typeof D.timeout=="number"&&(this.timeout=D.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:m()?443:80}set defaultPort(W){this.explicitDefaultPort=W}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:m()?"https:":"http:"}set protocol(W){this.explicitProtocol=W}callback(W,P,D){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(W,P){let D=Object.assign({},P);typeof D.secureEndpoint!="boolean"&&(D.secureEndpoint=m()),D.host==null&&(D.host="localhost"),D.port==null&&(D.port=D.secureEndpoint?443:80),D.protocol==null&&(D.protocol=D.secureEndpoint?"https:":"http:"),D.host&&D.path&&delete D.path,delete D.agent,delete D.hostname,delete D._defaultAgent,delete D.defaultPort,delete D.createConnection,W._last=!0,W.shouldKeepAlive=!1;let G=!1,q=null,N=D.timeout||this.timeout,M=R=>{W._hadError||(W.emit("error",R),W._hadError=!0)},O=()=>{q=null,G=!0;let R=new Error(`A "socket" was not created for HTTP request before ${N}ms`);R.code="ETIMEOUT",M(R)},S=R=>{G||(q!==null&&(clearTimeout(q),q=null),M(R))},$=R=>{if(G)return;if(q!=null&&(clearTimeout(q),q=null),X=R,Boolean(X)&&typeof X.addRequest=="function")return g("Callback returned another Agent instance %o",R.constructor.name),void R.addRequest(W,D);var X;if(R)return R.once("free",()=>{this.freeSocket(R,D)}),void W.onSocket(R);let L=new Error(`no Duplex stream was returned to agent-base for \`${W.method} ${W.path}\``);M(L)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(g("Converting legacy callback function to promise"),this.promisifiedCallback=f.default(this.callback)):this.promisifiedCallback=this.callback),typeof N=="number"&&N>0&&(q=setTimeout(O,N)),"port"in D&&typeof D.port!="number"&&(D.port=Number(D.port));try{g("Resolving socket for %o request: %o",D.protocol,`${W.method} ${W.path}`),Promise.resolve(this.promisifiedCallback(W,D)).then($,S)}catch(R){Promise.reject(R).catch(S)}}else M(new Error("`callback` is not defined"))}freeSocket(W,P){g("Freeing socket %o %o",W.constructor.name,P),W.destroy()}destroy(){g("Destroying agent %o",this.constructor.name)}}b.Agent=I,b.prototype=b.Agent.prototype})(y||(y={})),o.exports=y},304:(o,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){return function(c,l){return new Promise((p,f)=>{u.call(this,c,l,(g,m)=>{g?f(g):p(m)})})}}},370:function(o,a,u){"use strict";var c=this&&this.__awaiter||function(W,P,D,G){return new(D||(D=Promise))(function(q,N){function M($){try{S(G.next($))}catch(R){N(R)}}function O($){try{S(G.throw($))}catch(R){N(R)}}function S($){var R;$.done?q($.value):(R=$.value,R instanceof D?R:new D(function(X){X(R)})).then(M,O)}S((G=G.apply(W,P||[])).next())})},l=this&&this.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(u(808)),f=l(u(404)),g=l(u(310)),m=l(u(374)),y=l(u(46)),b=u(54),I=(0,m.default)("http-proxy-agent");class B extends b.Agent{constructor(P){let D;if(D=typeof P=="string"?g.default.parse(P):P,!D)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");I("Creating new HttpProxyAgent instance: %o",D),super(D);let G=Object.assign({},D);var q;this.secureProxy=D.secureProxy||typeof(q=G.protocol)=="string"&&/^https:?$/i.test(q),G.host=G.hostname||G.host,typeof G.port=="string"&&(G.port=parseInt(G.port,10)),!G.port&&G.host&&(G.port=this.secureProxy?443:80),G.host&&G.path&&(delete G.path,delete G.pathname),this.proxy=G}callback(P,D){return c(this,void 0,void 0,function*(){let{proxy:G,secureProxy:q}=this,N=g.default.parse(P.path),M;if(N.protocol||(N.protocol="http:"),N.hostname||(N.hostname=D.hostname||D.host||null),N.port==null&&(D.port,1)&&(N.port=String(D.port)),N.port==="80"&&(N.port=""),P.path=g.default.format(N),G.auth&&P.setHeader("Proxy-Authorization",`Basic ${Buffer.from(G.auth).toString("base64")}`),q?(I("Creating `tls.Socket`: %o",G),M=f.default.connect(G)):(I("Creating `net.Socket`: %o",G),M=p.default.connect(G)),P._header){let O,S;I("Regenerating stored HTTP header string for request"),P._header=null,P._implicitHeader(),P.output&&P.output.length>0?(I("Patching connection write() output buffer with updated header"),O=P.output[0],S=O.indexOf(`\r
\r
`)+4,P.output[0]=P._header+O.substring(S),I("Output buffer: %o",P.output)):P.outputData&&P.outputData.length>0&&(I("Patching connection write() output buffer with updated header"),O=P.outputData[0].data,S=O.indexOf(`\r
\r
`)+4,P.outputData[0].data=P._header+O.substring(S),I("Output buffer: %o",P.outputData[0].data))}return yield(0,y.default)(M,"connect"),M})}}a.default=B},201:function(o,a,u){"use strict";let c=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(u(370));function l(p){return new c.default(p)}(function(p){p.HttpProxyAgent=c.default,p.prototype=c.default.prototype})(l||(l={})),o.exports=l},146:function(o,a,u){"use strict";var c=this&&this.__awaiter||function(D,G,q,N){return new(q||(q=Promise))(function(M,O){function S(X){try{R(N.next(X))}catch(L){O(L)}}function $(X){try{R(N.throw(X))}catch(L){O(L)}}function R(X){var L;X.done?M(X.value):(L=X.value,L instanceof q?L:new q(function(C){C(L)})).then(S,$)}R((N=N.apply(D,G||[])).next())})},l=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(u(808)),f=l(u(404)),g=l(u(310)),m=l(u(491)),y=l(u(374)),b=u(54),I=l(u(829)),B=y.default("https-proxy-agent:agent");class W extends b.Agent{constructor(G){let q;if(q=typeof G=="string"?g.default.parse(G):G,!q)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");B("creating new HttpsProxyAgent instance: %o",q),super(q);let N=Object.assign({},q);var M;this.secureProxy=q.secureProxy||typeof(M=N.protocol)=="string"&&/^https:?$/i.test(M),N.host=N.hostname||N.host,typeof N.port=="string"&&(N.port=parseInt(N.port,10)),!N.port&&N.host&&(N.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in N)&&(N.ALPNProtocols=["http 1.1"]),N.host&&N.path&&(delete N.path,delete N.pathname),this.proxy=N}callback(G,q){return c(this,void 0,void 0,function*(){let{proxy:N,secureProxy:M}=this,O;M?(B("Creating `tls.Socket`: %o",N),O=f.default.connect(N)):(B("Creating `net.Socket`: %o",N),O=p.default.connect(N));let S=Object.assign({},N.headers),$=`CONNECT ${q.host}:${q.port} HTTP/1.1\r
`;N.auth&&(S["Proxy-Authorization"]=`Basic ${Buffer.from(N.auth).toString("base64")}`);let{host:R,port:X,secureEndpoint:L}=q;(function(oe,ie){return Boolean(!ie&&oe===80||ie&&oe===443)})(X,L)||(R+=`:${X}`),S.Host=R,S.Connection="close";for(let oe of Object.keys(S))$+=`${oe}: ${S[oe]}\r
`;let C=I.default(O);O.write(`${$}\r
`);let{statusCode:te,buffered:re}=yield C;if(te===200){if(G.once("socket",P),q.secureEndpoint){B("Upgrading socket connection to TLS");let oe=q.servername||q.host;return f.default.connect(Object.assign(Object.assign({},function(ie,...de){let we={},ge;for(ge in ie)de.includes(ge)||(we[ge]=ie[ge]);return we}(q,"host","hostname","path","port")),{socket:O,servername:oe}))}return O}O.destroy();let se=new p.default.Socket({writable:!1});return se.readable=!0,G.once("socket",oe=>{B("replaying proxy buffer for failed request"),m.default(oe.listenerCount("data")>0),oe.push(re),oe.push(null)}),se})}}function P(D){D.resume()}a.default=W},18:function(o,a,u){"use strict";let c=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(u(146));function l(p){return new c.default(p)}(function(p){p.HttpsProxyAgent=c.default,p.prototype=c.default.prototype})(l||(l={})),o.exports=l},829:function(o,a,u){"use strict";var c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});let l=c(u(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(p){return new Promise((f,g)=>{let m=0,y=[];function b(){let W=p.read();W?function(P){y.push(P),m+=P.length;let D=Buffer.concat(y,m);if(D.indexOf(`\r
\r
`)===-1)return l("have not received end of HTTP headers yet..."),void b();let G=D.toString("ascii",0,D.indexOf(`\r
`)),q=+G.split(" ")[1];l("got proxy server response: %o",G),f({statusCode:q,buffered:D})}(W):p.once("readable",b)}function I(W){l("onclose had error %o",W)}function B(){l("onend")}p.on("error",function W(P){p.removeListener("end",B),p.removeListener("error",W),p.removeListener("close",I),p.removeListener("readable",b),l("onerror %o",P),g(P)}),p.on("close",I),p.on("end",B),b()})}},539:function(o,a,u){"use strict";var c,l=this&&this.__extends||(c=function(M,O){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,$){S.__proto__=$}||function(S,$){for(var R in $)Object.prototype.hasOwnProperty.call($,R)&&(S[R]=$[R])},c(M,O)},function(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function S(){this.constructor=M}c(M,O),M.prototype=O===null?Object.create(O):(S.prototype=O.prototype,new S)}),p=this&&this.__assign||function(){return p=Object.assign||function(M){for(var O,S=1,$=arguments.length;S<$;S++)for(var R in O=arguments[S])Object.prototype.hasOwnProperty.call(O,R)&&(M[R]=O[R]);return M},p.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var f=u(685),g=u(687),m=u(310),y=u(472),b=u(796),I=u(201),B=u(18);if(process.env.VSCODE_NLS_CONFIG){var W=process.env.VSCODE_NLS_CONFIG;y.config(JSON.parse(W))}var P=y.loadMessageBundle(),D=void 0,G=!0;function q(M){var O;return new Promise(function(S,$){var R=(0,m.parse)(M.url),X={hostname:R.hostname,agent:!!M.agent&&M.agent,port:R.port?parseInt(R.port):R.protocol==="https:"?443:80,path:R.path,method:M.type||"GET",headers:M.headers,rejectUnauthorized:typeof M.strictSSL!="boolean"||M.strictSSL};M.user&&M.password&&(X.auth=M.user+":"+M.password);var L=function(C){if(C.statusCode>=300&&C.statusCode<400&&M.followRedirects&&M.followRedirects>0&&C.headers.location){var te=C.headers.location;te.startsWith("/")&&(te=(0,m.format)({protocol:R.protocol,hostname:R.hostname,port:R.port,pathname:te})),S(q(function(re){for(var se=[],oe=1;oe<arguments.length;oe++)se[oe-1]=arguments[oe];return se.forEach(function(ie){return Object.keys(ie).forEach(function(de){return re[de]=ie[de]})}),re}({},M,{url:te,followRedirects:M.followRedirects-1})))}else S({req:O,res:C})};(O=R.protocol==="https:"?g.request(X,L):f.request(X,L)).on("error",$),M.timeout&&O.setTimeout(M.timeout),M.data&&O.write(M.data),O.end(),M.token&&(M.token.isCancellationRequested&&O.destroy(new N),M.token.onCancellationRequested(function(){O.destroy(new N)}))})}a.configure=function(M,O){D=M,G=O},a.xhr=function(M){return typeof(M=p({},M)).strictSSL!="boolean"&&(M.strictSSL=G),M.agent||(M.agent=function(O,S){S===void 0&&(S={});var $=(0,m.parse)(O),R=S.proxyUrl||function(C){return C.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:C.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}($);if(!R)return null;var X=(0,m.parse)(R);if(!/^https?:$/.test(X.protocol))return null;var L={host:X.hostname,port:Number(X.port),auth:X.auth,rejectUnauthorized:typeof S.strictSSL!="boolean"||S.strictSSL,protocol:X.protocol};return $.protocol==="http:"?I(L):B(L)}(M.url,{proxyUrl:D,strictSSL:G})),typeof M.followRedirects!="number"&&(M.followRedirects=5),q(M).then(function(O){return new Promise(function(S,$){var R,X,L=O.res,C=L,te=!1,re=L.headers&&L.headers["content-encoding"];if(re&&(R=M.type,X=O.res.statusCode,!(R==="HEAD"||X>=100&&X<200||X===204||X===304))){var se={flush:b.constants.Z_SYNC_FLUSH,finishFlush:b.constants.Z_SYNC_FLUSH};if(re==="gzip"){var oe=b.createGunzip(se);L.pipe(oe),C=oe}else if(re==="deflate"){var ie=b.createInflate(se);L.pipe(ie),C=ie}}var de=[];C.on("data",function(we){return de.push(we)}),C.on("end",function(){if(!te){if(te=!0,M.followRedirects>0&&(L.statusCode>=300&&L.statusCode<=303||L.statusCode===307)){var we=L.headers.location;if(we.startsWith("/")){var ge=(0,m.parse)(M.url);we=(0,m.format)({protocol:ge.protocol,hostname:ge.hostname,port:ge.port,pathname:we})}if(we){var Pt={type:M.type,url:we,user:M.user,password:M.password,headers:M.headers,timeout:M.timeout,followRedirects:M.followRedirects-1,data:M.data,token:M.token};return void(0,a.xhr)(Pt).then(S,$)}}var be=Buffer.concat(de),_r={responseText:be.toString(),body:be,status:L.statusCode,headers:L.headers||{}};L.statusCode>=200&&L.statusCode<300||L.statusCode===1223?S(_r):$(_r)}}),C.on("error",function(we){var ge;ge=N.is(we)?we:{responseText:P("error","Unable to access {0}. Error: {1}",M.url,we.message),body:Buffer.concat(de),status:500,headers:{}},te=!0,$(ge)}),M.token&&(M.token.isCancellationRequested&&C.destroy(new N),M.token.onCancellationRequested(function(){C.destroy(new N)}))})},function(O){var S;return S=N.is(O)?O:{responseText:M.agent?P("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",M.url,O.message):P("error.cannot.connect","Unable to connect to {0}. Error: {1}",M.url,O.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(S)})},a.getErrorStatusDescription=function(M){if(!(M<400))switch(M){case 400:return P("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return P("status.401","Unauthorized. The server is refusing to respond.");case 403:return P("status.403","Forbidden. The server is refusing to respond.");case 404:return P("status.404","Not Found. The requested location could not be found.");case 405:return P("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return P("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return P("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return P("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return P("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return P("status.410","Gone. The requested page is no longer available.");case 411:return P("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return P("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return P("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return P("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return P("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return P("status.500","Internal Server Error.");case 501:return P("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return P("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return P("status.416","HTTP status code {0}",M)}};var N=function(M){function O(){var S=M.call(this,"The user aborted a request")||this;return S.name="AbortError",Object.setPrototypeOf(S,O.prototype),S}return l(O,M),O.is=function(S){return S instanceof O},O}(Error)},800:(o,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var c,l,p,f=u(926);function g(y){return y!==void 0}function m(y,b){return a.isPseudo&&(y="\uFF3B"+y.replace(/[aouei]/g,"$&$&")+"\uFF3D"),b.length===0?y:y.replace(/\{(\d+)\}/g,function(I,B){var W=B[0],P=b[W],D=I;return typeof P=="string"?D=P:typeof P!="number"&&typeof P!="boolean"&&P!=null||(D=String(P)),D})}(p=a.MessageFormat||(a.MessageFormat={})).file="file",p.bundle="bundle",p.both="both",(l=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",l.languagePack="languagePack",function(y){y.is=function(b){var I=b;return I&&g(I.key)&&g(I.comment)}}(c||(c={})),a.isDefined=g,a.isPseudo=!1,a.setPseudo=function(y){a.isPseudo=y},a.format=m,a.localize=function(y,b){for(var I=[],B=2;B<arguments.length;B++)I[B-2]=arguments[B];return m(b,I)},a.loadMessageBundle=function(y){return(0,f.default)().loadMessageBundle(y)},a.config=function(y){return(0,f.default)().config(y)}},926:(o,a)=>{"use strict";var u;function c(){if(u===void 0)throw new Error("No runtime abstraction layer installed");return u}Object.defineProperty(a,"__esModule",{value:!0}),function(l){l.install=function(p){if(p===void 0)throw new Error("No runtime abstraction layer provided");u=p}}(c||(c={})),a.default=c},472:(o,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var c=u(17),l=u(147),p=u(926),f=u(800),g=u(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return g.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return g.BundleFormat}});var m,y,b=Object.prototype.toString;function I(O){return b.call(O)==="[object Number]"}function B(O){return b.call(O)==="[object String]"}function W(O){return JSON.parse(l.readFileSync(O,"utf8"))}function P(O){return function(S,$){for(var R=[],X=2;X<arguments.length;X++)R[X-2]=arguments[X];return I(S)?S>=O.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,f.format)(O[S],R):B($)?(console.warn("Message ".concat($," didn't get externalized correctly.")),(0,f.format)($,R)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function D(O,S){return m[O]=S,S}function G(O){try{return function(S){var $=W(c.join(S,"nls.metadata.json")),R=Object.create(null);for(var X in $){var L=$[X];R[X]=L.messages}return R}(O)}catch(S){return void console.log("Generating default bundle from meta data failed.",S)}}function q(O,S){var $;if(y.languagePackSupport===!0&&y.cacheRoot!==void 0&&y.languagePackId!==void 0&&y.translationsConfigFile!==void 0&&y.translationsConfig!==void 0)try{$=function(X,L){var C,te,re,se=c.join(y.cacheRoot,"".concat(X.id,"-").concat(X.hash,".json")),oe=!1,ie=!1;try{return C=JSON.parse(l.readFileSync(se,{encoding:"utf8",flag:"r"})),te=se,re=new Date,l.utimes(te,re,re,function(){}),C}catch(de){if(de.code==="ENOENT")ie=!0;else{if(!(de instanceof SyntaxError))throw de;console.log("Syntax error parsing message bundle: ".concat(de.message,".")),l.unlink(se,function(we){we&&console.error("Deleting corrupted bundle ".concat(se," failed."))}),oe=!0}}if(C=function(de,we){var ge=y.translationsConfig[de.id];if(ge){var Pt=W(ge).contents,be=W(c.join(we,"nls.metadata.json")),_r=Object.create(null);for(var Xr in be){var Q=be[Xr],Ce=Pt["".concat(de.outDir,"/").concat(Xr)];if(Ce){for(var Y=[],He=0;He<Q.keys.length;He++){var Ue=Q.keys[He],ct=Ce[B(Ue)?Ue:Ue.key];ct===void 0&&(ct=Q.messages[He]),Y.push(ct)}_r[Xr]=Y}else _r[Xr]=Q.messages}return _r}}(X,L),!C||oe)return C;if(ie)try{l.writeFileSync(se,JSON.stringify(C),{encoding:"utf8",flag:"wx"})}catch(de){if(de.code==="EEXIST")return C;throw de}return C}(O,S)}catch(X){console.log("Load or create bundle failed ",X)}if(!$){if(y.languagePackSupport)return G(S);var R=function(X){for(var L=y.language;L;){var C=c.join(X,"nls.bundle.".concat(L,".json"));if(l.existsSync(C))return C;var te=L.lastIndexOf("-");L=te>0?L.substring(0,te):void 0}if(L===void 0&&(C=c.join(X,"nls.bundle.json"),l.existsSync(C)))return C}(S);if(R)try{return W(R)}catch(X){console.log("Loading in the box message bundle failed.",X)}$=G(S)}return $}function N(O){if(!O)return f.localize;var S=c.extname(O);if(S&&(O=O.substr(0,O.length-S.length)),y.messageFormat===f.MessageFormat.both||y.messageFormat===f.MessageFormat.bundle){var $=function(oe){for(var ie,de=c.dirname(oe);ie=c.join(de,"nls.metadata.header.json"),!l.existsSync(ie);){var we=c.dirname(de);if(we===de){ie=void 0;break}de=we}return ie}(O);if($){var R=c.dirname($),X=m[R];if(X===void 0)try{var L=JSON.parse(l.readFileSync($,"utf8"));try{var C=q(L,R);X=D(R,C?{header:L,nlsBundle:C}:null)}catch(oe){console.error("Failed to load nls bundle",oe),X=D(R,null)}}catch(oe){console.error("Failed to read header file",oe),X=D(R,null)}if(X){var te=O.substr(R.length+1).replace(/\\/g,"/"),re=X.nlsBundle[te];return re===void 0?(console.error("Messages for file ".concat(O," not found. See console for details.")),function(){return"Messages not found."}):P(re)}}}if(y.messageFormat===f.MessageFormat.both||y.messageFormat===f.MessageFormat.file)try{var se=W(function(oe){var ie;if(!(y.cacheLanguageResolution&&ie)){if(f.isPseudo||!y.language)ie=".nls.json";else for(var de=y.language;de;){var we=".nls."+de+".json";if(l.existsSync(oe+we)){ie=we;break}var ge=de.lastIndexOf("-");ge>0?de=de.substring(0,ge):(ie=".nls.json",de=null)}y.cacheLanguageResolution}return oe+ie}(O));return Array.isArray(se)?P(se):(0,f.isDefined)(se.messages)&&(0,f.isDefined)(se.keys)?P(se.messages):(console.error("String bundle '".concat(O,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(oe){oe.code!=="ENOENT"&&console.error("Failed to load single file bundle",oe)}return console.error("Failed to load message bundle for file ".concat(O)),function(){return"Failed to load message bundle. See console for details."}}function M(O){return O&&(B(O.locale)&&(y.locale=O.locale.toLowerCase(),y.language=y.locale,m=Object.create(null)),O.messageFormat!==void 0&&(y.messageFormat=O.messageFormat),O.bundleFormat===f.BundleFormat.standalone&&y.languagePackSupport===!0&&(y.languagePackSupport=!1)),(0,f.setPseudo)(y.locale==="pseudo"),N}(function(){if(y={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:f.MessageFormat.bundle},B(process.env.VSCODE_NLS_CONFIG))try{var O=JSON.parse(process.env.VSCODE_NLS_CONFIG),S=void 0;if(O.availableLanguages){var $=O.availableLanguages["*"];B($)&&(S=$)}if(B(O.locale)&&(y.locale=O.locale.toLowerCase()),S===void 0?y.language=y.locale:S!=="en"&&(y.language=S),function(X){return X===!0||X===!1}(O._languagePackSupport)&&(y.languagePackSupport=O._languagePackSupport),B(O._cacheRoot)&&(y.cacheRoot=O._cacheRoot),B(O._languagePackId)&&(y.languagePackId=O._languagePackId),B(O._translationsConfigFile)){y.translationsConfigFile=O._translationsConfigFile;try{y.translationsConfig=W(y.translationsConfigFile)}catch{if(O._corruptedFile){var R=c.dirname(O._corruptedFile);l.exists(R,function(L){L&&l.writeFile(O._corruptedFile,"corrupted","utf8",function(C){console.error(C)})})}}}}catch{}(0,f.setPseudo)(y.locale==="pseudo"),m=Object.create(null)})(),a.loadMessageBundle=N,a.config=M,p.default.install(Object.freeze({loadMessageBundle:N,config:M}))},374:(o,a)=>{function u(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return u}},491:o=>{"use strict";o.exports=w("assert")},361:o=>{"use strict";o.exports=w("events")},147:o=>{"use strict";o.exports=w("fs")},685:o=>{"use strict";o.exports=w("http")},687:o=>{"use strict";o.exports=w("https")},808:o=>{"use strict";o.exports=w("net")},17:o=>{"use strict";o.exports=w("path")},404:o=>{"use strict";o.exports=w("tls")},310:o=>{"use strict";o.exports=w("url")},796:o=>{"use strict";o.exports=w("zlib")}},r={},i=function o(a){var u=r[a];if(u!==void 0)return u.exports;var c=r[a]={exports:{}};return e[a].call(c.exports,c,c.exports,o),c.exports}(539),n=t;for(var s in i)n[s]=i[s];i.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})()}}),rx={};G8(rx,{config:()=>eV,t:()=>tV});ix.exports=z8(rx);var J8=w("fs"),Y8=w("fs/promises"),QE=K8(X8());async function Q8(t){if(t.protocol==="file:")return await(0,Y8.readFile)(t,"utf8");if(t.protocol==="http:"||t.protocol==="https:")try{let e=await(0,QE.xhr)({url:t.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(e.body)}catch(e){throw new Error(e.responseText??(0,QE.getErrorStatusDescription)(e.status)??e.toString())}throw new Error("Unsupported protocol")}function Z8(t){return(0,J8.readFileSync)(t,"utf8")}var Uu;function eV(t){if("contents"in t){typeof t.contents=="string"?Uu=JSON.parse(t.contents):Uu=t.contents;return}if("fsPath"in t){let e=Z8(t.fsPath),r=JSON.parse(e);Uu=ZE(r)?r.contents.bundle:r;return}if(t.uri){let e=t.uri;return typeof t.uri=="string"&&(e=new URL(t.uri)),new Promise((r,i)=>{let n=Q8(e).then(s=>{try{let o=JSON.parse(s);Uu=ZE(o)?o.contents.bundle:o}catch(o){i(o)}}).catch(s=>{i(s)});r(n)})}}function tV(...t){let e=t[0],r,i,n;if(typeof e=="string"?(r=e,i=e,t.splice(0,1),n=!t||typeof t[0]!="object"?t:t[0]):(i=e.message,r=i,e.comment&&e.comment.length>0&&(r+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),n=e.args??{}),!Uu)return Ip(i,n);let s=Uu[r];return s?typeof s=="string"?Ip(s,n):s.comment?Ip(s.message,n):Ip(i,n):Ip(i,n)}var rV=/{([^}]+)}/g;function Ip(t,e){return t.replace(rV,(r,i)=>e[i]??r)}function ZE(t){var e;return typeof((e=t==null?void 0:t.contents)==null?void 0:e.bundle)=="object"&&typeof(t==null?void 0:t.version)=="string"}});var Lt=v(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.NON_CUSTOM_TAG_KEYS=De.PRE_DESTROY=De.POST_CONSTRUCT=De.DESIGN_PARAM_TYPES=De.PARAM_TYPES=De.TAGGED_PROP=De.TAGGED=De.MULTI_INJECT_TAG=De.INJECT_TAG=De.OPTIONAL_TAG=De.UNMANAGED_TAG=De.NAME_TAG=De.NAMED_TAG=void 0;De.NAMED_TAG="named";De.NAME_TAG="name";De.UNMANAGED_TAG="unmanaged";De.OPTIONAL_TAG="optional";De.INJECT_TAG="inject";De.MULTI_INJECT_TAG="multi_inject";De.TAGGED="inversify:tagged";De.TAGGED_PROP="inversify:tagged_props";De.PARAM_TYPES="inversify:paramtypes";De.DESIGN_PARAM_TYPES="design:paramtypes";De.POST_CONSTRUCT="post_construct";De.PRE_DESTROY="pre_destroy";function aV(){return[De.INJECT_TAG,De.MULTI_INJECT_TAG,De.NAME_TAG,De.UNMANAGED_TAG,De.NAMED_TAG,De.OPTIONAL_TAG]}De.NON_CUSTOM_TAG_KEYS=aV()});var Wi=v(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.TargetTypeEnum=eo.BindingTypeEnum=eo.BindingScopeEnum=void 0;var uV={Request:"Request",Singleton:"Singleton",Transient:"Transient"};eo.BindingScopeEnum=uV;var cV={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};eo.BindingTypeEnum=cV;var lV={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};eo.TargetTypeEnum=lV});var to=v(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.id=void 0;var pV=0;function fV(){return pV++}_h.id=fV});var vx=v(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.Binding=void 0;var bx=Wi(),dV=to(),hV=function(){function t(e,r){this.id=(0,dV.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=r,this.type=bx.BindingTypeEnum.Invalid,this.constraint=function(i){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===bx.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}();wh.Binding=hV});var pr=v(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.STACK_OVERFLOW=ue.CIRCULAR_DEPENDENCY_IN_FACTORY=ue.ON_DEACTIVATION_ERROR=ue.PRE_DESTROY_ERROR=ue.POST_CONSTRUCT_ERROR=ue.ASYNC_UNBIND_REQUIRED=ue.MULTIPLE_POST_CONSTRUCT_METHODS=ue.MULTIPLE_PRE_DESTROY_METHODS=ue.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=ue.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=ue.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=ue.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=ue.ARGUMENTS_LENGTH_MISMATCH=ue.INVALID_DECORATOR_OPERATION=ue.INVALID_TO_SELF_VALUE=ue.LAZY_IN_SYNC=ue.INVALID_FUNCTION_BINDING=ue.INVALID_MIDDLEWARE_RETURN=ue.NO_MORE_SNAPSHOTS_AVAILABLE=ue.INVALID_BINDING_TYPE=ue.NOT_IMPLEMENTED=ue.CIRCULAR_DEPENDENCY=ue.UNDEFINED_INJECT_ANNOTATION=ue.MISSING_INJECT_ANNOTATION=ue.MISSING_INJECTABLE_ANNOTATION=ue.NOT_REGISTERED=ue.CANNOT_UNBIND=ue.AMBIGUOUS_MATCH=ue.KEY_NOT_FOUND=ue.NULL_ARGUMENT=ue.DUPLICATED_METADATA=ue.DUPLICATED_INJECTABLE_DECORATOR=void 0;ue.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";ue.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";ue.NULL_ARGUMENT="NULL argument";ue.KEY_NOT_FOUND="Key Not Found";ue.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";ue.CANNOT_UNBIND="Could not unbind serviceIdentifier:";ue.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";ue.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";ue.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var mV=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};ue.UNDEFINED_INJECT_ANNOTATION=mV;ue.CIRCULAR_DEPENDENCY="Circular dependency found:";ue.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";ue.INVALID_BINDING_TYPE="Invalid binding type:";ue.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";ue.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";ue.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var gV=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`};ue.LAZY_IN_SYNC=gV;ue.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";ue.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var HV=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")};ue.ARGUMENTS_LENGTH_MISMATCH=HV;ue.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";ue.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";ue.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";ue.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";ue.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";ue.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";ue.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var yV=function(t,e){return"@postConstruct error in class "+t+": "+e};ue.POST_CONSTRUCT_ERROR=yV;var bV=function(t,e){return"@preDestroy error in class "+t+": "+e};ue.PRE_DESTROY_ERROR=bV;var vV=function(t,e){return"onDeactivation() error in class "+t+": "+e};ue.ON_DEACTIVATION_ERROR=vV;var _V=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")};ue.CIRCULAR_DEPENDENCY_IN_FACTORY=_V;ue.STACK_OVERFLOW="Maximum call stack size exceeded"});var fv=v(hn=>{"use strict";var wV=hn&&hn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),IV=hn&&hn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AV=hn&&hn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wV(e,t,r);return IV(e,t),e};Object.defineProperty(hn,"__esModule",{value:!0});hn.MetadataReader=void 0;var pv=AV(Lt()),SV=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var r=Reflect.getMetadata(pv.PARAM_TYPES,e),i=Reflect.getMetadata(pv.TAGGED,e);return{compilerGeneratedMetadata:r,userGeneratedMetadata:i||{}}},t.prototype.getPropertiesMetadata=function(e){var r=Reflect.getMetadata(pv.TAGGED_PROP,e)||[];return r},t}();hn.MetadataReader=SV});var _x=v(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});Ih.BindingCount=void 0;var EV={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};Ih.BindingCount=EV});var dv=v(di=>{"use strict";var xV=di&&di.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),PV=di&&di.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LV=di&&di.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xV(e,t,r);return PV(e,t),e};Object.defineProperty(di,"__esModule",{value:!0});di.tryAndThrowErrorIfStackOverflow=di.isStackOverflowExeption=void 0;var CV=LV(pr());function wx(t){return t instanceof RangeError||t.message===CV.STACK_OVERFLOW}di.isStackOverflowExeption=wx;var DV=function(t,e){try{return t()}catch(r){throw wx(r)&&(r=e()),r}};di.tryAndThrowErrorIfStackOverflow=DV});var Vu=v(Ct=>{"use strict";var TV=Ct&&Ct.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),$V=Ct&&Ct.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),MV=Ct&&Ct.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&TV(e,t,r);return $V(e,t),e};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.getSymbolDescription=Ct.circularDependencyToException=Ct.listMetadataForTarget=Ct.listRegisteredBindingsForServiceIdentifier=Ct.getServiceIdentifierAsString=Ct.getFunctionName=void 0;var kV=MV(pr());function Ix(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}Ct.getServiceIdentifierAsString=Ix;function RV(t,e,r){var i="",n=r(t,e);return n.length!==0&&(i=`
Registered bindings:`,n.forEach(function(s){var o="Object";s.implementationType!==null&&(o=Ex(s.implementationType)),i=i+`
 `+o,s.constraint.metaData&&(i=i+" - "+s.constraint.metaData)})),i}Ct.listRegisteredBindingsForServiceIdentifier=RV;function Ax(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:Ax(t.parentRequest,e)}function OV(t){function e(i,n){n===void 0&&(n=[]);var s=Ix(i.serviceIdentifier);return n.push(s),i.parentRequest!==null?e(i.parentRequest,n):n}var r=e(t);return r.reverse().join(" --> ")}function Sx(t){t.childRequests.forEach(function(e){if(Ax(e,e.serviceIdentifier)){var r=OV(e);throw new Error(kV.CIRCULAR_DEPENDENCY+" "+r)}else Sx(e)})}Ct.circularDependencyToException=Sx;function NV(t,e){if(e.isTagged()||e.isNamed()){var r="",i=e.getNamedTag(),n=e.getCustomTags();return i!==null&&(r+=i.toString()+`
`),n!==null&&n.forEach(function(s){r+=s.toString()+`
`})," "+t+`
 `+t+" - "+r}else return" "+t}Ct.listMetadataForTarget=NV;function Ex(t){if(t.name)return t.name;var e=t.toString(),r=e.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+e}Ct.getFunctionName=Ex;function BV(t){return t.toString().slice(7,-1)}Ct.getSymbolDescription=BV});var xx=v(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.Context=void 0;var FV=to(),UV=function(){function t(e){this.id=(0,FV.id)(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}();Ah.Context=UV});var qi=v(mn=>{"use strict";var jV=mn&&mn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),WV=mn&&mn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qV=mn&&mn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jV(e,t,r);return WV(e,t),e};Object.defineProperty(mn,"__esModule",{value:!0});mn.Metadata=void 0;var VV=qV(Lt()),GV=function(){function t(e,r){this.key=e,this.value=r}return t.prototype.toString=function(){return this.key===VV.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();mn.Metadata=GV});var Px=v(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.Plan=void 0;var KV=function(){function t(e,r){this.parentContext=e,this.rootRequest=r}return t}();Sh.Plan=KV});var hv=v(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.LazyServiceIdentifer=void 0;var zV=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();Eh.LazyServiceIdentifer=zV});var Lx=v(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.QueryableString=void 0;var XV=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var r="",i=e.split("").reverse().join("");return r=this.str.split("").reverse().join(""),this.startsWith.call({str:r},i)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}();xh.QueryableString=XV});var mv=v(gn=>{"use strict";var JV=gn&&gn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),YV=gn&&gn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QV=gn&&gn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JV(e,t,r);return YV(e,t),e};Object.defineProperty(gn,"__esModule",{value:!0});gn.Target=void 0;var ds=QV(Lt()),ZV=to(),e4=Vu(),Cx=qi(),t4=Lx(),r4=function(){function t(e,r,i,n){this.id=(0,ZV.id)(),this.type=e,this.serviceIdentifier=i;var s=typeof r=="symbol"?(0,e4.getSymbolDescription)(r):r;this.name=new t4.QueryableString(s||""),this.identifier=r,this.metadata=new Array;var o=null;typeof n=="string"?o=new Cx.Metadata(ds.NAMED_TAG,n):n instanceof Cx.Metadata&&(o=n),o!==null&&this.metadata.push(o)}return t.prototype.hasTag=function(e){for(var r=0,i=this.metadata;r<i.length;r++){var n=i[r];if(n.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(ds.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(e){return this.matchesTag(ds.MULTI_INJECT_TAG)(e)},t.prototype.isNamed=function(){return this.hasTag(ds.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return ds.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})})},t.prototype.isOptional=function(){return this.matchesTag(ds.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===ds.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return ds.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(ds.NAMED_TAG)(e)},t.prototype.matchesTag=function(e){var r=this;return function(i){for(var n=0,s=r.metadata;n<s.length;n++){var o=s[n];if(o.key===e&&o.value===i)return!0}return!1}},t}();gn.Target=r4});var Nx=v(fr=>{"use strict";var i4=fr&&fr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),n4=fr&&fr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dx=fr&&fr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i4(e,t,r);return n4(e,t),e},Ph=fr&&fr.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(fr,"__esModule",{value:!0});fr.getFunctionName=fr.getBaseClassDependencyCount=fr.getDependencies=void 0;var s4=hv(),gv=Dx(pr()),Tx=Wi(),Sp=Dx(Lt()),Hv=Vu();Object.defineProperty(fr,"getFunctionName",{enumerable:!0,get:function(){return Hv.getFunctionName}});var $x=mv();function o4(t,e){var r=(0,Hv.getFunctionName)(e);return Mx(t,r,e,!1)}fr.getDependencies=o4;function Mx(t,e,r,i){var n=t.getConstructorMetadata(r),s=n.compilerGeneratedMetadata;if(s===void 0){var o=gv.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(o)}var a=n.userGeneratedMetadata,u=Object.keys(a),c=r.length===0&&u.length>0,l=u.length>r.length,p=c||l?u.length:r.length,f=u4(i,e,s,a,p),g=kx(t,r,e),m=Ph(Ph([],f,!0),g,!0);return m}function a4(t,e,r,i,n){var s=n[t.toString()]||[],o=Ox(s),a=o.unmanaged!==!0,u=i[t],c=o.inject||o.multiInject;if(u=c||u,u instanceof s4.LazyServiceIdentifer&&(u=u.unwrap()),a){var l=u===Object,p=u===Function,f=u===void 0,g=l||p||f;if(!e&&g){var m=gv.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+r+".";throw new Error(m)}var y=new $x.Target(Tx.TargetTypeEnum.ConstructorArgument,o.targetName,u);return y.metadata=s,y}return null}function u4(t,e,r,i,n){for(var s=[],o=0;o<n;o++){var a=o,u=a4(a,t,e,r,i);u!==null&&s.push(u)}return s}function c4(t,e,r,i){var n=t||e;if(n===void 0){var s=gv.MISSING_INJECTABLE_ANNOTATION+" for property "+String(r)+" in class "+i+".";throw new Error(s)}return n}function kx(t,e,r){for(var i=t.getPropertiesMetadata(e),n=[],s=Object.getOwnPropertySymbols(i),o=Object.keys(i),a=o.concat(s),u=0,c=a;u<c.length;u++){var l=c[u],p=i[l],f=Ox(p),g=f.targetName||l,m=c4(f.inject,f.multiInject,l,r),y=new $x.Target(Tx.TargetTypeEnum.ClassProperty,g,m);y.metadata=p,n.push(y)}var b=Object.getPrototypeOf(e.prototype).constructor;if(b!==Object){var I=kx(t,b,r);n=Ph(Ph([],n,!0),I,!0)}return n}function Rx(t,e){var r=Object.getPrototypeOf(e.prototype).constructor;if(r!==Object){var i=(0,Hv.getFunctionName)(r),n=Mx(t,i,r,!0),s=n.map(function(u){return u.metadata.filter(function(c){return c.key===Sp.UNMANAGED_TAG})}),o=[].concat.apply([],s).length,a=n.length-o;return a>0?a:Rx(t,r)}else return 0}fr.getBaseClassDependencyCount=Rx;function Ox(t){var e={};return t.forEach(function(r){e[r.key.toString()]=r.value}),{inject:e[Sp.INJECT_TAG],multiInject:e[Sp.MULTI_INJECT_TAG],targetName:e[Sp.NAME_TAG],unmanaged:e[Sp.UNMANAGED_TAG]}}});var Bx=v(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.Request=void 0;var l4=to(),p4=function(){function t(e,r,i,n,s){this.id=(0,l4.id)(),this.serviceIdentifier=e,this.parentContext=r,this.parentRequest=i,this.target=s,this.childRequests=[],this.bindings=Array.isArray(n)?n:[n],this.requestScope=i===null?new Map:null}return t.prototype.addChildRequest=function(e,r,i){var n=new t(e,this.parentContext,this,r,i);return this.childRequests.push(n),n},t}();Lh.Request=p4});var wv=v(Or=>{"use strict";var f4=Or&&Or.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),d4=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jx=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f4(e,t,r);return d4(e,t),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.getBindingDictionary=Or.createMockRequest=Or.plan=void 0;var Ch=_x(),bv=jx(pr()),Wx=Wi(),Fx=jx(Lt()),h4=dv(),Gu=Vu(),qx=xx(),vv=qi(),m4=Px(),yv=Nx(),_v=Bx(),Vx=mv();function Gx(t){return t._bindingDictionary}Or.getBindingDictionary=Gx;function g4(t,e,r,i,n,s){var o=t?Fx.MULTI_INJECT_TAG:Fx.INJECT_TAG,a=new vv.Metadata(o,r),u=new Vx.Target(e,i,r,a);if(n!==void 0){var c=new vv.Metadata(n,s);u.metadata.push(c)}return u}function Ux(t,e,r,i,n){var s=Ep(r.container,n.serviceIdentifier),o=[];return s.length===Ch.BindingCount.NoBindingsAvailable&&r.container.options.autoBindInjectable&&typeof n.serviceIdentifier=="function"&&t.getConstructorMetadata(n.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(n.serviceIdentifier).toSelf(),s=Ep(r.container,n.serviceIdentifier)),e?o=s:o=s.filter(function(a){var u=new _v.Request(a.serviceIdentifier,r,i,a,n);return a.constraint(u)}),H4(n.serviceIdentifier,o,n,r.container),o}function H4(t,e,r,i){switch(e.length){case Ch.BindingCount.NoBindingsAvailable:if(r.isOptional())return e;var n=(0,Gu.getServiceIdentifierAsString)(t),s=bv.NOT_REGISTERED;throw s+=(0,Gu.listMetadataForTarget)(n,r),s+=(0,Gu.listRegisteredBindingsForServiceIdentifier)(i,n,Ep),new Error(s);case Ch.BindingCount.OnlyOneBindingAvailable:return e;case Ch.BindingCount.MultipleBindingsAvailable:default:if(r.isArray())return e;var n=(0,Gu.getServiceIdentifierAsString)(t),s=bv.AMBIGUOUS_MATCH+" "+n;throw s+=(0,Gu.listRegisteredBindingsForServiceIdentifier)(i,n,Ep),new Error(s)}}function Kx(t,e,r,i,n,s){var o,a;if(n===null){o=Ux(t,e,i,null,s),a=new _v.Request(r,i,null,o,s);var u=new m4.Plan(i,a);i.addPlan(u)}else o=Ux(t,e,i,n,s),a=n.addChildRequest(s.serviceIdentifier,o,s);o.forEach(function(c){var l=null;if(s.isArray())l=a.addChildRequest(c.serviceIdentifier,c,s);else{if(c.cache)return;l=a}if(c.type===Wx.BindingTypeEnum.Instance&&c.implementationType!==null){var p=(0,yv.getDependencies)(t,c.implementationType);if(!i.container.options.skipBaseClassChecks){var f=(0,yv.getBaseClassDependencyCount)(t,c.implementationType);if(p.length<f){var g=bv.ARGUMENTS_LENGTH_MISMATCH((0,yv.getFunctionName)(c.implementationType));throw new Error(g)}}p.forEach(function(m){Kx(t,!1,m.serviceIdentifier,i,l,m)})}})}function Ep(t,e){var r=[],i=Gx(t);return i.hasKey(e)?r=i.get(e):t.parent!==null&&(r=Ep(t.parent,e)),r}function y4(t,e,r,i,n,s,o,a){a===void 0&&(a=!1);var u=new qx.Context(e),c=g4(r,i,n,"",s,o);try{return Kx(t,a,n,u,null,c),u}catch(l){throw(0,h4.isStackOverflowExeption)(l)&&(0,Gu.circularDependencyToException)(u.plan.rootRequest),l}}Or.plan=y4;function b4(t,e,r,i){var n=new Vx.Target(Wx.TargetTypeEnum.Variable,"",e,new vv.Metadata(r,i)),s=new qx.Context(t),o=new _v.Request(e,s,null,[],n);return o}Or.createMockRequest=b4});var xp=v(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.isPromiseOrContainsPromise=Ku.isPromise=void 0;function Iv(t){var e=typeof t=="object"&&t!==null||typeof t=="function";return e&&typeof t.then=="function"}Ku.isPromise=Iv;function v4(t){return Iv(t)?!0:Array.isArray(t)&&t.some(Iv)}Ku.isPromiseOrContainsPromise=v4});var zx=v(Hn=>{"use strict";var _4=Hn&&Hn.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(p){o(p)}}function u(l){try{c(i.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})},w4=Hn&&Hn.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],n=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.saveToScope=Hn.tryGetFromScope=void 0;var Dh=pe(),I4=xp(),A4=function(t,e){return e.scope===Dh.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===Dh.BindingScopeEnum.Request&&t.has(e.id)?t.get(e.id):null};Hn.tryGetFromScope=A4;var S4=function(t,e,r){e.scope===Dh.BindingScopeEnum.Singleton&&x4(e,r),e.scope===Dh.BindingScopeEnum.Request&&E4(t,e,r)};Hn.saveToScope=S4;var E4=function(t,e,r){t.has(e.id)||t.set(e.id,r)},x4=function(t,e){t.cache=e,t.activated=!0,(0,I4.isPromise)(e)&&P4(t,e)},P4=function(t,e){return _4(void 0,void 0,void 0,function(){var r,i;return w4(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e];case 1:return r=n.sent(),t.cache=r,[3,3];case 2:throw i=n.sent(),t.cache=null,t.activated=!1,i;case 3:return[2]}})})}});var Xx=v(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.FactoryType=void 0;var L4;(function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"})(L4=Pp.FactoryType||(Pp.FactoryType={}))});var Sv=v(Nr=>{"use strict";var C4=Nr&&Nr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),D4=Nr&&Nr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),T4=Nr&&Nr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C4(e,t,r);return D4(e,t),e};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.getFactoryDetails=Nr.ensureFullyBound=Nr.multiBindToService=void 0;var $4=pe(),M4=T4(pr()),yn=Wi(),Av=Xx(),k4=function(t){return function(e){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.forEach(function(n){return t.bind(n).toService(e)})}}};Nr.multiBindToService=k4;var R4=function(t){var e=null;switch(t.type){case yn.BindingTypeEnum.ConstantValue:case yn.BindingTypeEnum.Function:e=t.cache;break;case yn.BindingTypeEnum.Constructor:case yn.BindingTypeEnum.Instance:e=t.implementationType;break;case yn.BindingTypeEnum.DynamicValue:e=t.dynamicValue;break;case yn.BindingTypeEnum.Provider:e=t.provider;break;case yn.BindingTypeEnum.Factory:e=t.factory;break}if(e===null){var r=(0,$4.getServiceIdentifierAsString)(t.serviceIdentifier);throw new Error(M4.INVALID_BINDING_TYPE+" "+r)}};Nr.ensureFullyBound=R4;var O4=function(t){switch(t.type){case yn.BindingTypeEnum.Factory:return{factory:t.factory,factoryType:Av.FactoryType.Factory};case yn.BindingTypeEnum.Provider:return{factory:t.provider,factoryType:Av.FactoryType.Provider};case yn.BindingTypeEnum.DynamicValue:return{factory:t.dynamicValue,factoryType:Av.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}};Nr.getFactoryDetails=O4});var tP=v(Gt=>{"use strict";var zu=Gt&&Gt.__assign||function(){return zu=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},zu.apply(this,arguments)},N4=Gt&&Gt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),B4=Gt&&Gt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),F4=Gt&&Gt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N4(e,t,r);return B4(e,t),e},Qx=Gt&&Gt.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(p){o(p)}}function u(l){try{c(i.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})},Zx=Gt&&Gt.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],n=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},U4=Gt&&Gt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.resolveInstance=void 0;var Ev=pr(),Pv=Wi(),xv=F4(Lt()),Lv=xp();function j4(t,e){return t.reduce(function(r,i){var n=e(i),s=i.target.type;return s===Pv.TargetTypeEnum.ConstructorArgument?r.constructorInjections.push(n):(r.propertyRequests.push(i),r.propertyInjections.push(n)),r.isAsync||(r.isAsync=(0,Lv.isPromiseOrContainsPromise)(n)),r},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function W4(t,e,r){var i;if(e.length>0){var n=j4(e,r),s=zu(zu({},n),{constr:t});n.isAsync?i=q4(s):i=eP(s)}else i=new t;return i}function eP(t){var e,r=new((e=t.constr).bind.apply(e,U4([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach(function(i,n){var s=i.target.identifier,o=t.propertyInjections[n];r[s]=o}),r}function q4(t){return Qx(this,void 0,void 0,function(){var e,r;return Zx(this,function(i){switch(i.label){case 0:return[4,Jx(t.constructorInjections)];case 1:return e=i.sent(),[4,Jx(t.propertyInjections)];case 2:return r=i.sent(),[2,eP(zu(zu({},t),{constructorInjections:e,propertyInjections:r}))]}})})}function Jx(t){return Qx(this,void 0,void 0,function(){var e,r,i,n;return Zx(this,function(s){for(e=[],r=0,i=t;r<i.length;r++)n=i[r],Array.isArray(n)?e.push(Promise.all(n)):e.push(n);return[2,Promise.all(e)]})})}function Yx(t,e){var r=V4(t,e);return(0,Lv.isPromise)(r)?r.then(function(){return e}):e}function V4(t,e){var r,i;if(Reflect.hasMetadata(xv.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(xv.POST_CONSTRUCT,t);try{return(i=(r=e)[n.value])===null||i===void 0?void 0:i.call(r)}catch(s){throw new Error((0,Ev.POST_CONSTRUCT_ERROR)(t.name,s.message))}}}function G4(t,e){t.scope!==Pv.BindingScopeEnum.Singleton&&K4(t,e)}function K4(t,e){var r="Class cannot be instantiated in "+(t.scope===Pv.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof t.onDeactivation=="function")throw new Error((0,Ev.ON_DEACTIVATION_ERROR)(e.name,r));if(Reflect.hasMetadata(xv.PRE_DESTROY,e))throw new Error((0,Ev.PRE_DESTROY_ERROR)(e.name,r))}function z4(t,e,r,i){G4(t,e);var n=W4(e,r,i);return(0,Lv.isPromise)(n)?n.then(function(s){return Yx(e,s)}):Yx(e,n)}Gt.resolveInstance=z4});var oP=v(Br=>{"use strict";var X4=Br&&Br.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),J4=Br&&Br.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Y4=Br&&Br.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&X4(e,t,r);return J4(e,t),e},Q4=Br&&Br.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(p){o(p)}}function u(l){try{c(i.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})},Z4=Br&&Br.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],n=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Br,"__esModule",{value:!0});Br.resolve=void 0;var e5=Y4(pr()),Th=Wi(),t5=wv(),rP=zx(),Cv=xp(),nP=Sv(),r5=dv(),i5=tP(),Dv=function(t){return function(e){e.parentContext.setCurrentRequest(e);var r=e.bindings,i=e.childRequests,n=e.target&&e.target.isArray(),s=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(n&&s)return i.map(function(a){var u=Dv(t);return u(a)});if(e.target.isOptional()&&r.length===0)return;var o=r[0];return a5(t,e,o)}},n5=function(t,e){var r=(0,nP.getFactoryDetails)(t);return(0,r5.tryAndThrowErrorIfStackOverflow)(function(){return r.factory.bind(t)(e)},function(){return new Error(e5.CIRCULAR_DEPENDENCY_IN_FACTORY(r.factoryType,e.currentRequest.serviceIdentifier.toString()))})},s5=function(t,e,r){var i,n=e.childRequests;switch((0,nP.ensureFullyBound)(r),r.type){case Th.BindingTypeEnum.ConstantValue:case Th.BindingTypeEnum.Function:i=r.cache;break;case Th.BindingTypeEnum.Constructor:i=r.implementationType;break;case Th.BindingTypeEnum.Instance:i=(0,i5.resolveInstance)(r,r.implementationType,n,Dv(t));break;default:i=n5(r,e.parentContext)}return i},o5=function(t,e,r){var i=(0,rP.tryGetFromScope)(t,e);return i!==null||(i=r(),(0,rP.saveToScope)(t,e,i)),i},a5=function(t,e,r){return o5(t,r,function(){var i=s5(t,e,r);return(0,Cv.isPromise)(i)?i=i.then(function(n){return iP(e,r,n)}):i=iP(e,r,i),i})};function iP(t,e,r){var i=u5(t.parentContext,e,r),n=p5(t.parentContext.container),s,o=n.next();do{s=o.value;var a=t.parentContext,u=t.serviceIdentifier,c=l5(s,u);(0,Cv.isPromise)(i)?i=sP(c,a,i):i=c5(c,a,i),o=n.next()}while(o.done!==!0&&!(0,t5.getBindingDictionary)(s).hasKey(t.serviceIdentifier));return i}var u5=function(t,e,r){var i;return typeof e.onActivation=="function"?i=e.onActivation(t,r):i=r,i},c5=function(t,e,r){for(var i=t.next();!i.done;){if(r=i.value(e,r),(0,Cv.isPromise)(r))return sP(t,e,r);i=t.next()}return r},sP=function(t,e,r){return Q4(void 0,void 0,void 0,function(){var i,n;return Z4(this,function(s){switch(s.label){case 0:return[4,r];case 1:i=s.sent(),n=t.next(),s.label=2;case 2:return n.done?[3,4]:[4,n.value(e,i)];case 3:return i=s.sent(),n=t.next(),[3,2];case 4:return[2,i]}})})},l5=function(t,e){var r=t._activations;return r.hasKey(e)?r.get(e).values():[].values()},p5=function(t){for(var e=[t],r=t.parent;r!==null;)e.push(r),r=r.parent;var i=function(){var s=e.pop();return s!==void 0?{done:!1,value:s}:{done:!0,value:void 0}},n={next:i};return n};function f5(t){var e=Dv(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}Br.resolve=f5});var Tv=v(dr=>{"use strict";var d5=dr&&dr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),h5=dr&&dr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),m5=dr&&dr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&d5(e,t,r);return h5(e,t),e};Object.defineProperty(dr,"__esModule",{value:!0});dr.typeConstraint=dr.namedConstraint=dr.taggedConstraint=dr.traverseAncerstors=void 0;var g5=m5(Lt()),H5=qi(),aP=function(t,e){var r=t.parentRequest;return r!==null?e(r)?!0:aP(r,e):!1};dr.traverseAncerstors=aP;var uP=function(t){return function(e){var r=function(i){return i!==null&&i.target!==null&&i.target.matchesTag(t)(e)};return r.metaData=new H5.Metadata(t,e),r}};dr.taggedConstraint=uP;var y5=uP(g5.NAMED_TAG);dr.namedConstraint=y5;var b5=function(t){return function(e){var r=null;if(e!==null)if(r=e.bindings[0],typeof t=="string"){var i=r.serviceIdentifier;return i===t}else{var n=e.bindings[0].implementationType;return t===n}return!1}};dr.typeConstraint=b5});var Mh=v($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.BindingWhenSyntax=void 0;var wr=kh(),Nt=Tv(),v5=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new wr.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,Nt.namedConstraint)(e),new wr.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var r=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return r},new wr.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(e,r){return this._binding.constraint=(0,Nt.taggedConstraint)(e)(r),new wr.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Nt.typeConstraint)(e)(r.parentRequest)},new wr.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Nt.namedConstraint)(e)(r.parentRequest)},new wr.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(e,r){return this._binding.constraint=function(i){return i!==null&&(0,Nt.taggedConstraint)(e)(r)(i.parentRequest)},new wr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Nt.traverseAncerstors)(r,(0,Nt.typeConstraint)(e))},new wr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Nt.traverseAncerstors)(r,(0,Nt.typeConstraint)(e))},new wr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Nt.traverseAncerstors)(r,(0,Nt.namedConstraint)(e))},new wr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Nt.traverseAncerstors)(r,(0,Nt.namedConstraint)(e))},new wr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._binding.constraint=function(i){return i!==null&&(0,Nt.traverseAncerstors)(i,(0,Nt.taggedConstraint)(e)(r))},new wr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(e,r){return this._binding.constraint=function(i){return i!==null&&!(0,Nt.traverseAncerstors)(i,(0,Nt.taggedConstraint)(e)(r))},new wr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Nt.traverseAncerstors)(r,e)},new wr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Nt.traverseAncerstors)(r,e)},new wr.BindingOnSyntax(this._binding)},t}();$h.BindingWhenSyntax=v5});var kh=v(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.BindingOnSyntax=void 0;var cP=Mh(),_5=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new cP.BindingWhenSyntax(this._binding)},t.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new cP.BindingWhenSyntax(this._binding)},t}();Rh.BindingOnSyntax=_5});var $v=v(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});Oh.BindingWhenOnSyntax=void 0;var w5=kh(),I5=Mh(),A5=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new I5.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new w5.BindingOnSyntax(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();Oh.BindingWhenOnSyntax=A5});var lP=v(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.BindingInSyntax=void 0;var Mv=Wi(),kv=$v(),S5=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=Mv.BindingScopeEnum.Request,new kv.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=Mv.BindingScopeEnum.Singleton,new kv.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=Mv.BindingScopeEnum.Transient,new kv.BindingWhenOnSyntax(this._binding)},t}();Nh.BindingInSyntax=S5});var pP=v(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.BindingInWhenOnSyntax=void 0;var E5=lP(),x5=kh(),P5=Mh(),L5=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new P5.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new x5.BindingOnSyntax(this._binding),this._bindingInSyntax=new E5.BindingInSyntax(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();Bh.BindingInWhenOnSyntax=L5});var hP=v(bn=>{"use strict";var C5=bn&&bn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),D5=bn&&bn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),T5=bn&&bn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C5(e,t,r);return D5(e,t),e};Object.defineProperty(bn,"__esModule",{value:!0});bn.BindingToSyntax=void 0;var fP=T5(pr()),Ir=Wi(),dP=pP(),Xu=$v(),$5=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=Ir.BindingTypeEnum.Instance,this._binding.implementationType=e,new dP.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+fP.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=Ir.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Ir.BindingScopeEnum.Singleton,new Xu.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=Ir.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new dP.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=Ir.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=Ir.BindingScopeEnum.Singleton,new Xu.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=Ir.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=Ir.BindingScopeEnum.Singleton,new Xu.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(fP.INVALID_FUNCTION_BINDING);var r=this.toConstantValue(e);return this._binding.type=Ir.BindingTypeEnum.Function,this._binding.scope=Ir.BindingScopeEnum.Singleton,r},t.prototype.toAutoFactory=function(e){return this._binding.type=Ir.BindingTypeEnum.Factory,this._binding.factory=function(r){var i=function(){return r.container.get(e)};return i},this._binding.scope=Ir.BindingScopeEnum.Singleton,new Xu.BindingWhenOnSyntax(this._binding)},t.prototype.toAutoNamedFactory=function(e){return this._binding.type=Ir.BindingTypeEnum.Factory,this._binding.factory=function(r){return function(i){return r.container.getNamed(e,i)}},new Xu.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=Ir.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=Ir.BindingScopeEnum.Singleton,new Xu.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(r){return r.container.get(e)})},t}();bn.BindingToSyntax=$5});var mP=v(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});Fh.ContainerSnapshot=void 0;var M5=function(){function t(){}return t.of=function(e,r,i,n,s){var o=new t;return o.bindings=e,o.middleware=r,o.deactivations=n,o.activations=i,o.moduleActivationStore=s,o},t}();Fh.ContainerSnapshot=M5});var gP=v(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.isClonable=void 0;function k5(t){return typeof t=="object"&&t!==null&&"clone"in t&&typeof t.clone=="function"}Uh.isClonable=k5});var Rv=v(vn=>{"use strict";var R5=vn&&vn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),O5=vn&&vn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),N5=vn&&vn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R5(e,t,r);return O5(e,t),e};Object.defineProperty(vn,"__esModule",{value:!0});vn.Lookup=void 0;var Aa=N5(pr()),B5=gP(),F5=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,r){if(e==null)throw new Error(Aa.NULL_ARGUMENT);if(r==null)throw new Error(Aa.NULL_ARGUMENT);var i=this._map.get(e);i!==void 0?i.push(r):this._map.set(e,[r])},t.prototype.get=function(e){if(e==null)throw new Error(Aa.NULL_ARGUMENT);var r=this._map.get(e);if(r!==void 0)return r;throw new Error(Aa.KEY_NOT_FOUND)},t.prototype.remove=function(e){if(e==null)throw new Error(Aa.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(Aa.KEY_NOT_FOUND)},t.prototype.removeIntersection=function(e){var r=this;this.traverse(function(i,n){var s=e.hasKey(i)?e.get(i):void 0;if(s!==void 0){var o=n.filter(function(a){return!s.some(function(u){return a===u})});r._setValue(i,o)}})},t.prototype.removeByCondition=function(e){var r=this,i=[];return this._map.forEach(function(n,s){for(var o=[],a=0,u=n;a<u.length;a++){var c=u[a],l=e(c);l?i.push(c):o.push(c)}r._setValue(s,o)}),i},t.prototype.hasKey=function(e){if(e==null)throw new Error(Aa.NULL_ARGUMENT);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,i){r.forEach(function(n){return e.add(i,(0,B5.isClonable)(n)?n.clone():n)})}),e},t.prototype.traverse=function(e){this._map.forEach(function(r,i){e(i,r)})},t.prototype._setValue=function(e,r){r.length>0?this._map.set(e,r):this._map.delete(e)},t}();vn.Lookup=F5});var yP=v(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.ModuleActivationStore=void 0;var HP=Rv(),U5=function(){function t(){this._map=new Map}return t.prototype.remove=function(e){if(this._map.has(e)){var r=this._map.get(e);return this._map.delete(e),r}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(e,r,i){this._getModuleActivationHandlers(e).onDeactivations.add(r,i)},t.prototype.addActivation=function(e,r,i){this._getModuleActivationHandlers(e).onActivations.add(r,i)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,i){e._map.set(i,{onActivations:r.onActivations.clone(),onDeactivations:r.onDeactivations.clone()})}),e},t.prototype._getModuleActivationHandlers=function(e){var r=this._map.get(e);return r===void 0&&(r=this._getEmptyHandlersStore(),this._map.set(e,r)),r},t.prototype._getEmptyHandlersStore=function(){var e={onActivations:new HP.Lookup,onDeactivations:new HP.Lookup};return e},t}();jh.ModuleActivationStore=U5});var vP=v(Kt=>{"use strict";var qh=Kt&&Kt.__assign||function(){return qh=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},qh.apply(this,arguments)},j5=Kt&&Kt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),W5=Kt&&Kt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bP=Kt&&Kt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&j5(e,t,r);return W5(e,t),e},hi=Kt&&Kt.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(i.next(l))}catch(p){o(p)}}function u(l){try{c(i.throw(l))}catch(p){o(p)}}function c(l){l.done?s(l.value):n(l.value).then(a,u)}c((i=i.apply(t,e||[])).next())})},mi=Kt&&Kt.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],n=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},q5=Kt&&Kt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.Container=void 0;var V5=vx(),Vi=bP(pr()),Ju=Wi(),Sa=bP(Lt()),G5=fv(),Wh=wv(),K5=oP(),z5=hP(),Ea=xp(),X5=to(),J5=Vu(),Y5=mP(),Lp=Rv(),Q5=yP(),Z5=function(){function t(e){var r=e||{};if(typeof r!="object")throw new Error(""+Vi.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(r.defaultScope===void 0)r.defaultScope=Ju.BindingScopeEnum.Transient;else if(r.defaultScope!==Ju.BindingScopeEnum.Singleton&&r.defaultScope!==Ju.BindingScopeEnum.Transient&&r.defaultScope!==Ju.BindingScopeEnum.Request)throw new Error(""+Vi.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(r.autoBindInjectable===void 0)r.autoBindInjectable=!1;else if(typeof r.autoBindInjectable!="boolean")throw new Error(""+Vi.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(r.skipBaseClassChecks===void 0)r.skipBaseClassChecks=!1;else if(typeof r.skipBaseClassChecks!="boolean")throw new Error(""+Vi.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:r.autoBindInjectable,defaultScope:r.defaultScope,skipBaseClassChecks:r.skipBaseClassChecks},this.id=(0,X5.id)(),this._bindingDictionary=new Lp.Lookup,this._snapshots=[],this._middleware=null,this._activations=new Lp.Lookup,this._deactivations=new Lp.Lookup,this.parent=null,this._metadataReader=new G5.MetadataReader,this._moduleActivationStore=new Q5.ModuleActivationStore}return t.merge=function(e,r){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=new t,o=q5([e,r],i,!0).map(function(c){return(0,Wh.getBindingDictionary)(c)}),a=(0,Wh.getBindingDictionary)(s);function u(c,l){c.traverse(function(p,f){f.forEach(function(g){l.add(g.serviceIdentifier,g.clone())})})}return o.forEach(function(c){u(c,a)}),s},t.prototype.load=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=this._getContainerModuleHelpersFactory(),n=0,s=e;n<s.length;n++){var o=s[n],a=i(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return hi(this,void 0,void 0,function(){var i,n,s,o,a;return mi(this,function(u){switch(u.label){case 0:i=this._getContainerModuleHelpersFactory(),n=0,s=e,u.label=1;case 1:return n<s.length?(o=s[n],a=i(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:u.sent(),u.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];r.forEach(function(n){var s=e._removeModuleBindings(n.id);e._deactivateSingletons(s),e._removeModuleHandlers(n.id)})},t.prototype.unloadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return hi(this,void 0,void 0,function(){var i,n,s,o;return mi(this,function(a){switch(a.label){case 0:i=0,n=e,a.label=1;case 1:return i<n.length?(s=n[i],o=this._removeModuleBindings(s.id),[4,this._deactivateSingletonsAsync(o)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(s.id),a.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.bind=function(e){var r=this.options.defaultScope||Ju.BindingScopeEnum.Transient,i=new V5.Binding(e,r);return this._bindingDictionary.add(e,i),new z5.BindingToSyntax(i)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.rebindAsync=function(e){return hi(this,void 0,void 0,function(){return mi(this,function(r){switch(r.label){case 0:return[4,this.unbindAsync(e)];case 1:return r.sent(),[2,this.bind(e)]}})})},t.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var r=this._bindingDictionary.get(e);this._deactivateSingletons(r)}this._removeServiceFromDictionary(e)},t.prototype.unbindAsync=function(e){return hi(this,void 0,void 0,function(){var r;return mi(this,function(i){switch(i.label){case 0:return this._bindingDictionary.hasKey(e)?(r=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(r)]):[3,2];case 1:i.sent(),i.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},t.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(r,i){e._deactivateSingletons(i)}),this._bindingDictionary=new Lp.Lookup},t.prototype.unbindAllAsync=function(){return hi(this,void 0,void 0,function(){var e,r=this;return mi(this,function(i){switch(i.label){case 0:return e=[],this._bindingDictionary.traverse(function(n,s){e.push(r._deactivateSingletonsAsync(s))}),[4,Promise.all(e)];case 1:return i.sent(),this._bindingDictionary=new Lp.Lookup,[2]}})})},t.prototype.onActivation=function(e,r){this._activations.add(e,r)},t.prototype.onDeactivation=function(e,r){this._deactivations.add(e,r)},t.prototype.isBound=function(e){var r=this._bindingDictionary.hasKey(e);return!r&&this.parent&&(r=this.parent.isBound(e)),r},t.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},t.prototype.isBoundNamed=function(e,r){return this.isBoundTagged(e,Sa.NAMED_TAG,r)},t.prototype.isBoundTagged=function(e,r,i){var n=!1;if(this._bindingDictionary.hasKey(e)){var s=this._bindingDictionary.get(e),o=(0,Wh.createMockRequest)(this,e,r,i);n=s.some(function(a){return a.constraint(o)})}return!n&&this.parent&&(n=this.parent.isBoundTagged(e,r,i)),n},t.prototype.snapshot=function(){this._snapshots.push(Y5.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(Vi.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},t.prototype.createChild=function(e){var r=new t(e||this.options);return r.parent=this,r},t.prototype.applyMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(n,s){return s(n)},i)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){var r=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(r)},t.prototype.getAsync=function(e){return hi(this,void 0,void 0,function(){var r;return mi(this,function(i){return r=this._getNotAllArgs(e,!1),[2,this._get(r)]})})},t.prototype.getTagged=function(e,r,i){var n=this._getNotAllArgs(e,!1,r,i);return this._getButThrowIfAsync(n)},t.prototype.getTaggedAsync=function(e,r,i){return hi(this,void 0,void 0,function(){var n;return mi(this,function(s){return n=this._getNotAllArgs(e,!1,r,i),[2,this._get(n)]})})},t.prototype.getNamed=function(e,r){return this.getTagged(e,Sa.NAMED_TAG,r)},t.prototype.getNamedAsync=function(e,r){return this.getTaggedAsync(e,Sa.NAMED_TAG,r)},t.prototype.getAll=function(e){var r=this._getAllArgs(e);return this._getButThrowIfAsync(r)},t.prototype.getAllAsync=function(e){var r=this._getAllArgs(e);return this._getAll(r)},t.prototype.getAllTagged=function(e,r,i){var n=this._getNotAllArgs(e,!0,r,i);return this._getButThrowIfAsync(n)},t.prototype.getAllTaggedAsync=function(e,r,i){var n=this._getNotAllArgs(e,!0,r,i);return this._getAll(n)},t.prototype.getAllNamed=function(e,r){return this.getAllTagged(e,Sa.NAMED_TAG,r)},t.prototype.getAllNamedAsync=function(e,r){return this.getAllTaggedAsync(e,Sa.NAMED_TAG,r)},t.prototype.resolve=function(e){var r=this.isBound(e);r||this.bind(e).toSelf();var i=this.get(e);return r||this.unbind(e),i},t.prototype._preDestroy=function(e,r){if(Reflect.hasMetadata(Sa.PRE_DESTROY,e)){var i=Reflect.getMetadata(Sa.PRE_DESTROY,e);return r[i.value]()}},t.prototype._removeModuleHandlers=function(e){var r=this._moduleActivationStore.remove(e);this._activations.removeIntersection(r.onActivations),this._deactivations.removeIntersection(r.onDeactivations)},t.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(r){return r.moduleId===e})},t.prototype._deactivate=function(e,r){var i=this,n=Object.getPrototypeOf(r).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var s=this._deactivateContainer(r,this._deactivations.get(e.serviceIdentifier).values());if((0,Ea.isPromise)(s))return this._handleDeactivationError(s.then(function(){return i._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,r,n)}),n)}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,r,n);if((0,Ea.isPromise)(o))return this._handleDeactivationError(o,n)}catch(a){throw new Error(Vi.ON_DEACTIVATION_ERROR(n.name,a.message))}},t.prototype._handleDeactivationError=function(e,r){return hi(this,void 0,void 0,function(){var i;return mi(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e];case 1:return n.sent(),[3,3];case 2:throw i=n.sent(),new Error(Vi.ON_DEACTIVATION_ERROR(r.name,i.message));case 3:return[2]}})})},t.prototype._deactivateContainer=function(e,r){for(var i=this,n=r.next();n.value;){var s=n.value(e);if((0,Ea.isPromise)(s))return s.then(function(){return i._deactivateContainerAsync(e,r)});n=r.next()}},t.prototype._deactivateContainerAsync=function(e,r){return hi(this,void 0,void 0,function(){var i;return mi(this,function(n){switch(n.label){case 0:i=r.next(),n.label=1;case 1:return i.value?[4,i.value(e)]:[3,3];case 2:return n.sent(),i=r.next(),[3,1];case 3:return[2]}})})},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,r=function(l,p){l._binding.moduleId=p},i=function(l){return function(p){var f=e.bind(p);return r(f,l),f}},n=function(){return function(l){return e.unbind(l)}},s=function(){return function(l){return e.unbindAsync(l)}},o=function(){return function(l){return e.isBound(l)}},a=function(l){return function(p){var f=e.rebind(p);return r(f,l),f}},u=function(l){return function(p,f){e._moduleActivationStore.addActivation(l,p,f),e.onActivation(p,f)}},c=function(l){return function(p,f){e._moduleActivationStore.addDeactivation(l,p,f),e.onDeactivation(p,f)}};return function(l){return{bindFunction:i(l),isboundFunction:o(),onActivationFunction:u(l),onDeactivationFunction:c(l),rebindFunction:a(l),unbindFunction:n(),unbindAsyncFunction:s()}}},t.prototype._getAll=function(e){return Promise.all(this._get(e))},t.prototype._get=function(e){var r=qh(qh({},e),{contextInterceptor:function(n){return n},targetType:Ju.TargetTypeEnum.Variable});if(this._middleware){var i=this._middleware(r);if(i==null)throw new Error(Vi.INVALID_MIDDLEWARE_RETURN);return i}return this._planAndResolve()(r)},t.prototype._getButThrowIfAsync=function(e){var r=this._get(e);if((0,Ea.isPromiseOrContainsPromise)(r))throw new Error(Vi.LAZY_IN_SYNC(e.serviceIdentifier));return r},t.prototype._getAllArgs=function(e){var r={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return r},t.prototype._getNotAllArgs=function(e,r,i,n){var s={avoidConstraints:!1,isMultiInject:r,serviceIdentifier:e,key:i,value:n};return s},t.prototype._planAndResolve=function(){var e=this;return function(r){var i=(0,Wh.plan)(e._metadataReader,e,r.isMultiInject,r.targetType,r.serviceIdentifier,r.key,r.value,r.avoidConstraints);i=r.contextInterceptor(i);var n=(0,K5.resolve)(i);return n}},t.prototype._deactivateIfSingleton=function(e){var r=this;if(e.activated)return(0,Ea.isPromise)(e.cache)?e.cache.then(function(i){return r._deactivate(e,i)}):this._deactivate(e,e.cache)},t.prototype._deactivateSingletons=function(e){for(var r=0,i=e;r<i.length;r++){var n=i[r],s=this._deactivateIfSingleton(n);if((0,Ea.isPromise)(s))throw new Error(Vi.ASYNC_UNBIND_REQUIRED)}},t.prototype._deactivateSingletonsAsync=function(e){return hi(this,void 0,void 0,function(){var r=this;return mi(this,function(i){switch(i.label){case 0:return[4,Promise.all(e.map(function(n){return r._deactivateIfSingleton(n)}))];case 1:return i.sent(),[2]}})})},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,r,i){return this.parent?this._deactivate.bind(this.parent)(e,r):this._bindingDeactivationAndPreDestroy(e,r,i)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,r,i){return hi(this,void 0,void 0,function(){return mi(this,function(n){switch(n.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,r)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,r,i)];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(Vi.CANNOT_UNBIND+" "+(0,J5.getServiceIdentifierAsString)(e))}},t.prototype._bindingDeactivationAndPreDestroy=function(e,r,i){var n=this;if(typeof e.onDeactivation=="function"){var s=e.onDeactivation(r);if((0,Ea.isPromise)(s))return s.then(function(){return n._preDestroy(i,r)})}return this._preDestroy(i,r)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(e,r,i){return hi(this,void 0,void 0,function(){return mi(this,function(n){switch(n.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(r)];case 1:n.sent(),n.label=2;case 2:return[4,this._preDestroy(i,r)];case 3:return n.sent(),[2]}})})},t}();Kt.Container=Z5});var wP=v(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.AsyncContainerModule=Yu.ContainerModule=void 0;var _P=to(),eG=function(){function t(e){this.id=(0,_P.id)(),this.registry=e}return t}();Yu.ContainerModule=eG;var tG=function(){function t(e){this.id=(0,_P.id)(),this.registry=e}return t}();Yu.AsyncContainerModule=tG});var IP=v(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.getFirstArrayDuplicate=void 0;function rG(t){for(var e=new Set,r=0,i=t;r<i.length;r++){var n=i[r];if(e.has(n))return n;e.add(n)}}Vh.getFirstArrayDuplicate=rG});var hs=v(hr=>{"use strict";var iG=hr&&hr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),nG=hr&&hr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SP=hr&&hr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iG(e,t,r);return nG(e,t),e};Object.defineProperty(hr,"__esModule",{value:!0});hr.createTaggedDecorator=hr.tagProperty=hr.tagParameter=hr.decorate=void 0;var Gh=SP(pr()),EP=SP(Lt()),sG=IP();function oG(t){return t.prototype!==void 0}function aG(t){if(t!==void 0)throw new Error(Gh.INVALID_DECORATOR_OPERATION)}function xP(t,e,r,i){aG(e),LP(EP.TAGGED,t,r.toString(),i)}hr.tagParameter=xP;function PP(t,e,r){if(oG(t))throw new Error(Gh.INVALID_DECORATOR_OPERATION);LP(EP.TAGGED_PROP,t.constructor,e,r)}hr.tagProperty=PP;function uG(t){var e=[];if(Array.isArray(t)){e=t;var r=(0,sG.getFirstArrayDuplicate)(e.map(function(i){return i.key}));if(r!==void 0)throw new Error(Gh.DUPLICATED_METADATA+" "+r.toString())}else e=[t];return e}function LP(t,e,r,i){var n=uG(i),s={};Reflect.hasOwnMetadata(t,e)&&(s=Reflect.getMetadata(t,e));var o=s[r];if(o===void 0)o=[];else for(var a=function(p){if(n.some(function(f){return f.key===p.key}))throw new Error(Gh.DUPLICATED_METADATA+" "+p.key.toString())},u=0,c=o;u<c.length;u++){var l=c[u];a(l)}o.push.apply(o,n),s[r]=o,Reflect.defineMetadata(t,s,e)}function cG(t){return function(e,r,i){typeof i=="number"?xP(e,r,i,t):PP(e,r,t)}}hr.createTaggedDecorator=cG;function AP(t,e){Reflect.decorate(t,e)}function lG(t,e){return function(r,i){e(r,i,t)}}function pG(t,e,r){typeof r=="number"?AP([lG(r,t)],e):typeof r=="string"?Reflect.decorate([t],e,r):AP([t],e)}hr.decorate=pG});var DP=v(_n=>{"use strict";var fG=_n&&_n.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),dG=_n&&_n.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CP=_n&&_n.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fG(e,t,r);return dG(e,t),e};Object.defineProperty(_n,"__esModule",{value:!0});_n.injectable=void 0;var hG=CP(pr()),Ov=CP(Lt());function mG(){return function(t){if(Reflect.hasOwnMetadata(Ov.PARAM_TYPES,t))throw new Error(hG.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(Ov.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(Ov.PARAM_TYPES,e,t),t}}_n.injectable=mG});var TP=v(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.tagged=void 0;var gG=qi(),HG=hs();function yG(t,e){return(0,HG.createTaggedDecorator)(new gG.Metadata(t,e))}Kh.tagged=yG});var $P=v(wn=>{"use strict";var bG=wn&&wn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),vG=wn&&wn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_G=wn&&wn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bG(e,t,r);return vG(e,t),e};Object.defineProperty(wn,"__esModule",{value:!0});wn.named=void 0;var wG=_G(Lt()),IG=qi(),AG=hs();function SG(t){return(0,AG.createTaggedDecorator)(new IG.Metadata(wG.NAMED_TAG,t))}wn.named=SG});var Nv=v(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.injectBase=void 0;var EG=pr(),xG=qi(),PG=hs();function LG(t){return function(e){return function(r,i,n){if(e===void 0){var s=typeof r=="function"?r.name:r.constructor.name;throw new Error((0,EG.UNDEFINED_INJECT_ANNOTATION)(s))}return(0,PG.createTaggedDecorator)(new xG.Metadata(t,e))(r,i,n)}}}zh.injectBase=LG});var MP=v(In=>{"use strict";var CG=In&&In.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),DG=In&&In.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TG=In&&In.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CG(e,t,r);return DG(e,t),e};Object.defineProperty(In,"__esModule",{value:!0});In.inject=void 0;var $G=TG(Lt()),MG=Nv(),kG=(0,MG.injectBase)($G.INJECT_TAG);In.inject=kG});var kP=v(An=>{"use strict";var RG=An&&An.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),OG=An&&An.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NG=An&&An.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RG(e,t,r);return OG(e,t),e};Object.defineProperty(An,"__esModule",{value:!0});An.optional=void 0;var BG=NG(Lt()),FG=qi(),UG=hs();function jG(){return(0,UG.createTaggedDecorator)(new FG.Metadata(BG.OPTIONAL_TAG,!0))}An.optional=jG});var RP=v(Sn=>{"use strict";var WG=Sn&&Sn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),qG=Sn&&Sn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VG=Sn&&Sn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WG(e,t,r);return qG(e,t),e};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.unmanaged=void 0;var GG=VG(Lt()),KG=qi(),zG=hs();function XG(){return function(t,e,r){var i=new KG.Metadata(GG.UNMANAGED_TAG,!0);(0,zG.tagParameter)(t,e,r,i)}}Sn.unmanaged=XG});var OP=v(En=>{"use strict";var JG=En&&En.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),YG=En&&En.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QG=En&&En.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JG(e,t,r);return YG(e,t),e};Object.defineProperty(En,"__esModule",{value:!0});En.multiInject=void 0;var ZG=QG(Lt()),e6=Nv(),t6=(0,e6.injectBase)(ZG.MULTI_INJECT_TAG);En.multiInject=t6});var NP=v(xn=>{"use strict";var r6=xn&&xn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),i6=xn&&xn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n6=xn&&xn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&r6(e,t,r);return i6(e,t),e};Object.defineProperty(xn,"__esModule",{value:!0});xn.targetName=void 0;var s6=n6(Lt()),o6=qi(),a6=hs();function u6(t){return function(e,r,i){var n=new o6.Metadata(s6.NAME_TAG,t);(0,a6.tagParameter)(e,r,i,n)}}xn.targetName=u6});var Bv=v(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.propertyEventDecorator=void 0;var c6=qi();function l6(t,e){return function(){return function(r,i){var n=new c6.Metadata(t,i);if(Reflect.hasOwnMetadata(t,r.constructor))throw new Error(e);Reflect.defineMetadata(t,n,r.constructor)}}}Xh.propertyEventDecorator=l6});var FP=v(Pn=>{"use strict";var p6=Pn&&Pn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),f6=Pn&&Pn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BP=Pn&&Pn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&p6(e,t,r);return f6(e,t),e};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.postConstruct=void 0;var d6=BP(pr()),h6=BP(Lt()),m6=Bv(),g6=(0,m6.propertyEventDecorator)(h6.POST_CONSTRUCT,d6.MULTIPLE_POST_CONSTRUCT_METHODS);Pn.postConstruct=g6});var jP=v(Ln=>{"use strict";var H6=Ln&&Ln.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),y6=Ln&&Ln.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UP=Ln&&Ln.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&H6(e,t,r);return y6(e,t),e};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.preDestroy=void 0;var b6=UP(pr()),v6=UP(Lt()),_6=Bv(),w6=(0,_6.propertyEventDecorator)(v6.PRE_DESTROY,b6.MULTIPLE_PRE_DESTROY_METHODS);Ln.preDestroy=w6});var WP=v(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.interfaces=void 0;var Fv;(function(t){})(Fv||(Fv={}));Jh.interfaces=Fv});var pe=v(ce=>{"use strict";var I6=ce&&ce.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),A6=ce&&ce.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),S6=ce&&ce.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&I6(e,t,r);return A6(e,t),e};Object.defineProperty(ce,"__esModule",{value:!0});ce.multiBindToService=ce.getServiceIdentifierAsString=ce.typeConstraint=ce.namedConstraint=ce.taggedConstraint=ce.traverseAncerstors=ce.decorate=ce.interfaces=ce.id=ce.MetadataReader=ce.preDestroy=ce.postConstruct=ce.targetName=ce.multiInject=ce.unmanaged=ce.optional=ce.LazyServiceIdentifer=ce.inject=ce.named=ce.tagged=ce.injectable=ce.createTaggedDecorator=ce.ContainerModule=ce.AsyncContainerModule=ce.TargetTypeEnum=ce.BindingTypeEnum=ce.BindingScopeEnum=ce.Container=ce.METADATA_KEY=void 0;var E6=S6(Lt());ce.METADATA_KEY=E6;var x6=vP();Object.defineProperty(ce,"Container",{enumerable:!0,get:function(){return x6.Container}});var Uv=Wi();Object.defineProperty(ce,"BindingScopeEnum",{enumerable:!0,get:function(){return Uv.BindingScopeEnum}});Object.defineProperty(ce,"BindingTypeEnum",{enumerable:!0,get:function(){return Uv.BindingTypeEnum}});Object.defineProperty(ce,"TargetTypeEnum",{enumerable:!0,get:function(){return Uv.TargetTypeEnum}});var qP=wP();Object.defineProperty(ce,"AsyncContainerModule",{enumerable:!0,get:function(){return qP.AsyncContainerModule}});Object.defineProperty(ce,"ContainerModule",{enumerable:!0,get:function(){return qP.ContainerModule}});var P6=hs();Object.defineProperty(ce,"createTaggedDecorator",{enumerable:!0,get:function(){return P6.createTaggedDecorator}});var L6=DP();Object.defineProperty(ce,"injectable",{enumerable:!0,get:function(){return L6.injectable}});var C6=TP();Object.defineProperty(ce,"tagged",{enumerable:!0,get:function(){return C6.tagged}});var D6=$P();Object.defineProperty(ce,"named",{enumerable:!0,get:function(){return D6.named}});var T6=MP();Object.defineProperty(ce,"inject",{enumerable:!0,get:function(){return T6.inject}});var $6=hv();Object.defineProperty(ce,"LazyServiceIdentifer",{enumerable:!0,get:function(){return $6.LazyServiceIdentifer}});var M6=kP();Object.defineProperty(ce,"optional",{enumerable:!0,get:function(){return M6.optional}});var k6=RP();Object.defineProperty(ce,"unmanaged",{enumerable:!0,get:function(){return k6.unmanaged}});var R6=OP();Object.defineProperty(ce,"multiInject",{enumerable:!0,get:function(){return R6.multiInject}});var O6=NP();Object.defineProperty(ce,"targetName",{enumerable:!0,get:function(){return O6.targetName}});var N6=FP();Object.defineProperty(ce,"postConstruct",{enumerable:!0,get:function(){return N6.postConstruct}});var B6=jP();Object.defineProperty(ce,"preDestroy",{enumerable:!0,get:function(){return B6.preDestroy}});var F6=fv();Object.defineProperty(ce,"MetadataReader",{enumerable:!0,get:function(){return F6.MetadataReader}});var U6=to();Object.defineProperty(ce,"id",{enumerable:!0,get:function(){return U6.id}});var j6=WP();Object.defineProperty(ce,"interfaces",{enumerable:!0,get:function(){return j6.interfaces}});var W6=hs();Object.defineProperty(ce,"decorate",{enumerable:!0,get:function(){return W6.decorate}});var Yh=Tv();Object.defineProperty(ce,"traverseAncerstors",{enumerable:!0,get:function(){return Yh.traverseAncerstors}});Object.defineProperty(ce,"taggedConstraint",{enumerable:!0,get:function(){return Yh.taggedConstraint}});Object.defineProperty(ce,"namedConstraint",{enumerable:!0,get:function(){return Yh.namedConstraint}});Object.defineProperty(ce,"typeConstraint",{enumerable:!0,get:function(){return Yh.typeConstraint}});var q6=Vu();Object.defineProperty(ce,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return q6.getServiceIdentifierAsString}});var V6=Sv();Object.defineProperty(ce,"multiBindToService",{enumerable:!0,get:function(){return V6.multiBindToService}})});var zP=v((Ofe,Cp)=>{var GP={};GP.__wbindgen_placeholder__=Cp.exports;var Gi,{TextDecoder:G6}=w("util"),KP=new G6("utf-8",{ignoreBOM:!0,fatal:!0});KP.decode();var Qh=null;function Wv(){return(Qh===null||Qh.buffer!==Gi.memory.buffer)&&(Qh=new Uint8Array(Gi.memory.buffer)),Qh}function K6(t,e){return KP.decode(Wv().subarray(t,t+e))}var jv=0;function VP(t,e){let r=e(t.length*1);return Wv().set(t,r/1),jv=t.length,r}var Qu=class{static __wrap(e){let r=Object.create(Qu.prototype);return r.ptr=e,r}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();Gi.__wbg_hasher_free(e)}constructor(){var e=Gi.hasher_new();return Qu.__wrap(e)}update(e){var r=VP(e,Gi.__wbindgen_malloc),i=jv;Gi.hasher_update(this.ptr,r,i)}digest(e){try{var r=VP(e,Gi.__wbindgen_malloc),i=jv;Gi.hasher_digest(this.ptr,r,i)}finally{e.set(Wv().subarray(r/1,r/1+i)),Gi.__wbindgen_free(r,i*1)}}};Cp.exports.Hasher=Qu;Cp.exports.__wbindgen_throw=function(t,e){throw new Error(K6(t,e))};var z6=w("path").join(__dirname,"chromehash_bg.wasm"),X6=w("fs").readFileSync(z6),J6=new WebAssembly.Module(X6),Y6=new WebAssembly.Instance(J6,GP);Gi=Y6.exports;Cp.exports.__wasm=Gi});var eL=v(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.shaHashFile=Cn.hashFile=Cn.shaHash=Cn.hash=void 0;var YP=zP(),QP=w("fs"),XP=w("string_decoder"),ZP=w("crypto"),em=Buffer.alloc(4*5),Q6=t=>{let e=new YP.Hasher;return e.update(r9(t)),e.digest(em),e.free(),em.toString("hex")};Cn.hash=Q6;var Z6=t=>{let e=(0,ZP.createHash)("sha256");return e.update(i9(t)),e.digest("hex")};Cn.shaHash=Z6;var e9=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),i=new YP.Hasher,n;try{n=await QP.promises.open(t,"r");let s=await n.read(r,0,r.length,null),o=r.slice(0,s.bytesRead);if(rm(o))for(i.update(o.slice(2));s.bytesRead===r.length;)s=await n.read(r,0,r.length,null),i.update(r.slice(0,s.bytesRead));else if(im(o))for(i.update(o.slice(2).swap16());s.bytesRead===r.length;)s=await n.read(r,0,r.length,null),i.update(r.slice(0,s.bytesRead).swap16());else if(tm(o)){let a=new XP.StringDecoder("utf8");for(i.update(Buffer.from(a.write(o.slice(3)),"utf16le"));s.bytesRead===r.length;)s=await n.read(r,0,r.length,null),i.update(Buffer.from(a.write(r.slice(0,s.bytesRead)),"utf16le"))}else{let a=new XP.StringDecoder("utf8");for(i.update(Buffer.from(a.write(o),"utf16le"));s.bytesRead===r.length;)s=await n.read(r,0,r.length,null),i.update(Buffer.from(a.write(r.slice(0,s.bytesRead)),"utf16le"))}return i.digest(em),em.toString("hex")}finally{i.free(),n!==void 0&&await n.close()}};Cn.hashFile=e9;var Zh={stream:!0},t9=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),i=(0,ZP.createHash)("sha256"),n;try{n=await QP.promises.open(t,"r");let s=await n.read(r,0,r.length,null),o=r.slice(0,s.bytesRead);if(rm(o)){let a=new TextDecoder("utf-16le");for(i.update(a.decode(o.slice(2),Zh));s.bytesRead>0;)s=await n.read(r,0,r.length,null),i.update(a.decode(r.slice(0,s.bytesRead),Zh))}else if(im(o)){let a=new TextDecoder("utf-16be");for(i.update(a.decode(o.slice(2),Zh));s.bytesRead>0;)s=await n.read(r,0,r.length,null),i.update(a.decode(r.slice(0,s.bytesRead),Zh))}else if(tm(o))for(i.update(o.slice(3));s.bytesRead>0;)s=await n.read(r,0,r.length,null),i.update(r.slice(0,s.bytesRead));else for(i.update(o);s.bytesRead>0;)s=await n.read(r,0,r.length,null),i.update(r.slice(0,s.bytesRead));return i.digest("hex")}finally{await(n==null?void 0:n.close())}};Cn.shaHashFile=t9;var tm=t=>t.length>=3&&t[0]===239&&t[1]===187&&t[2]===191,rm=t=>t.length>=2&&t[0]===255&&t[1]===254,im=t=>t.length>=2&&t[0]===254&&t[1]===255,r9=t=>tm(t)?JP(t.slice(3)):rm(t)?t.slice(2):im(t)?t.slice(2).swap16():JP(t),i9=t=>tm(t)?t.slice(3):rm(t)?new TextEncoder().encode(new TextDecoder("utf-16le").decode(t.slice(2))):im(t)?new TextEncoder().encode(new TextDecoder("utf-16be").decode(t.slice(2))):t,JP=t=>Buffer.from(t.toString("utf8"),"utf16le")});var pL=v((Qfe,lL)=>{lL.exports=cL;cL.sync=m9;var aL=w("fs");function h9(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var i=0;i<r.length;i++){var n=r[i].toLowerCase();if(n&&t.substr(-n.length).toLowerCase()===n)return!0}return!1}function uL(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:h9(e,r)}function cL(t,e,r){aL.stat(t,function(i,n){r(i,i?!1:uL(n,t,e))})}function m9(t,e){return uL(aL.statSync(t),t,e)}});var gL=v((Zfe,mL)=>{mL.exports=dL;dL.sync=g9;var fL=w("fs");function dL(t,e,r){fL.stat(t,function(i,n){r(i,i?!1:hL(n,e))})}function g9(t,e){return hL(fL.statSync(t),e)}function hL(t,e){return t.isFile()&&H9(t,e)}function H9(t,e){var r=t.mode,i=t.uid,n=t.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),o=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u,p=r&c||r&u&&n===o||r&a&&i===s||r&l&&s===0;return p}});var zv=v((tde,HL)=>{var ede=w("fs"),om;process.platform==="win32"||global.TESTING_WINDOWS?om=pL():om=gL();HL.exports=Kv;Kv.sync=y9;function Kv(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,n){Kv(t,e||{},function(s,o){s?n(s):i(o)})})}om(t,e||{},function(i,n){i&&(i.code==="EACCES"||e&&e.ignoreErrors)&&(i=null,n=!1),r(i,n)})}function y9(t,e){try{return om.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var AL=v((rde,IL)=>{var ec=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",yL=w("path"),b9=ec?";":":",bL=zv(),vL=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),_L=(t,e)=>{let r=e.colon||b9,i=t.match(/\//)||ec&&t.match(/\\/)?[""]:[...ec?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],n=ec?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=ec?n.split(r):[""];return ec&&t.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:i,pathExt:s,pathExtExe:n}},wL=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:i,pathExt:n,pathExtExe:s}=_L(t,e),o=[],a=c=>new Promise((l,p)=>{if(c===i.length)return e.all&&o.length?l(o):p(vL(t));let f=i[c],g=/^".*"$/.test(f)?f.slice(1,-1):f,m=yL.join(g,t),y=!g&&/^\.[\\\/]/.test(t)?t.slice(0,2)+m:m;l(u(y,c,0))}),u=(c,l,p)=>new Promise((f,g)=>{if(p===n.length)return f(a(l+1));let m=n[p];bL(c+m,{pathExt:s},(y,b)=>{if(!y&&b)if(e.all)o.push(c+m);else return f(c+m);return f(u(c,l,p+1))})});return r?a(0).then(c=>r(null,c),r):a(0)},v9=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:i,pathExtExe:n}=_L(t,e),s=[];for(let o=0;o<r.length;o++){let a=r[o],u=/^".*"$/.test(a)?a.slice(1,-1):a,c=yL.join(u,t),l=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let p=0;p<i.length;p++){let f=l+i[p];try{if(bL.sync(f,{pathExt:n}))if(e.all)s.push(f);else return f}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw vL(t)};IL.exports=wL;wL.sync=v9});var EL=v((ide,Xv)=>{"use strict";var SL=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};Xv.exports=SL;Xv.exports.default=SL});var CL=v((nde,LL)=>{"use strict";var xL=w("path"),_9=AL(),w9=EL();function PL(t,e){let r=t.options.env||process.env,i=process.cwd(),n=t.options.cwd!=null,s=n&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(t.options.cwd)}catch{}let o;try{o=_9.sync(t.command,{path:r[w9({env:r})],pathExt:e?xL.delimiter:void 0})}catch{}finally{s&&process.chdir(i)}return o&&(o=xL.resolve(n?t.options.cwd:"",o)),o}function I9(t){return PL(t)||PL(t,!0)}LL.exports=I9});var DL=v((sde,Yv)=>{"use strict";var Jv=/([()\][%!^"`<>&|;, *?])/g;function A9(t){return t=t.replace(Jv,"^$1"),t}function S9(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Jv,"^$1"),e&&(t=t.replace(Jv,"^$1")),t}Yv.exports.command=A9;Yv.exports.argument=S9});var $L=v((ode,TL)=>{"use strict";TL.exports=/^#!(.*)/});var kL=v((ade,ML)=>{"use strict";var E9=$L();ML.exports=(t="")=>{let e=t.match(E9);if(!e)return null;let[r,i]=e[0].replace(/#! ?/,"").split(" "),n=r.split("/").pop();return n==="env"?i:i?`${n} ${i}`:n}});var OL=v((ude,RL)=>{"use strict";var Qv=w("fs"),x9=kL();function P9(t){let r=Buffer.alloc(150),i;try{i=Qv.openSync(t,"r"),Qv.readSync(i,r,0,150,0),Qv.closeSync(i)}catch{}return x9(r.toString())}RL.exports=P9});var UL=v((cde,FL)=>{"use strict";var L9=w("path"),NL=CL(),BL=DL(),C9=OL(),D9=process.platform==="win32",T9=/\.(?:com|exe)$/i,$9=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function M9(t){t.file=NL(t);let e=t.file&&C9(t.file);return e?(t.args.unshift(t.file),t.command=e,NL(t)):t.file}function k9(t){if(!D9)return t;let e=M9(t),r=!T9.test(e);if(t.options.forceShell||r){let i=$9.test(e);t.command=L9.normalize(t.command),t.command=BL.command(t.command),t.args=t.args.map(s=>BL.argument(s,i));let n=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${n}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function R9(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let i={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?i:k9(i)}FL.exports=R9});var qL=v((lde,WL)=>{"use strict";var Zv=process.platform==="win32";function e_(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function O9(t,e){if(!Zv)return;let r=t.emit;t.emit=function(i,n){if(i==="exit"){let s=jL(n,e,"spawn");if(s)return r.call(t,"error",s)}return r.apply(t,arguments)}}function jL(t,e){return Zv&&t===1&&!e.file?e_(e.original,"spawn"):null}function N9(t,e){return Zv&&t===1&&!e.file?e_(e.original,"spawnSync"):null}WL.exports={hookChildProcess:O9,verifyENOENT:jL,verifyENOENTSync:N9,notFoundError:e_}});var KL=v((pde,tc)=>{"use strict";var VL=w("child_process"),t_=UL(),r_=qL();function GL(t,e,r){let i=t_(t,e,r),n=VL.spawn(i.command,i.args,i.options);return r_.hookChildProcess(n,i),n}function B9(t,e,r){let i=t_(t,e,r),n=VL.spawnSync(i.command,i.args,i.options);return n.error=n.error||r_.verifyENOENTSync(n.status,i),n}tc.exports=GL;tc.exports.spawn=GL;tc.exports.sync=B9;tc.exports._parse=t_;tc.exports._enoent=r_});var XL=v((fde,zL)=>{"use strict";zL.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var YL=v((dde,i_)=>{"use strict";var JL=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};i_.exports=JL;i_.exports.default=JL});var eC=v((hde,Tp)=>{"use strict";var Dp=w("path"),QL=YL(),ZL=t=>{t={cwd:process.cwd(),path:process.env[QL()],execPath:process.execPath,...t};let e,r=Dp.resolve(t.cwd),i=[];for(;e!==r;)i.push(Dp.join(r,"node_modules/.bin")),e=r,r=Dp.resolve(r,"..");let n=Dp.resolve(t.cwd,t.execPath,"..");return i.push(n),i.concat(t.path).join(Dp.delimiter)};Tp.exports=ZL;Tp.exports.default=ZL;Tp.exports.env=t=>{t={env:process.env,...t};let e={...t.env},r=QL({env:e});return t.path=e[r],e[r]=Tp.exports(t),e}});var rC=v((mde,n_)=>{"use strict";var tC=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};n_.exports=tC;n_.exports.default=tC});var nC=v((gde,um)=>{"use strict";var F9=rC(),am=new WeakMap,iC=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,i=0,n=t.displayName||t.name||"<anonymous>",s=function(...o){if(am.set(s,++i),i===1)r=t.apply(this,o),t=null;else if(e.throw===!0)throw new Error(`Function \`${n}\` can only be called once`);return r};return F9(s,t),am.set(s,i),s};um.exports=iC;um.exports.default=iC;um.exports.callCount=t=>{if(!am.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return am.get(t)}});var sC=v(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.SIGNALS=void 0;var U9=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];cm.SIGNALS=U9});var s_=v(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.SIGRTMAX=rc.getRealtimeSignals=void 0;var j9=function(){let t=aC-oC+1;return Array.from({length:t},W9)};rc.getRealtimeSignals=j9;var W9=function(t,e){return{name:`SIGRT${e+1}`,number:oC+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},oC=34,aC=64;rc.SIGRTMAX=aC});var uC=v(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.getSignals=void 0;var q9=w("os"),V9=sC(),G9=s_(),K9=function(){let t=(0,G9.getRealtimeSignals)();return[...V9.SIGNALS,...t].map(z9)};lm.getSignals=K9;var z9=function({name:t,number:e,description:r,action:i,forced:n=!1,standard:s}){let{signals:{[t]:o}}=q9.constants,a=o!==void 0;return{name:t,number:a?o:e,description:r,supported:a,action:i,forced:n,standard:s}}});var lC=v(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.signalsByNumber=ic.signalsByName=void 0;var X9=w("os"),cC=uC(),J9=s_(),Y9=function(){return(0,cC.getSignals)().reduce(Q9,{})},Q9=function(t,{name:e,number:r,description:i,supported:n,action:s,forced:o,standard:a}){return{...t,[e]:{name:e,number:r,description:i,supported:n,action:s,forced:o,standard:a}}},Z9=Y9();ic.signalsByName=Z9;var eK=function(){let t=(0,cC.getSignals)(),e=J9.SIGRTMAX+1,r=Array.from({length:e},(i,n)=>tK(n,t));return Object.assign({},...r)},tK=function(t,e){let r=rK(t,e);if(r===void 0)return{};let{name:i,description:n,supported:s,action:o,forced:a,standard:u}=r;return{[t]:{name:i,number:t,description:n,supported:s,action:o,forced:a,standard:u}}},rK=function(t,e){let r=e.find(({name:i})=>X9.constants.signals[i]===t);return r!==void 0?r:e.find(i=>i.number===t)},iK=eK();ic.signalsByNumber=iK});var fC=v((_de,pC)=>{"use strict";var{signalsByName:nK}=lC(),sK=({timedOut:t,timeout:e,errorCode:r,signal:i,signalDescription:n,exitCode:s,isCanceled:o})=>t?`timed out after ${e} milliseconds`:o?"was canceled":r!==void 0?`failed with ${r}`:i!==void 0?`was killed with ${i} (${n})`:s!==void 0?`failed with exit code ${s}`:"failed",oK=({stdout:t,stderr:e,all:r,error:i,signal:n,exitCode:s,command:o,escapedCommand:a,timedOut:u,isCanceled:c,killed:l,parsed:{options:{timeout:p}}})=>{s=s===null?void 0:s,n=n===null?void 0:n;let f=n===void 0?void 0:nK[n].description,g=i&&i.code,y=`Command ${sK({timedOut:u,timeout:p,errorCode:g,signal:n,signalDescription:f,exitCode:s,isCanceled:c})}: ${o}`,b=Object.prototype.toString.call(i)==="[object Error]",I=b?`${y}
${i.message}`:y,B=[I,e,t].filter(Boolean).join(`
`);return b?(i.originalMessage=i.message,i.message=B):i=new Error(B),i.shortMessage=I,i.command=o,i.escapedCommand=a,i.exitCode=s,i.signal=n,i.signalDescription=f,i.stdout=t,i.stderr=e,r!==void 0&&(i.all=r),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(u),i.isCanceled=c,i.killed=l&&!u,i};pC.exports=oK});var hC=v((wde,o_)=>{"use strict";var pm=["stdin","stdout","stderr"],aK=t=>pm.some(e=>t[e]!==void 0),dC=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return pm.map(i=>t[i]);if(aK(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${pm.map(i=>`\`${i}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,pm.length);return Array.from({length:r},(i,n)=>e[n])};o_.exports=dC;o_.exports.node=t=>{let e=dC(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var mC=v((Ide,fm)=>{fm.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&fm.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&fm.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var yC=v((Ade,kp)=>{var uK=w("assert"),$p=mC(),cK=/^win/i.test(process.platform),dm=w("events");typeof dm!="function"&&(dm=dm.EventEmitter);var ir;process.__signal_exit_emitter__?ir=process.__signal_exit_emitter__:(ir=process.__signal_exit_emitter__=new dm,ir.count=0,ir.emitted={});ir.infinite||(ir.setMaxListeners(1/0),ir.infinite=!0);kp.exports=function(t,e){uK.equal(typeof t,"function","a callback must be provided for exit handler"),Mp===!1&&gC();var r="exit";e&&e.alwaysLast&&(r="afterexit");var i=function(){ir.removeListener(r,t),ir.listeners("exit").length===0&&ir.listeners("afterexit").length===0&&u_()};return ir.on(r,t),i};kp.exports.unload=u_;function u_(){Mp&&(Mp=!1,$p.forEach(function(t){try{process.removeListener(t,c_[t])}catch{}}),process.emit=a_,process.reallyExit=HC,ir.count-=1)}function nc(t,e,r){ir.emitted[t]||(ir.emitted[t]=!0,ir.emit(t,e,r))}var c_={};$p.forEach(function(t){c_[t]=function(){var r=process.listeners(t);r.length===ir.count&&(u_(),nc("exit",null,t),nc("afterexit",null,t),cK&&t==="SIGHUP"&&(t="SIGINT"),process.kill(process.pid,t))}});kp.exports.signals=function(){return $p};kp.exports.load=gC;var Mp=!1;function gC(){Mp||(Mp=!0,ir.count+=1,$p=$p.filter(function(t){try{return process.on(t,c_[t]),!0}catch{return!1}}),process.emit=pK,process.reallyExit=lK)}var HC=process.reallyExit;function lK(t){process.exitCode=t||0,nc("exit",process.exitCode,null),nc("afterexit",process.exitCode,null),HC.call(process,process.exitCode)}var a_=process.emit;function pK(t,e){if(t==="exit"){e!==void 0&&(process.exitCode=e);var r=a_.apply(this,arguments);return nc("exit",process.exitCode,null),nc("afterexit",process.exitCode,null),r}else return a_.apply(this,arguments)}});var vC=v((Sde,bC)=>{"use strict";var fK=w("os"),dK=yC(),hK=1e3*5,mK=(t,e="SIGTERM",r={})=>{let i=t(e);return gK(t,e,r,i),i},gK=(t,e,r,i)=>{if(!HK(e,r,i))return;let n=bK(r),s=setTimeout(()=>{t("SIGKILL")},n);s.unref&&s.unref()},HK=(t,{forceKillAfterTimeout:e},r)=>yK(t)&&e!==!1&&r,yK=t=>t===fK.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",bK=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return hK;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},vK=(t,e)=>{t.kill()&&(e.isCanceled=!0)},_K=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},wK=(t,{timeout:e,killSignal:r="SIGTERM"},i)=>{if(e===0||e===void 0)return i;let n,s=new Promise((a,u)=>{n=setTimeout(()=>{_K(t,r,u)},e)}),o=i.finally(()=>{clearTimeout(n)});return Promise.race([s,o])},IK=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},AK=async(t,{cleanup:e,detached:r},i)=>{if(!e||r)return i;let n=dK(()=>{t.kill()});return i.finally(()=>{n()})};bC.exports={spawnedKill:mK,spawnedCancel:vK,setupTimeout:wK,validateTimeout:IK,setExitHandler:AK}});var wC=v((Ede,_C)=>{"use strict";var Dn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Dn.writable=t=>Dn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Dn.readable=t=>Dn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Dn.duplex=t=>Dn.writable(t)&&Dn.readable(t);Dn.transform=t=>Dn.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object";_C.exports=Dn});var AC=v((xde,IC)=>{"use strict";var{PassThrough:SK}=w("stream");IC.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,i=r==="buffer",n=!1;e?n=!(r||i):r=r||"utf8",i&&(r=null);let s=new SK({objectMode:n});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",u=>{a.push(u),n?o=a.length:o+=u.length}),s.getBufferedValue=()=>e?a:i?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var SC=v((Pde,Rp)=>{"use strict";var{constants:EK}=w("buffer"),xK=w("stream"),{promisify:PK}=w("util"),LK=AC(),CK=PK(xK.pipeline),hm=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function l_(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,i=LK(e);return await new Promise((n,s)=>{let o=a=>{a&&i.getBufferedLength()<=EK.MAX_LENGTH&&(a.bufferedData=i.getBufferedValue()),s(a)};(async()=>{try{await CK(t,i),n()}catch(a){o(a)}})(),i.on("data",()=>{i.getBufferedLength()>r&&o(new hm)})}),i.getBufferedValue()}Rp.exports=l_;Rp.exports.buffer=(t,e)=>l_(t,{...e,encoding:"buffer"});Rp.exports.array=(t,e)=>l_(t,{...e,array:!0});Rp.exports.MaxBufferError=hm});var xC=v((Lde,EC)=>{"use strict";var{PassThrough:DK}=w("stream");EC.exports=function(){var t=[],e=new DK({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=i,e.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(r),e;function r(s){return Array.isArray(s)?(s.forEach(r),this):(t.push(s),s.once("end",n.bind(null,s)),s.once("error",e.emit.bind(e,"error")),s.pipe(e,{end:!1}),this)}function i(){return t.length==0}function n(s){t=t.filter(function(o){return o!==s}),!t.length&&e.readable&&e.end()}}});var DC=v((Cde,CC)=>{"use strict";var LC=wC(),PC=SC(),TK=xC(),$K=(t,e)=>{e===void 0||t.stdin===void 0||(LC(e)?e.pipe(t.stdin):t.stdin.end(e))},MK=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=TK();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},p_=async(t,e)=>{if(t){t.destroy();try{return await e}catch(r){return r.bufferedData}}},f_=(t,{encoding:e,buffer:r,maxBuffer:i})=>{if(!(!t||!r))return e?PC(t,{encoding:e,maxBuffer:i}):PC.buffer(t,{maxBuffer:i})},kK=async({stdout:t,stderr:e,all:r},{encoding:i,buffer:n,maxBuffer:s},o)=>{let a=f_(t,{encoding:i,buffer:n,maxBuffer:s}),u=f_(e,{encoding:i,buffer:n,maxBuffer:s}),c=f_(r,{encoding:i,buffer:n,maxBuffer:s*2});try{return await Promise.all([o,a,u,c])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},p_(t,a),p_(e,u),p_(r,c)])}},RK=({input:t})=>{if(LC(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};CC.exports={handleInput:$K,makeAllStream:MK,getSpawnedResult:kK,validateInputSync:RK}});var $C=v((Dde,TC)=>{"use strict";var OK=(async()=>{})().constructor.prototype,NK=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(OK,t)]),BK=(t,e)=>{for(let[r,i]of NK){let n=typeof e=="function"?(...s)=>Reflect.apply(i.value,e(),s):i.value.bind(e);Reflect.defineProperty(t,r,{...i,value:n})}return t},FK=t=>new Promise((e,r)=>{t.on("exit",(i,n)=>{e({exitCode:i,signal:n})}),t.on("error",i=>{r(i)}),t.stdin&&t.stdin.on("error",i=>{r(i)})});TC.exports={mergePromise:BK,getSpawnedPromise:FK}});var RC=v((Tde,kC)=>{"use strict";var MC=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],UK=/^[\w.-]+$/,jK=/"/g,WK=t=>typeof t!="string"||UK.test(t)?t:`"${t.replace(jK,'\\"')}"`,qK=(t,e)=>MC(t,e).join(" "),VK=(t,e)=>MC(t,e).map(r=>WK(r)).join(" "),GK=/ +/g,KK=t=>{let e=[];for(let r of t.trim().split(GK)){let i=e[e.length-1];i&&i.endsWith("\\")?e[e.length-1]=`${i.slice(0,-1)} ${r}`:e.push(r)}return e};kC.exports={joinCommand:qK,getEscapedCommand:VK,parseCommand:KK}});var h_=v(($de,sc)=>{"use strict";var zK=w("path"),d_=w("child_process"),XK=KL(),JK=XL(),YK=eC(),QK=nC(),mm=fC(),NC=hC(),{spawnedKill:ZK,spawnedCancel:ez,setupTimeout:tz,validateTimeout:rz,setExitHandler:iz}=vC(),{handleInput:nz,getSpawnedResult:sz,makeAllStream:oz,validateInputSync:az}=DC(),{mergePromise:OC,getSpawnedPromise:uz}=$C(),{joinCommand:BC,parseCommand:FC,getEscapedCommand:UC}=RC(),cz=1e3*1e3*100,lz=({env:t,extendEnv:e,preferLocal:r,localDir:i,execPath:n})=>{let s=e?{...process.env,...t}:t;return r?YK.env({env:s,cwd:i,execPath:n}):s},jC=(t,e,r={})=>{let i=XK._parse(t,e,r);return t=i.command,e=i.args,r=i.options,r={maxBuffer:cz,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=lz(r),r.stdio=NC(r),process.platform==="win32"&&zK.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:i}},Op=(t,e,r)=>typeof e!="string"&&!Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?JK(e):e,gm=(t,e,r)=>{let i=jC(t,e,r),n=BC(t,e),s=UC(t,e);rz(i.options);let o;try{o=d_.spawn(i.file,i.args,i.options)}catch(g){let m=new d_.ChildProcess,y=Promise.reject(mm({error:g,stdout:"",stderr:"",all:"",command:n,escapedCommand:s,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return OC(m,y)}let a=uz(o),u=tz(o,i.options,a),c=iz(o,i.options,u),l={isCanceled:!1};o.kill=ZK.bind(null,o.kill.bind(o)),o.cancel=ez.bind(null,o,l);let f=QK(async()=>{let[{error:g,exitCode:m,signal:y,timedOut:b},I,B,W]=await sz(o,i.options,c),P=Op(i.options,I),D=Op(i.options,B),G=Op(i.options,W);if(g||m!==0||y!==null){let q=mm({error:g,exitCode:m,signal:y,stdout:P,stderr:D,all:G,command:n,escapedCommand:s,parsed:i,timedOut:b,isCanceled:l.isCanceled,killed:o.killed});if(!i.options.reject)return q;throw q}return{command:n,escapedCommand:s,exitCode:0,stdout:P,stderr:D,all:G,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return nz(o,i.options.input),o.all=oz(o,i.options),OC(o,f)};sc.exports=gm;sc.exports.sync=(t,e,r)=>{let i=jC(t,e,r),n=BC(t,e),s=UC(t,e);az(i.options);let o;try{o=d_.spawnSync(i.file,i.args,i.options)}catch(c){throw mm({error:c,stdout:"",stderr:"",all:"",command:n,escapedCommand:s,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let a=Op(i.options,o.stdout,o.error),u=Op(i.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let c=mm({stdout:a,stderr:u,error:o.error,signal:o.signal,exitCode:o.status,command:n,escapedCommand:s,parsed:i,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!i.options.reject)return c;throw c}return{command:n,escapedCommand:s,exitCode:0,stdout:a,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};sc.exports.command=(t,e)=>{let[r,...i]=FC(t);return gm(r,i,e)};sc.exports.commandSync=(t,e)=>{let[r,...i]=FC(t);return gm.sync(r,i,e)};sc.exports.node=(t,e,r={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(r=e,e=[]);let i=NC.node(r),n=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:o=n}=r;return gm(s,[...o,t,...Array.isArray(e)?e:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}});var Dm=v(VD=>{(function t(e){"use strict";var r,i,n,s,o,a;function u(P){var D={},G,q;for(G in P)P.hasOwnProperty(G)&&(q=P[G],typeof q=="object"&&q!==null?D[G]=u(q):D[G]=q);return D}function c(P,D){var G,q,N,M;for(q=P.length,N=0;q;)G=q>>>1,M=N+G,D(P[M])?q=G:(N=M+1,q-=G+1);return N}r={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},n={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},s={},o={},a={},i={Break:s,Skip:o,Remove:a};function l(P,D){this.parent=P,this.key=D}l.prototype.replace=function(D){this.parent[this.key]=D},l.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function p(P,D,G,q){this.node=P,this.path=D,this.wrap=G,this.ref=q}function f(){}f.prototype.path=function(){var D,G,q,N,M,O;function S($,R){if(Array.isArray(R))for(q=0,N=R.length;q<N;++q)$.push(R[q]);else $.push(R)}if(!this.__current.path)return null;for(M=[],D=2,G=this.__leavelist.length;D<G;++D)O=this.__leavelist[D],S(M,O.path);return S(M,this.__current.path),M},f.prototype.type=function(){var P=this.current();return P.type||this.__current.wrap},f.prototype.parents=function(){var D,G,q;for(q=[],D=1,G=this.__leavelist.length;D<G;++D)q.push(this.__leavelist[D].node);return q},f.prototype.current=function(){return this.__current.node},f.prototype.__execute=function(D,G){var q,N;return N=void 0,q=this.__current,this.__current=G,this.__state=null,D&&(N=D.call(this,G.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=q,N},f.prototype.notify=function(D){this.__state=D},f.prototype.skip=function(){this.notify(o)},f.prototype.break=function(){this.notify(s)},f.prototype.remove=function(){this.notify(a)},f.prototype.__initialize=function(P,D){this.visitor=D,this.root=P,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,D.fallback==="iteration"?this.__fallback=Object.keys:typeof D.fallback=="function"&&(this.__fallback=D.fallback),this.__keys=n,D.keys&&(this.__keys=Object.assign(Object.create(this.__keys),D.keys))};function g(P){return P==null?!1:typeof P=="object"&&typeof P.type=="string"}function m(P,D){return(P===r.ObjectExpression||P===r.ObjectPattern)&&D==="properties"}function y(P,D){for(var G=P.length-1;G>=0;--G)if(P[G].node===D)return!0;return!1}f.prototype.traverse=function(D,G){var q,N,M,O,S,$,R,X,L,C,te,re;for(this.__initialize(D,G),re={},q=this.__worklist,N=this.__leavelist,q.push(new p(D,null,null,null)),N.push(new p(null,null,null,null));q.length;){if(M=q.pop(),M===re){if(M=N.pop(),$=this.__execute(G.leave,M),this.__state===s||$===s)return;continue}if(M.node){if($=this.__execute(G.enter,M),this.__state===s||$===s)return;if(q.push(re),N.push(M),this.__state===o||$===o)continue;if(O=M.node,S=O.type||M.wrap,C=this.__keys[S],!C)if(this.__fallback)C=this.__fallback(O);else throw new Error("Unknown node type "+S+".");for(X=C.length;(X-=1)>=0;)if(R=C[X],te=O[R],!!te){if(Array.isArray(te)){for(L=te.length;(L-=1)>=0;)if(te[L]&&!y(N,te[L])){if(m(S,C[X]))M=new p(te[L],[R,L],"Property",null);else if(g(te[L]))M=new p(te[L],[R,L],null,null);else continue;q.push(M)}}else if(g(te)){if(y(N,te))continue;q.push(new p(te,R,null,null))}}}}},f.prototype.replace=function(D,G){var q,N,M,O,S,$,R,X,L,C,te,re,se;function oe(ie){var de,we,ge,Pt;if(ie.ref.remove()){for(we=ie.ref.key,Pt=ie.ref.parent,de=q.length;de--;)if(ge=q[de],ge.ref&&ge.ref.parent===Pt){if(ge.ref.key<we)break;--ge.ref.key}}}for(this.__initialize(D,G),te={},q=this.__worklist,N=this.__leavelist,re={root:D},$=new p(D,null,null,new l(re,"root")),q.push($),N.push($);q.length;){if($=q.pop(),$===te){if($=N.pop(),S=this.__execute(G.leave,$),S!==void 0&&S!==s&&S!==o&&S!==a&&$.ref.replace(S),(this.__state===a||S===a)&&oe($),this.__state===s||S===s)return re.root;continue}if(S=this.__execute(G.enter,$),S!==void 0&&S!==s&&S!==o&&S!==a&&($.ref.replace(S),$.node=S),(this.__state===a||S===a)&&(oe($),$.node=null),this.__state===s||S===s)return re.root;if(M=$.node,!!M&&(q.push(te),N.push($),!(this.__state===o||S===o))){if(O=M.type||$.wrap,L=this.__keys[O],!L)if(this.__fallback)L=this.__fallback(M);else throw new Error("Unknown node type "+O+".");for(R=L.length;(R-=1)>=0;)if(se=L[R],C=M[se],!!C)if(Array.isArray(C)){for(X=C.length;(X-=1)>=0;)if(C[X]){if(m(O,L[R]))$=new p(C[X],[se,X],"Property",new l(C,X));else if(g(C[X]))$=new p(C[X],[se,X],null,new l(C,X));else continue;q.push($)}}else g(C)&&q.push(new p(C,se,null,new l(M,se)))}}return re.root};function b(P,D){var G=new f;return G.traverse(P,D)}function I(P,D){var G=new f;return G.replace(P,D)}function B(P,D){var G;return G=c(D,function(N){return N.range[0]>P.range[0]}),P.extendedRange=[P.range[0],P.range[1]],G!==D.length&&(P.extendedRange[1]=D[G].range[0]),G-=1,G>=0&&(P.extendedRange[0]=D[G].range[1]),P}function W(P,D,G){var q=[],N,M,O,S;if(!P.range)throw new Error("attachComments needs range information");if(!G.length){if(D.length){for(O=0,M=D.length;O<M;O+=1)N=u(D[O]),N.extendedRange=[0,P.range[0]],q.push(N);P.leadingComments=q}return P}for(O=0,M=D.length;O<M;O+=1)q.push(B(u(D[O]),G));return S=0,b(P,{enter:function($){for(var R;S<q.length&&(R=q[S],!(R.extendedRange[1]>$.range[0]));)R.extendedRange[1]===$.range[0]?($.leadingComments||($.leadingComments=[]),$.leadingComments.push(R),q.splice(S,1)):S+=1;if(S===q.length)return i.Break;if(q[S].extendedRange[0]>$.range[1])return i.Skip}}),S=0,b(P,{leave:function($){for(var R;S<q.length&&(R=q[S],!($.range[1]<R.extendedRange[0]));)$.range[1]===R.extendedRange[0]?($.trailingComments||($.trailingComments=[]),$.trailingComments.push(R),q.splice(S,1)):S+=1;if(S===q.length)return i.Break;if(q[S].extendedRange[0]>$.range[1])return i.Skip}}),P}return e.Syntax=r,e.traverse=b,e.replace=I,e.attachComments=W,e.VisitorKeys=n,e.VisitorOption=i,e.Controller=f,e.cloneEnvironment=function(){return t({})},e})(VD)});var zD=v(KD=>{var GD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");KD.encode=function(t){if(0<=t&&t<GD.length)return GD[t];throw new TypeError("Must be between 0 and 63: "+t)}});var $_=v(YD=>{var Xz=zD(),XD=5,JD=1<<XD,Jz=JD-1,Yz=JD;function Qz(t){return t<0?(-t<<1)+1:(t<<1)+0}YD.encode=function(e){let r="",i,n=Qz(e);do i=n&Jz,n>>>=XD,n>0&&(i|=Yz),r+=Xz.encode(i);while(n>0);return r}});var ZD=v((Vde,QD)=>{"use strict";QD.exports=typeof URL=="function"?URL:w("url").URL});var Jp=v(Mn=>{var ao=ZD();function Zz(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}Mn.getArg=Zz;var tT=function(){return!("__proto__"in Object.create(null))}();function rT(t){return t}function eX(t){return iT(t)?"$"+t:t}Mn.toSetString=tT?rT:eX;function tX(t){return iT(t)?t.slice(1):t}Mn.fromSetString=tT?rT:tX;function iT(t){if(!t)return!1;let e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(let r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function eT(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function rX(t,e){let r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=eT(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:eT(t.name,e.name)}Mn.compareByGeneratedPositionsInflated=rX;function iX(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}Mn.parseSourceMapInput=iX;var k_="http:",zp=`${k_}//host`;function R_(t){return e=>{let r=pc(e),i=O_(e),n=new ao(e,i);t(n);let s=n.toString();return r==="absolute"?s:r==="scheme-relative"?s.slice(k_.length):r==="path-absolute"?s.slice(zp.length):N_(i,s)}}function oo(t,e){return new ao(t,e).toString()}function nX(t,e){let r=0;do{let i=t+r++;if(e.indexOf(i)===-1)return i}while(!0)}function O_(t){let e=t.split("..").length-1,r=nX("p",t),i=`${zp}/`;for(let n=0;n<e;n++)i+=`${r}/`;return i}var sX=/^[A-Za-z0-9\+\-\.]+:/;function pc(t){return t[0]==="/"?t[1]==="/"?"scheme-relative":"path-absolute":sX.test(t)?"absolute":"path-relative"}function N_(t,e){typeof t=="string"&&(t=new ao(t)),typeof e=="string"&&(e=new ao(e));let r=e.pathname.split("/"),i=t.pathname.split("/");for(i.length>0&&!i[i.length-1]&&i.pop();r.length>0&&i.length>0&&r[0]===i[0];)r.shift(),i.shift();return i.map(()=>"..").concat(r).join("/")+e.search+e.hash}var oX=R_(t=>{t.pathname=t.pathname.replace(/\/?$/,"/")}),aX=R_(t=>{t.href=new ao(".",t.toString()).toString()}),Xp=R_(t=>{});Mn.normalize=Xp;function M_(t,e){let r=pc(e),i=pc(t);if(t=oX(t),r==="absolute")return oo(e,void 0);if(i==="absolute")return oo(e,t);if(r==="scheme-relative")return Xp(e);if(i==="scheme-relative")return oo(e,oo(t,zp)).slice(k_.length);if(r==="path-absolute")return Xp(e);if(i==="path-absolute")return oo(e,oo(t,zp)).slice(zp.length);let n=O_(e+t),s=oo(e,oo(t,n));return N_(n,s)}Mn.join=M_;function uX(t,e){let r=cX(t,e);return typeof r=="string"?r:Xp(e)}Mn.relative=uX;function cX(t,e){if(pc(t)!==pc(e))return null;let i=O_(t+e),n=new ao(t,i),s=new ao(e,i);try{new ao("",s.toString())}catch{return null}return s.protocol!==n.protocol||s.user!==n.user||s.password!==n.password||s.hostname!==n.hostname||s.port!==n.port?null:N_(n,s)}function lX(t,e,r){t&&pc(e)==="path-absolute"&&(e=e.replace(/^\//,""));let i=Xp(e||"");return t&&(i=M_(t,i)),r&&(i=M_(aX(r),i)),i}Mn.computeSourceURL=lX});var B_=v(nT=>{var Yp=class{constructor(){this._array=[],this._set=new Map}static fromArray(e,r){let i=new Yp;for(let n=0,s=e.length;n<s;n++)i.add(e[n],r);return i}size(){return this._set.size}add(e,r){let i=this.has(e),n=this._array.length;(!i||r)&&this._array.push(e),i||this._set.set(e,n)}has(e){return this._set.has(e)}indexOf(e){let r=this._set.get(e);if(r>=0)return r;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}};nT.ArraySet=Yp});var aT=v(oT=>{var sT=Jp();function pX(t,e){let r=t.generatedLine,i=e.generatedLine,n=t.generatedColumn,s=e.generatedColumn;return i>r||i==r&&s>=n||sT.compareByGeneratedPositionsInflated(t,e)<=0}var F_=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,r){this._array.forEach(e,r)}add(e){pX(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(sT.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}};oT.MappingList=F_});var U_=v(uT=>{var Qp=$_(),Dt=Jp(),Tm=B_().ArraySet,fX=aT().MappingList,fc=class{constructor(e){e||(e={}),this._file=Dt.getArg(e,"file",null),this._sourceRoot=Dt.getArg(e,"sourceRoot",null),this._skipValidation=Dt.getArg(e,"skipValidation",!1),this._sources=new Tm,this._names=new Tm,this._mappings=new fX,this._sourcesContents=null}static fromSourceMap(e){let r=e.sourceRoot,i=new fc({file:e.file,sourceRoot:r});return e.eachMapping(function(n){let s={generated:{line:n.generatedLine,column:n.generatedColumn}};n.source!=null&&(s.source=n.source,r!=null&&(s.source=Dt.relative(r,s.source)),s.original={line:n.originalLine,column:n.originalColumn},n.name!=null&&(s.name=n.name)),i.addMapping(s)}),e.sources.forEach(function(n){let s=n;r!==null&&(s=Dt.relative(r,n)),i._sources.has(s)||i._sources.add(s);let o=e.sourceContentFor(n);o!=null&&i.setSourceContent(n,o)}),i}addMapping(e){let r=Dt.getArg(e,"generated"),i=Dt.getArg(e,"original",null),n=Dt.getArg(e,"source",null),s=Dt.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,i,n,s),n!=null&&(n=String(n),this._sources.has(n)||this._sources.add(n)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:i!=null&&i.line,originalColumn:i!=null&&i.column,source:n,name:s})}setSourceContent(e,r){let i=e;this._sourceRoot!=null&&(i=Dt.relative(this._sourceRoot,i)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Dt.toSetString(i)]=r):this._sourcesContents&&(delete this._sourcesContents[Dt.toSetString(i)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(e,r,i){let n=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);n=e.file}let s=this._sourceRoot;s!=null&&(n=Dt.relative(s,n));let o=this._mappings.toArray().length>0?new Tm:this._sources,a=new Tm;this._mappings.unsortedForEach(function(u){if(u.source===n&&u.originalLine!=null){let p=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});p.source!=null&&(u.source=p.source,i!=null&&(u.source=Dt.join(i,u.source)),s!=null&&(u.source=Dt.relative(s,u.source)),u.originalLine=p.line,u.originalColumn=p.column,p.name!=null&&(u.name=p.name))}let c=u.source;c!=null&&!o.has(c)&&o.add(c);let l=u.name;l!=null&&!a.has(l)&&a.add(l)},this),this._sources=o,this._names=a,e.sources.forEach(function(u){let c=e.sourceContentFor(u);c!=null&&(i!=null&&(u=Dt.join(i,u)),s!=null&&(u=Dt.relative(s,u)),this.setSourceContent(u,c))},this)}_validateMapping(e,r,i,n){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!i&&!n)){if(!(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&i))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:i,original:r,name:n}))}}_serializeMappings(){let e=0,r=1,i=0,n=0,s=0,o=0,a="",u,c,l,p,f=this._mappings.toArray();for(let g=0,m=f.length;g<m;g++){if(c=f[g],u="",c.generatedLine!==r)for(e=0;c.generatedLine!==r;)u+=";",r++;else if(g>0){if(!Dt.compareByGeneratedPositionsInflated(c,f[g-1]))continue;u+=","}u+=Qp.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(p=this._sources.indexOf(c.source),u+=Qp.encode(p-o),o=p,u+=Qp.encode(c.originalLine-1-n),n=c.originalLine-1,u+=Qp.encode(c.originalColumn-i),i=c.originalColumn,c.name!=null&&(l=this._names.indexOf(c.name),u+=Qp.encode(l-s),s=l)),a+=u}return a}_generateSourcesContent(e,r){return e.map(function(i){if(!this._sourcesContents)return null;r!=null&&(i=Dt.relative(r,i));let n=Dt.toSetString(i);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)}toJSON(){let e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}};fc.prototype._version=3;uT.SourceMapGenerator=fc});var cT=v(Ca=>{Ca.GREATEST_LOWER_BOUND=1;Ca.LEAST_UPPER_BOUND=2;function j_(t,e,r,i,n,s){let o=Math.floor((e-t)/2)+t,a=n(r,i[o],!0);return a===0?o:a>0?e-o>1?j_(o,e,r,i,n,s):s==Ca.LEAST_UPPER_BOUND?e<i.length?e:-1:o:o-t>1?j_(t,o,r,i,n,s):s==Ca.LEAST_UPPER_BOUND?o:t<0?-1:t}Ca.search=function(e,r,i,n){if(r.length===0)return-1;let s=j_(-1,r.length,e,r,i,n||Ca.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&i(r[s],r[s-1],!0)===0;)--s;return s}});var q_=v((Yde,W_)=>{"use strict";var dX=w("fs"),hX=w("path");W_.exports=function(){return new Promise((e,r)=>{let i=hX.join(__dirname,"mappings.wasm");dX.readFile(i,null,(n,s)=>{if(n){r(n);return}e(s.buffer)})})};W_.exports.initialize=t=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}});var pT=v((Qde,lT)=>{var mX=q_();function gX(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var Zp=null;lT.exports=function(){if(Zp)return Zp;let e=[];return Zp=mX().then(r=>WebAssembly.instantiate(r,{env:{mapping_callback(i,n,s,o,a,u,c,l,p,f){let g=new gX;g.generatedLine=i+1,g.generatedColumn=n,s&&(g.lastGeneratedColumn=o-1),a&&(g.source=u,g.originalLine=c+1,g.originalColumn=l,p&&(g.name=f)),e[e.length-1](g)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(r=>({exports:r.instance.exports,withMappingCallback:(i,n)=>{e.push(i);try{n()}finally{e.pop()}}})).then(null,r=>{throw Zp=null,r}),Zp}});var fT=v(Mm=>{var Se=Jp(),HX=cT(),V_=B_().ArraySet,Zde=$_(),yX=q_(),bX=pT(),G_=Symbol("smcInternal"),wt=class{constructor(e,r){return e==G_?Promise.resolve(this):vX(e,r)}static initialize(e){yX.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,r){return _X(e,r)}static async with(e,r,i){let n=await new wt(e,r);try{return await i(n)}finally{n.destroy()}}eachMapping(e,r,i){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}};wt.prototype._version=3;wt.GENERATED_ORDER=1;wt.ORIGINAL_ORDER=2;wt.GREATEST_LOWER_BOUND=1;wt.LEAST_UPPER_BOUND=2;Mm.SourceMapConsumer=wt;var uo=class extends wt{constructor(e,r){return super(G_).then(i=>{let n=e;typeof e=="string"&&(n=Se.parseSourceMapInput(e));let s=Se.getArg(n,"version"),o=Se.getArg(n,"sources").map(String),a=Se.getArg(n,"names",[]),u=Se.getArg(n,"sourceRoot",null),c=Se.getArg(n,"sourcesContent",null),l=Se.getArg(n,"mappings"),p=Se.getArg(n,"file",null);if(s!=i._version)throw new Error("Unsupported version: "+s);return i._sourceLookupCache=new Map,i._names=V_.fromArray(a.map(String),!0),i._sources=V_.fromArray(o,!0),i._absoluteSources=V_.fromArray(i._sources.toArray().map(function(f){return Se.computeSourceURL(u,f,r)}),!0),i.sourceRoot=u,i.sourcesContent=c,i._mappings=l,i._sourceMapURL=r,i.file=p,i._computedColumnSpans=!1,i._mappingsPtr=0,i._wasm=null,bX().then(f=>(i._wasm=f,i))})}_findSourceIndex(e){let r=this._sourceLookupCache.get(e);if(typeof r=="number")return r;let i=Se.computeSourceURL(null,e,this._sourceMapURL);if(this._absoluteSources.has(i)){let s=this._absoluteSources.indexOf(i);return this._sourceLookupCache.set(e,s),s}let n=Se.computeSourceURL(this.sourceRoot,e,this._sourceMapURL);if(this._absoluteSources.has(n)){let s=this._absoluteSources.indexOf(n);return this._sourceLookupCache.set(e,s),s}return-1}static fromSourceMap(e,r){return new uo(e.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){let e=this._mappings,r=e.length,i=this._wasm.exports.allocate_mappings(r),n=new Uint8Array(this._wasm.exports.memory.buffer,i,r);for(let o=0;o<r;o++)n[o]=e.charCodeAt(o);let s=this._wasm.exports.parse_mappings(i);if(!s){let o=this._wasm.exports.get_last_error(),a=`Error parsing mappings (code ${o}): `;switch(o){case 1:a+="the mappings contained a negative line, column, source index, or name index";break;case 2:a+="the mappings contained a number larger than 2**32";break;case 3:a+="reached EOF while in the middle of parsing a VLQ";break;case 4:a+="invalid base 64 character while parsing a VLQ";break;default:a+="unknown error code";break}throw new Error(a)}this._mappingsPtr=s}eachMapping(e,r,i){let n=r||null,s=i||wt.GENERATED_ORDER;this._wasm.withMappingCallback(o=>{o.source!==null&&(o.source=this._absoluteSources.at(o.source),o.name!==null&&(o.name=this._names.at(o.name))),this._computedColumnSpans&&o.lastGeneratedColumn===null&&(o.lastGeneratedColumn=1/0),e.call(n,o)},()=>{switch(s){case wt.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case wt.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let r=Se.getArg(e,"source"),i=Se.getArg(e,"line"),n=e.column||0;if(r=this._findSourceIndex(r),r<0)return[];if(i<1)throw new Error("Line numbers must be >= 1");if(n<0)throw new Error("Column numbers must be >= 0");let s=[];return this._wasm.withMappingCallback(o=>{let a=o.lastGeneratedColumn;this._computedColumnSpans&&a===null&&(a=1/0),s.push({line:o.generatedLine,column:o.generatedColumn,lastColumn:a})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),r,i-1,"column"in e,n)}),s}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){let r={generatedLine:Se.getArg(e,"line"),generatedColumn:Se.getArg(e,"column")};if(r.generatedLine<1)throw new Error("Line numbers must be >= 1");if(r.generatedColumn<0)throw new Error("Column numbers must be >= 0");let i=Se.getArg(e,"bias",wt.GREATEST_LOWER_BOUND);i==null&&(i=wt.GREATEST_LOWER_BOUND);let n;if(this._wasm.withMappingCallback(s=>n=s,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),r.generatedLine-1,r.generatedColumn,i)}),n&&n.generatedLine===r.generatedLine){let s=Se.getArg(n,"source",null);s!==null&&(s=this._absoluteSources.at(s));let o=Se.getArg(n,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:Se.getArg(n,"originalLine",null),column:Se.getArg(n,"originalColumn",null),name:o}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1}sourceContentFor(e,r){if(!this.sourcesContent)return null;let i=this._findSourceIndex(e);if(i>=0)return this.sourcesContent[i];if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){let r=Se.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};let i={source:r,originalLine:Se.getArg(e,"line"),originalColumn:Se.getArg(e,"column")};if(i.originalLine<1)throw new Error("Line numbers must be >= 1");if(i.originalColumn<0)throw new Error("Column numbers must be >= 0");let n=Se.getArg(e,"bias",wt.GREATEST_LOWER_BOUND);n==null&&(n=wt.GREATEST_LOWER_BOUND);let s;if(this._wasm.withMappingCallback(o=>s=o,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),i.source,i.originalLine-1,i.originalColumn,n)}),s&&s.source===i.source){let o=s.lastGeneratedColumn;return this._computedColumnSpans&&o===null&&(o=1/0),{line:Se.getArg(s,"generatedLine",null),column:Se.getArg(s,"generatedColumn",null),lastColumn:o}}return{line:null,column:null,lastColumn:null}}};uo.prototype.consumer=wt;Mm.BasicSourceMapConsumer=uo;var $m=class extends wt{constructor(e,r){return super(G_).then(i=>{let n=e;typeof e=="string"&&(n=Se.parseSourceMapInput(e));let s=Se.getArg(n,"version"),o=Se.getArg(n,"sections");if(s!=i._version)throw new Error("Unsupported version: "+s);let a={line:-1,column:0};return Promise.all(o.map(u=>{if(u.url)throw new Error("Support for url field in sections not implemented.");let c=Se.getArg(u,"offset"),l=Se.getArg(c,"line"),p=Se.getArg(c,"column");if(l<a.line||l===a.line&&p<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=c,new wt(Se.getArg(u,"map"),r).then(g=>({generatedOffset:{generatedLine:l+1,generatedColumn:p+1},consumer:g}))})).then(u=>(i._sections=u,i))})}get sources(){let e=[];for(let r=0;r<this._sections.length;r++)for(let i=0;i<this._sections[r].consumer.sources.length;i++)e.push(this._sections[r].consumer.sources[i]);return e}originalPositionFor(e){let r={generatedLine:Se.getArg(e,"line"),generatedColumn:Se.getArg(e,"column")},i=HX.search(r,this._sections,function(s,o){let a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),n=this._sections[i];return n?n.consumer.originalPositionFor({line:r.generatedLine-(n.generatedOffset.generatedLine-1),column:r.generatedColumn-(n.generatedOffset.generatedLine===r.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})}sourceContentFor(e,r){for(let i=0;i<this._sections.length;i++){let s=this._sections[i].consumer.sourceContentFor(e,!0);if(s)return s}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}_findSectionIndex(e){for(let r=0;r<this._sections.length;r++){let{consumer:i}=this._sections[r];if(i._findSourceIndex(e)!==-1)return r}return-1}generatedPositionFor(e){let r=this._findSectionIndex(Se.getArg(e,"source")),i=r>=0?this._sections[r]:null,n=r>=0&&r+1<this._sections.length?this._sections[r+1]:null,s=i&&i.consumer.generatedPositionFor(e);if(s&&s.line!==null){let o=i.generatedOffset.generatedLine-1,a=i.generatedOffset.generatedColumn-1;return s.line===1&&(s.column+=a,typeof s.lastColumn=="number"&&(s.lastColumn+=a)),s.lastColumn===1/0&&n&&s.line===n.generatedOffset.generatedLine&&(s.lastColumn=n.generatedOffset.generatedColumn-2),s.line+=o,s}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(e){let r=this._findSectionIndex(Se.getArg(e,"source")),i=r>=0?this._sections[r]:null,n=r>=0&&r+1<this._sections.length?this._sections[r+1]:null;return i?i.consumer.allGeneratedPositionsFor(e).map(s=>{let o=i.generatedOffset.generatedLine-1,a=i.generatedOffset.generatedColumn-1;return s.line===1&&(s.column+=a,typeof s.lastColumn=="number"&&(s.lastColumn+=a)),s.lastColumn===1/0&&n&&s.line===n.generatedOffset.generatedLine&&(s.lastColumn=n.generatedOffset.generatedColumn-2),s.line+=o,s}):[]}eachMapping(e,r,i){this._sections.forEach((n,s)=>{let o=s+1<this._sections.length?this._sections[s+1]:null,{generatedOffset:a}=n,u=a.generatedLine-1,c=a.generatedColumn-1;n.consumer.eachMapping(function(l){l.generatedLine===1&&(l.generatedColumn+=c,typeof l.lastGeneratedColumn=="number"&&(l.lastGeneratedColumn+=c)),l.lastGeneratedColumn===1/0&&o&&l.generatedLine===o.generatedOffset.generatedLine&&(l.lastGeneratedColumn=o.generatedOffset.generatedColumn-2),l.generatedLine+=u,e.call(this,l)},r,i)})}computeColumnSpans(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.computeColumnSpans()}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}};Mm.IndexedSourceMapConsumer=$m;function vX(t,e){let r=t;typeof t=="string"&&(r=Se.parseSourceMapInput(t));let i=r.sections!=null?new $m(r,e):new uo(r,e);return Promise.resolve(i)}function _X(t,e){return uo.fromSourceMap(t,e)}});var hT=v(dT=>{var wX=U_().SourceMapGenerator,km=Jp(),IX=/(\r?\n)/,AX=10,dc="$$$isSourceNode$$$",hc=class{constructor(e,r,i,n,s){this.children=[],this.sourceContents={},this.line=e??null,this.column=r??null,this.source=i??null,this.name=s??null,this[dc]=!0,n!=null&&this.add(n)}static fromStringWithSourceMap(e,r,i){let n=new hc,s=e.split(IX),o=0,a=function(){let g=y(),m=y()||"";return g+m;function y(){return o<s.length?s[o++]:void 0}},u=1,c=0,l=null,p;return r.eachMapping(function(g){if(l!==null)if(u<g.generatedLine)f(l,a()),u++,c=0;else{p=s[o]||"";let m=p.substr(0,g.generatedColumn-c);s[o]=p.substr(g.generatedColumn-c),c=g.generatedColumn,f(l,m),l=g;return}for(;u<g.generatedLine;)n.add(a()),u++;c<g.generatedColumn&&(p=s[o]||"",n.add(p.substr(0,g.generatedColumn)),s[o]=p.substr(g.generatedColumn),c=g.generatedColumn),l=g},this),o<s.length&&(l&&f(l,a()),n.add(s.splice(o).join(""))),r.sources.forEach(function(g){let m=r.sourceContentFor(g);m!=null&&(i!=null&&(g=km.join(i,g)),n.setSourceContent(g,m))}),n;function f(g,m){if(g===null||g.source===void 0)n.add(m);else{let y=i?km.join(i,g.source):g.source;n.add(new hc(g.originalLine,g.originalColumn,y,m,g.name))}}}add(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[dc]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}prepend(e){if(Array.isArray(e))for(let r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[dc]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}walk(e){let r;for(let i=0,n=this.children.length;i<n;i++)r=this.children[i],r[dc]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let r,i,n=this.children.length;if(n>0){for(r=[],i=0;i<n-1;i++)r.push(this.children[i]),r.push(e);r.push(this.children[i]),this.children=r}return this}replaceRight(e,r){let i=this.children[this.children.length-1];return i[dc]?i.replaceRight(e,r):typeof i=="string"?this.children[this.children.length-1]=i.replace(e,r):this.children.push("".replace(e,r)),this}setSourceContent(e,r){this.sourceContents[km.toSetString(e)]=r}walkSourceContents(e){for(let i=0,n=this.children.length;i<n;i++)this.children[i][dc]&&this.children[i].walkSourceContents(e);let r=Object.keys(this.sourceContents);for(let i=0,n=r.length;i<n;i++)e(km.fromSetString(r[i]),this.sourceContents[r[i]])}toString(){let e="";return this.walk(function(r){e+=r}),e}toStringWithSourceMap(e){let r={code:"",line:1,column:0},i=new wX(e),n=!1,s=null,o=null,a=null,u=null;return this.walk(function(c,l){r.code+=c,l.source!==null&&l.line!==null&&l.column!==null?((s!==l.source||o!==l.line||a!==l.column||u!==l.name)&&i.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),s=l.source,o=l.line,a=l.column,u=l.name,n=!0):n&&(i.addMapping({generated:{line:r.line,column:r.column}}),s=null,n=!1);for(let p=0,f=c.length;p<f;p++)c.charCodeAt(p)===AX?(r.line++,r.column=0,p+1===f?(s=null,n=!1):n&&i.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(c,l){i.setSourceContent(c,l)}),{code:r.code,map:i}}};dT.SourceNode=hc});var Om=v(Rm=>{Rm.SourceMapGenerator=U_().SourceMapGenerator;Rm.SourceMapConsumer=fT().SourceMapConsumer;Rm.SourceNode=hT().SourceNode});var Hg=v(Ai=>{"use strict";Ai.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;Ai.find=(t,e)=>t.nodes.find(r=>r.type===e);Ai.exceedsLimit=(t,e,r=1,i)=>i===!1||!Ai.isInteger(t)||!Ai.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=i;Ai.escapeNode=(t,e=0,r)=>{let i=t.nodes[e];i&&(r&&i.type===r||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)};Ai.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);Ai.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;Ai.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;Ai.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);Ai.flatten=(...t)=>{let e=[],r=i=>{for(let n=0;n<i.length;n++){let s=i[n];Array.isArray(s)?r(s,e):s!==void 0&&e.push(s)}return e};return r(t),e}});var yg=v((PHe,D$)=>{"use strict";var C$=Hg();D$.exports=(t,e={})=>{let r=(i,n={})=>{let s=e.escapeInvalid&&C$.isInvalidBrace(n),o=i.invalid===!0&&e.escapeInvalid===!0,a="";if(i.value)return(s||o)&&C$.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(let u of i.nodes)a+=r(u);return a};return r(t)}});var $$=v((LHe,T$)=>{"use strict";T$.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var j$=v((CHe,U$)=>{"use strict";var M$=$$(),Ga=(t,e,r)=>{if(M$(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(M$(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...r};typeof i.strictZeros=="boolean"&&(i.relaxZeros=i.strictZeros===!1);let n=String(i.relaxZeros),s=String(i.shorthand),o=String(i.capture),a=String(i.wrap),u=t+":"+e+"="+n+s+o+a;if(Ga.cache.hasOwnProperty(u))return Ga.cache[u].result;let c=Math.min(t,e),l=Math.max(t,e);if(Math.abs(c-l)===1){let y=t+"|"+e;return i.capture?`(${y})`:i.wrap===!1?y:`(?:${y})`}let p=F$(t)||F$(e),f={min:t,max:e,a:c,b:l},g=[],m=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),c<0){let y=l<0?Math.abs(l):1;m=k$(y,Math.abs(c),f,i),c=f.a=0}return l>=0&&(g=k$(c,l,f,i)),f.negatives=m,f.positives=g,f.result=d7(m,g,i),i.capture===!0?f.result=`(${f.result})`:i.wrap!==!1&&g.length+m.length>1&&(f.result=`(?:${f.result})`),Ga.cache[u]=f,f.result};function d7(t,e,r){let i=H0(t,e,"-",!1,r)||[],n=H0(e,t,"",!1,r)||[],s=H0(t,e,"-?",!0,r)||[];return i.concat(s).concat(n).join("|")}function h7(t,e){let r=1,i=1,n=O$(t,r),s=new Set([e]);for(;t<=n&&n<=e;)s.add(n),r+=1,n=O$(t,r);for(n=N$(e+1,i)-1;t<n&&n<=e;)s.add(n),i+=1,n=N$(e+1,i)-1;return s=[...s],s.sort(H7),s}function m7(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let i=g7(t,e),n=i.length,s="",o=0;for(let a=0;a<n;a++){let[u,c]=i[a];u===c?s+=u:u!=="0"||c!=="9"?s+=y7(u,c,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:n}}function k$(t,e,r,i){let n=h7(t,e),s=[],o=t,a;for(let u=0;u<n.length;u++){let c=n[u],l=m7(String(o),String(c),i),p="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+B$(a.count),o=c+1;continue}r.isPadded&&(p=b7(c,r,i)),l.string=p+l.pattern+B$(l.count),s.push(l),o=c+1,a=l}return s}function H0(t,e,r,i,n){let s=[];for(let o of t){let{string:a}=o;!i&&!R$(e,"string",a)&&s.push(r+a),i&&R$(e,"string",a)&&s.push(r+a)}return s}function g7(t,e){let r=[];for(let i=0;i<t.length;i++)r.push([t[i],e[i]]);return r}function H7(t,e){return t>e?1:e>t?-1:0}function R$(t,e,r){return t.some(i=>i[e]===r)}function O$(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function N$(t,e){return t-t%Math.pow(10,e)}function B$(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function y7(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function F$(t){return/^-?(0+)\d/.test(t)}function b7(t,e,r){if(!e.isPadded)return t;let i=Math.abs(e.maxLen-String(t).length),n=r.relaxZeros!==!1;switch(i){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${i}}`:`0{${i}}`}}Ga.cache={};Ga.clearCache=()=>Ga.cache={};U$.exports=Ga});var v0=v((DHe,J$)=>{"use strict";var v7=w("util"),V$=j$(),W$=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),_7=t=>e=>t===!0?Number(e):String(e),y0=t=>typeof t=="number"||typeof t=="string"&&t!=="",vf=t=>Number.isInteger(+t),b0=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},w7=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,I7=(t,e,r)=>{if(e>0){let i=t[0]==="-"?"-":"";i&&(t=t.slice(1)),t=i+t.padStart(i?e-1:e,"0")}return r===!1?String(t):t},q$=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},A7=(t,e)=>{t.negatives.sort((o,a)=>o<a?-1:o>a?1:0),t.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=e.capture?"":"?:",i="",n="",s;return t.positives.length&&(i=t.positives.join("|")),t.negatives.length&&(n=`-(${r}${t.negatives.join("|")})`),i&&n?s=`${i}|${n}`:s=i||n,e.wrap?`(${r}${s})`:s},G$=(t,e,r,i)=>{if(r)return V$(t,e,{wrap:!1,...i});let n=String.fromCharCode(t);if(t===e)return n;let s=String.fromCharCode(e);return`[${n}-${s}]`},K$=(t,e,r)=>{if(Array.isArray(t)){let i=r.wrap===!0,n=r.capture?"":"?:";return i?`(${n}${t.join("|")})`:t.join("|")}return V$(t,e,r)},z$=(...t)=>new RangeError("Invalid range arguments: "+v7.inspect(...t)),X$=(t,e,r)=>{if(r.strictRanges===!0)throw z$([t,e]);return[]},S7=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},E7=(t,e,r=1,i={})=>{let n=Number(t),s=Number(e);if(!Number.isInteger(n)||!Number.isInteger(s)){if(i.strictRanges===!0)throw z$([t,e]);return[]}n===0&&(n=0),s===0&&(s=0);let o=n>s,a=String(t),u=String(e),c=String(r);r=Math.max(Math.abs(r),1);let l=b0(a)||b0(u)||b0(c),p=l?Math.max(a.length,u.length,c.length):0,f=l===!1&&w7(t,e,i)===!1,g=i.transform||_7(f);if(i.toRegex&&r===1)return G$(q$(t,p),q$(e,p),!0,i);let m={negatives:[],positives:[]},y=B=>m[B<0?"negatives":"positives"].push(Math.abs(B)),b=[],I=0;for(;o?n>=s:n<=s;)i.toRegex===!0&&r>1?y(n):b.push(I7(g(n,I),p,f)),n=o?n-r:n+r,I++;return i.toRegex===!0?r>1?A7(m,i):K$(b,null,{wrap:!1,...i}):b},x7=(t,e,r=1,i={})=>{if(!vf(t)&&t.length>1||!vf(e)&&e.length>1)return X$(t,e,i);let n=i.transform||(f=>String.fromCharCode(f)),s=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=s>o,u=Math.min(s,o),c=Math.max(s,o);if(i.toRegex&&r===1)return G$(u,c,!1,i);let l=[],p=0;for(;a?s>=o:s<=o;)l.push(n(s,p)),s=a?s-r:s+r,p++;return i.toRegex===!0?K$(l,null,{wrap:!1,options:i}):l},bg=(t,e,r,i={})=>{if(e==null&&y0(t))return[t];if(!y0(t)||!y0(e))return X$(t,e,i);if(typeof r=="function")return bg(t,e,1,{transform:r});if(W$(r))return bg(t,e,0,r);let n={...i};return n.capture===!0&&(n.wrap=!0),r=r||n.step||1,vf(r)?vf(t)&&vf(e)?E7(t,e,r,n):x7(t,e,Math.max(Math.abs(r),1),n):r!=null&&!W$(r)?S7(r,n):bg(t,e,1,r)};J$.exports=bg});var Z$=v((THe,Q$)=>{"use strict";var P7=v0(),Y$=Hg(),L7=(t,e={})=>{let r=(i,n={})=>{let s=Y$.isInvalidBrace(n),o=i.invalid===!0&&e.escapeInvalid===!0,a=s===!0||o===!0,u=e.escapeInvalid===!0?"\\":"",c="";if(i.isOpen===!0||i.isClose===!0)return u+i.value;if(i.type==="open")return a?u+i.value:"(";if(i.type==="close")return a?u+i.value:")";if(i.type==="comma")return i.prev.type==="comma"?"":a?i.value:"|";if(i.value)return i.value;if(i.nodes&&i.ranges>0){let l=Y$.reduce(i.nodes),p=P7(...l,{...e,wrap:!1,toRegex:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(i.nodes)for(let l of i.nodes)c+=r(l,i);return c};return r(t)};Q$.exports=L7});var rM=v(($He,tM)=>{"use strict";var C7=v0(),eM=yg(),Fc=Hg(),Ka=(t="",e="",r=!1)=>{let i=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Fc.flatten(e).map(n=>`{${n}}`):e;for(let n of t)if(Array.isArray(n))for(let s of n)i.push(Ka(s,e,r));else for(let s of e)r===!0&&typeof s=="string"&&(s=`{${s}}`),i.push(Array.isArray(s)?Ka(n,s,r):n+s);return Fc.flatten(i)},D7=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,i=(n,s={})=>{n.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(n.invalid||n.dollar){a.push(Ka(a.pop(),eM(n,e)));return}if(n.type==="brace"&&n.invalid!==!0&&n.nodes.length===2){a.push(Ka(a.pop(),["{}"]));return}if(n.nodes&&n.ranges>0){let p=Fc.reduce(n.nodes);if(Fc.exceedsLimit(...p,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=C7(...p,e);f.length===0&&(f=eM(n,e)),a.push(Ka(a.pop(),f)),n.nodes=[];return}let u=Fc.encloseBrace(n),c=n.queue,l=n;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let p=0;p<n.nodes.length;p++){let f=n.nodes[p];if(f.type==="comma"&&n.type==="brace"){p===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(Ka(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(Ka(c.pop(),f.value));continue}f.nodes&&i(f,n)}return c};return Fc.flatten(i(t))};tM.exports=D7});var nM=v((MHe,iM)=>{"use strict";iM.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var cM=v((kHe,uM)=>{"use strict";var T7=yg(),{MAX_LENGTH:sM,CHAR_BACKSLASH:_0,CHAR_BACKTICK:$7,CHAR_COMMA:M7,CHAR_DOT:k7,CHAR_LEFT_PARENTHESES:R7,CHAR_RIGHT_PARENTHESES:O7,CHAR_LEFT_CURLY_BRACE:N7,CHAR_RIGHT_CURLY_BRACE:B7,CHAR_LEFT_SQUARE_BRACKET:oM,CHAR_RIGHT_SQUARE_BRACKET:aM,CHAR_DOUBLE_QUOTE:F7,CHAR_SINGLE_QUOTE:U7,CHAR_NO_BREAK_SPACE:j7,CHAR_ZERO_WIDTH_NOBREAK_SPACE:W7}=nM(),q7=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},i=typeof r.maxLength=="number"?Math.min(sM,r.maxLength):sM;if(t.length>i)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${i})`);let n={type:"root",input:t,nodes:[]},s=[n],o=n,a=n,u=0,c=t.length,l=0,p=0,f,g={},m=()=>t[l++],y=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return o.nodes.push(b),b.parent=o,b.prev=a,a=b,b};for(y({type:"bos"});l<c;)if(o=s[s.length-1],f=m(),!(f===W7||f===j7)){if(f===_0){y({type:"text",value:(e.keepEscaping?f:"")+m()});continue}if(f===aM){y({type:"text",value:"\\"+f});continue}if(f===oM){u++;let b=!0,I;for(;l<c&&(I=m());){if(f+=I,I===oM){u++;continue}if(I===_0){f+=m();continue}if(I===aM&&(u--,u===0))break}y({type:"text",value:f});continue}if(f===R7){o=y({type:"paren",nodes:[]}),s.push(o),y({type:"text",value:f});continue}if(f===O7){if(o.type!=="paren"){y({type:"text",value:f});continue}o=s.pop(),y({type:"text",value:f}),o=s[s.length-1];continue}if(f===F7||f===U7||f===$7){let b=f,I;for(e.keepQuotes!==!0&&(f="");l<c&&(I=m());){if(I===_0){f+=I+m();continue}if(I===b){e.keepQuotes===!0&&(f+=I);break}f+=I}y({type:"text",value:f});continue}if(f===N7){p++;let I={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};o=y(I),s.push(o),y({type:"open",value:f});continue}if(f===B7){if(o.type!=="brace"){y({type:"text",value:f});continue}let b="close";o=s.pop(),o.close=!0,y({type:b,value:f}),p--,o=s[s.length-1];continue}if(f===M7&&p>0){if(o.ranges>0){o.ranges=0;let b=o.nodes.shift();o.nodes=[b,{type:"text",value:T7(o)}]}y({type:"comma",value:f}),o.commas++;continue}if(f===k7&&p>0&&o.commas===0){let b=o.nodes;if(p===0||b.length===0){y({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){b.pop();let I=b[b.length-1];I.value+=a.value+f,a=I,o.ranges--;continue}y({type:"dot",value:f});continue}y({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(B=>{B.nodes||(B.type==="open"&&(B.isOpen=!0),B.type==="close"&&(B.isClose=!0),B.nodes||(B.type="text"),B.invalid=!0)});let b=s[s.length-1],I=b.nodes.indexOf(o);b.nodes.splice(I,1,...o.nodes)}while(s.length>0);return y({type:"eos"}),n};uM.exports=q7});var fM=v((RHe,pM)=>{"use strict";var lM=yg(),V7=Z$(),G7=rM(),K7=cM(),ei=(t,e={})=>{let r=[];if(Array.isArray(t))for(let i of t){let n=ei.create(i,e);Array.isArray(n)?r.push(...n):r.push(n)}else r=[].concat(ei.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};ei.parse=(t,e={})=>K7(t,e);ei.stringify=(t,e={})=>lM(typeof t=="string"?ei.parse(t,e):t,e);ei.compile=(t,e={})=>(typeof t=="string"&&(t=ei.parse(t,e)),V7(t,e));ei.expand=(t,e={})=>{typeof t=="string"&&(t=ei.parse(t,e));let r=G7(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};ei.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?ei.compile(t,e):ei.expand(t,e);pM.exports=ei});var _f=v((OHe,HM)=>{"use strict";var z7=w("path"),jn="\\\\/",dM=`[^${jn}]`,As="\\.",X7="\\+",J7="\\?",vg="\\/",Y7="(?=.)",hM="[^/]",w0=`(?:${vg}|$)`,mM=`(?:^|${vg})`,I0=`${As}{1,2}${w0}`,Q7=`(?!${As})`,Z7=`(?!${mM}${I0})`,eJ=`(?!${As}{0,1}${w0})`,tJ=`(?!${I0})`,rJ=`[^.${vg}]`,iJ=`${hM}*?`,gM={DOT_LITERAL:As,PLUS_LITERAL:X7,QMARK_LITERAL:J7,SLASH_LITERAL:vg,ONE_CHAR:Y7,QMARK:hM,END_ANCHOR:w0,DOTS_SLASH:I0,NO_DOT:Q7,NO_DOTS:Z7,NO_DOT_SLASH:eJ,NO_DOTS_SLASH:tJ,QMARK_NO_DOT:rJ,STAR:iJ,START_ANCHOR:mM},nJ={...gM,SLASH_LITERAL:`[${jn}]`,QMARK:dM,STAR:`${dM}*?`,DOTS_SLASH:`${As}{1,2}(?:[${jn}]|$)`,NO_DOT:`(?!${As})`,NO_DOTS:`(?!(?:^|[${jn}])${As}{1,2}(?:[${jn}]|$))`,NO_DOT_SLASH:`(?!${As}{0,1}(?:[${jn}]|$))`,NO_DOTS_SLASH:`(?!${As}{1,2}(?:[${jn}]|$))`,QMARK_NO_DOT:`[^.${jn}]`,START_ANCHOR:`(?:^|[${jn}])`,END_ANCHOR:`(?:[${jn}]|$)`},sJ={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};HM.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:sJ,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:z7.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?nJ:gM}}});var wf=v(Vr=>{"use strict";var oJ=w("path"),aJ=process.platform==="win32",{REGEX_BACKSLASH:uJ,REGEX_REMOVE_BACKSLASH:cJ,REGEX_SPECIAL_CHARS:lJ,REGEX_SPECIAL_CHARS_GLOBAL:pJ}=_f();Vr.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);Vr.hasRegexChars=t=>lJ.test(t);Vr.isRegexChar=t=>t.length===1&&Vr.hasRegexChars(t);Vr.escapeRegex=t=>t.replace(pJ,"\\$1");Vr.toPosixSlashes=t=>t.replace(uJ,"/");Vr.removeBackslashes=t=>t.replace(cJ,e=>e==="\\"?"":e);Vr.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};Vr.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:aJ===!0||oJ.sep==="\\";Vr.escapeLast=(t,e,r)=>{let i=t.lastIndexOf(e,r);return i===-1?t:t[i-1]==="\\"?Vr.escapeLast(t,e,i-1):`${t.slice(0,i)}\\${t.slice(i)}`};Vr.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};Vr.wrapOutput=(t,e={},r={})=>{let i=r.contains?"":"^",n=r.contains?"":"$",s=`${i}(?:${t})${n}`;return e.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var SM=v((BHe,AM)=>{"use strict";var yM=wf(),{CHAR_ASTERISK:A0,CHAR_AT:fJ,CHAR_BACKWARD_SLASH:If,CHAR_COMMA:dJ,CHAR_DOT:S0,CHAR_EXCLAMATION_MARK:E0,CHAR_FORWARD_SLASH:IM,CHAR_LEFT_CURLY_BRACE:x0,CHAR_LEFT_PARENTHESES:P0,CHAR_LEFT_SQUARE_BRACKET:hJ,CHAR_PLUS:mJ,CHAR_QUESTION_MARK:bM,CHAR_RIGHT_CURLY_BRACE:gJ,CHAR_RIGHT_PARENTHESES:vM,CHAR_RIGHT_SQUARE_BRACKET:HJ}=_f(),_M=t=>t===IM||t===If,wM=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},yJ=(t,e)=>{let r=e||{},i=t.length-1,n=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=t,c=-1,l=0,p=0,f=!1,g=!1,m=!1,y=!1,b=!1,I=!1,B=!1,W=!1,P=!1,D=!1,G=0,q,N,M={value:"",depth:0,isGlob:!1},O=()=>c>=i,S=()=>u.charCodeAt(c+1),$=()=>(q=N,u.charCodeAt(++c));for(;c<i;){N=$();let te;if(N===If){B=M.backslashes=!0,N=$(),N===x0&&(I=!0);continue}if(I===!0||N===x0){for(G++;O()!==!0&&(N=$());){if(N===If){B=M.backslashes=!0,$();continue}if(N===x0){G++;continue}if(I!==!0&&N===S0&&(N=$())===S0){if(f=M.isBrace=!0,m=M.isGlob=!0,D=!0,n===!0)continue;break}if(I!==!0&&N===dJ){if(f=M.isBrace=!0,m=M.isGlob=!0,D=!0,n===!0)continue;break}if(N===gJ&&(G--,G===0)){I=!1,f=M.isBrace=!0,D=!0;break}}if(n===!0)continue;break}if(N===IM){if(s.push(c),o.push(M),M={value:"",depth:0,isGlob:!1},D===!0)continue;if(q===S0&&c===l+1){l+=2;continue}p=c+1;continue}if(r.noext!==!0&&(N===mJ||N===fJ||N===A0||N===bM||N===E0)===!0&&S()===P0){if(m=M.isGlob=!0,y=M.isExtglob=!0,D=!0,N===E0&&c===l&&(P=!0),n===!0){for(;O()!==!0&&(N=$());){if(N===If){B=M.backslashes=!0,N=$();continue}if(N===vM){m=M.isGlob=!0,D=!0;break}}continue}break}if(N===A0){if(q===A0&&(b=M.isGlobstar=!0),m=M.isGlob=!0,D=!0,n===!0)continue;break}if(N===bM){if(m=M.isGlob=!0,D=!0,n===!0)continue;break}if(N===hJ){for(;O()!==!0&&(te=$());){if(te===If){B=M.backslashes=!0,$();continue}if(te===HJ){g=M.isBracket=!0,m=M.isGlob=!0,D=!0;break}}if(n===!0)continue;break}if(r.nonegate!==!0&&N===E0&&c===l){W=M.negated=!0,l++;continue}if(r.noparen!==!0&&N===P0){if(m=M.isGlob=!0,n===!0){for(;O()!==!0&&(N=$());){if(N===P0){B=M.backslashes=!0,N=$();continue}if(N===vM){D=!0;break}}continue}break}if(m===!0){if(D=!0,n===!0)continue;break}}r.noext===!0&&(y=!1,m=!1);let R=u,X="",L="";l>0&&(X=u.slice(0,l),u=u.slice(l),p-=l),R&&m===!0&&p>0?(R=u.slice(0,p),L=u.slice(p)):m===!0?(R="",L=u):R=u,R&&R!==""&&R!=="/"&&R!==u&&_M(R.charCodeAt(R.length-1))&&(R=R.slice(0,-1)),r.unescape===!0&&(L&&(L=yM.removeBackslashes(L)),R&&B===!0&&(R=yM.removeBackslashes(R)));let C={prefix:X,input:t,start:l,base:R,glob:L,isBrace:f,isBracket:g,isGlob:m,isExtglob:y,isGlobstar:b,negated:W,negatedExtglob:P};if(r.tokens===!0&&(C.maxDepth=0,_M(N)||o.push(M),C.tokens=o),r.parts===!0||r.tokens===!0){let te;for(let re=0;re<s.length;re++){let se=te?te+1:l,oe=s[re],ie=t.slice(se,oe);r.tokens&&(re===0&&l!==0?(o[re].isPrefix=!0,o[re].value=X):o[re].value=ie,wM(o[re]),C.maxDepth+=o[re].depth),(re!==0||ie!=="")&&a.push(ie),te=oe}if(te&&te+1<t.length){let re=t.slice(te+1);a.push(re),r.tokens&&(o[o.length-1].value=re,wM(o[o.length-1]),C.maxDepth+=o[o.length-1].depth)}C.slashes=s,C.parts=a}return C};AM.exports=yJ});var PM=v((FHe,xM)=>{"use strict";var _g=_f(),ti=wf(),{MAX_LENGTH:wg,POSIX_REGEX_SOURCE:bJ,REGEX_NON_SPECIAL_CHARS:vJ,REGEX_SPECIAL_CHARS_BACKREF:_J,REPLACEMENTS:EM}=_g,wJ=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(n=>ti.escapeRegex(n)).join("..")}return r},Uc=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,L0=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=EM[t]||t;let r={...e},i=typeof r.maxLength=="number"?Math.min(wg,r.maxLength):wg,n=t.length;if(n>i)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${i}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=ti.isWindows(e),c=_g.globChars(u),l=_g.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:g,ONE_CHAR:m,DOTS_SLASH:y,NO_DOT:b,NO_DOT_SLASH:I,NO_DOTS_SLASH:B,QMARK:W,QMARK_NO_DOT:P,STAR:D,START_ANCHOR:G}=c,q=Q=>`(${a}(?:(?!${G}${Q.dot?y:p}).)*?)`,N=r.dot?"":b,M=r.dot?W:P,O=r.bash===!0?q(r):D;r.capture&&(O=`(${O})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let S={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=ti.removePrefix(t,S),n=t.length;let $=[],R=[],X=[],L=s,C,te=()=>S.index===n-1,re=S.peek=(Q=1)=>t[S.index+Q],se=S.advance=()=>t[++S.index]||"",oe=()=>t.slice(S.index+1),ie=(Q="",Ce=0)=>{S.consumed+=Q,S.index+=Ce},de=Q=>{S.output+=Q.output!=null?Q.output:Q.value,ie(Q.value)},we=()=>{let Q=1;for(;re()==="!"&&(re(2)!=="("||re(3)==="?");)se(),S.start++,Q++;return Q%2===0?!1:(S.negated=!0,S.start++,!0)},ge=Q=>{S[Q]++,X.push(Q)},Pt=Q=>{S[Q]--,X.pop()},be=Q=>{if(L.type==="globstar"){let Ce=S.braces>0&&(Q.type==="comma"||Q.type==="brace"),Y=Q.extglob===!0||$.length&&(Q.type==="pipe"||Q.type==="paren");Q.type!=="slash"&&Q.type!=="paren"&&!Ce&&!Y&&(S.output=S.output.slice(0,-L.output.length),L.type="star",L.value="*",L.output=O,S.output+=L.output)}if($.length&&Q.type!=="paren"&&($[$.length-1].inner+=Q.value),(Q.value||Q.output)&&de(Q),L&&L.type==="text"&&Q.type==="text"){L.value+=Q.value,L.output=(L.output||"")+Q.value;return}Q.prev=L,o.push(Q),L=Q},_r=(Q,Ce)=>{let Y={...l[Ce],conditions:1,inner:""};Y.prev=L,Y.parens=S.parens,Y.output=S.output;let He=(r.capture?"(":"")+Y.open;ge("parens"),be({type:Q,value:Ce,output:S.output?"":m}),be({type:"paren",extglob:!0,value:se(),output:He}),$.push(Y)},Xr=Q=>{let Ce=Q.close+(r.capture?")":""),Y;if(Q.type==="negate"){let He=O;if(Q.inner&&Q.inner.length>1&&Q.inner.includes("/")&&(He=q(r)),(He!==O||te()||/^\)+$/.test(oe()))&&(Ce=Q.close=`)$))${He}`),Q.inner.includes("*")&&(Y=oe())&&/^\.[^\\/.]+$/.test(Y)){let Ue=L0(Y,{...e,fastpaths:!1}).output;Ce=Q.close=`)${Ue})${He})`}Q.prev.type==="bos"&&(S.negatedExtglob=!0)}be({type:"paren",extglob:!0,value:C,output:Ce}),Pt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let Q=!1,Ce=t.replace(_J,(Y,He,Ue,ct,gt,Js)=>ct==="\\"?(Q=!0,Y):ct==="?"?He?He+ct+(gt?W.repeat(gt.length):""):Js===0?M+(gt?W.repeat(gt.length):""):W.repeat(Ue.length):ct==="."?p.repeat(Ue.length):ct==="*"?He?He+ct+(gt?O:""):O:He?Y:`\\${Y}`);return Q===!0&&(r.unescape===!0?Ce=Ce.replace(/\\/g,""):Ce=Ce.replace(/\\+/g,Y=>Y.length%2===0?"\\\\":Y?"\\":"")),Ce===t&&r.contains===!0?(S.output=t,S):(S.output=ti.wrapOutput(Ce,S,e),S)}for(;!te();){if(C=se(),C==="\0")continue;if(C==="\\"){let Y=re();if(Y==="/"&&r.bash!==!0||Y==="."||Y===";")continue;if(!Y){C+="\\",be({type:"text",value:C});continue}let He=/^\\+/.exec(oe()),Ue=0;if(He&&He[0].length>2&&(Ue=He[0].length,S.index+=Ue,Ue%2!==0&&(C+="\\")),r.unescape===!0?C=se():C+=se(),S.brackets===0){be({type:"text",value:C});continue}}if(S.brackets>0&&(C!=="]"||L.value==="["||L.value==="[^")){if(r.posix!==!1&&C===":"){let Y=L.value.slice(1);if(Y.includes("[")&&(L.posix=!0,Y.includes(":"))){let He=L.value.lastIndexOf("["),Ue=L.value.slice(0,He),ct=L.value.slice(He+2),gt=bJ[ct];if(gt){L.value=Ue+gt,S.backtrack=!0,se(),!s.output&&o.indexOf(L)===1&&(s.output=m);continue}}}(C==="["&&re()!==":"||C==="-"&&re()==="]")&&(C=`\\${C}`),C==="]"&&(L.value==="["||L.value==="[^")&&(C=`\\${C}`),r.posix===!0&&C==="!"&&L.value==="["&&(C="^"),L.value+=C,de({value:C});continue}if(S.quotes===1&&C!=='"'){C=ti.escapeRegex(C),L.value+=C,de({value:C});continue}if(C==='"'){S.quotes=S.quotes===1?0:1,r.keepQuotes===!0&&be({type:"text",value:C});continue}if(C==="("){ge("parens"),be({type:"paren",value:C});continue}if(C===")"){if(S.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Uc("opening","("));let Y=$[$.length-1];if(Y&&S.parens===Y.parens+1){Xr($.pop());continue}be({type:"paren",value:C,output:S.parens?")":"\\)"}),Pt("parens");continue}if(C==="["){if(r.nobracket===!0||!oe().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Uc("closing","]"));C=`\\${C}`}else ge("brackets");be({type:"bracket",value:C});continue}if(C==="]"){if(r.nobracket===!0||L&&L.type==="bracket"&&L.value.length===1){be({type:"text",value:C,output:`\\${C}`});continue}if(S.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Uc("opening","["));be({type:"text",value:C,output:`\\${C}`});continue}Pt("brackets");let Y=L.value.slice(1);if(L.posix!==!0&&Y[0]==="^"&&!Y.includes("/")&&(C=`/${C}`),L.value+=C,de({value:C}),r.literalBrackets===!1||ti.hasRegexChars(Y))continue;let He=ti.escapeRegex(L.value);if(S.output=S.output.slice(0,-L.value.length),r.literalBrackets===!0){S.output+=He,L.value=He;continue}L.value=`(${a}${He}|${L.value})`,S.output+=L.value;continue}if(C==="{"&&r.nobrace!==!0){ge("braces");let Y={type:"brace",value:C,output:"(",outputIndex:S.output.length,tokensIndex:S.tokens.length};R.push(Y),be(Y);continue}if(C==="}"){let Y=R[R.length-1];if(r.nobrace===!0||!Y){be({type:"text",value:C,output:C});continue}let He=")";if(Y.dots===!0){let Ue=o.slice(),ct=[];for(let gt=Ue.length-1;gt>=0&&(o.pop(),Ue[gt].type!=="brace");gt--)Ue[gt].type!=="dots"&&ct.unshift(Ue[gt].value);He=wJ(ct,r),S.backtrack=!0}if(Y.comma!==!0&&Y.dots!==!0){let Ue=S.output.slice(0,Y.outputIndex),ct=S.tokens.slice(Y.tokensIndex);Y.value=Y.output="\\{",C=He="\\}",S.output=Ue;for(let gt of ct)S.output+=gt.output||gt.value}be({type:"brace",value:C,output:He}),Pt("braces"),R.pop();continue}if(C==="|"){$.length>0&&$[$.length-1].conditions++,be({type:"text",value:C});continue}if(C===","){let Y=C,He=R[R.length-1];He&&X[X.length-1]==="braces"&&(He.comma=!0,Y="|"),be({type:"comma",value:C,output:Y});continue}if(C==="/"){if(L.type==="dot"&&S.index===S.start+1){S.start=S.index+1,S.consumed="",S.output="",o.pop(),L=s;continue}be({type:"slash",value:C,output:g});continue}if(C==="."){if(S.braces>0&&L.type==="dot"){L.value==="."&&(L.output=p);let Y=R[R.length-1];L.type="dots",L.output+=C,L.value+=C,Y.dots=!0;continue}if(S.braces+S.parens===0&&L.type!=="bos"&&L.type!=="slash"){be({type:"text",value:C,output:p});continue}be({type:"dot",value:C,output:p});continue}if(C==="?"){if(!(L&&L.value==="(")&&r.noextglob!==!0&&re()==="("&&re(2)!=="?"){_r("qmark",C);continue}if(L&&L.type==="paren"){let He=re(),Ue=C;if(He==="<"&&!ti.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(L.value==="("&&!/[!=<:]/.test(He)||He==="<"&&!/<([!=]|\w+>)/.test(oe()))&&(Ue=`\\${C}`),be({type:"text",value:C,output:Ue});continue}if(r.dot!==!0&&(L.type==="slash"||L.type==="bos")){be({type:"qmark",value:C,output:P});continue}be({type:"qmark",value:C,output:W});continue}if(C==="!"){if(r.noextglob!==!0&&re()==="("&&(re(2)!=="?"||!/[!=<:]/.test(re(3)))){_r("negate",C);continue}if(r.nonegate!==!0&&S.index===0){we();continue}}if(C==="+"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){_r("plus",C);continue}if(L&&L.value==="("||r.regex===!1){be({type:"plus",value:C,output:f});continue}if(L&&(L.type==="bracket"||L.type==="paren"||L.type==="brace")||S.parens>0){be({type:"plus",value:C});continue}be({type:"plus",value:f});continue}if(C==="@"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){be({type:"at",extglob:!0,value:C,output:""});continue}be({type:"text",value:C});continue}if(C!=="*"){(C==="$"||C==="^")&&(C=`\\${C}`);let Y=vJ.exec(oe());Y&&(C+=Y[0],S.index+=Y[0].length),be({type:"text",value:C});continue}if(L&&(L.type==="globstar"||L.star===!0)){L.type="star",L.star=!0,L.value+=C,L.output=O,S.backtrack=!0,S.globstar=!0,ie(C);continue}let Q=oe();if(r.noextglob!==!0&&/^\([^?]/.test(Q)){_r("star",C);continue}if(L.type==="star"){if(r.noglobstar===!0){ie(C);continue}let Y=L.prev,He=Y.prev,Ue=Y.type==="slash"||Y.type==="bos",ct=He&&(He.type==="star"||He.type==="globstar");if(r.bash===!0&&(!Ue||Q[0]&&Q[0]!=="/")){be({type:"star",value:C,output:""});continue}let gt=S.braces>0&&(Y.type==="comma"||Y.type==="brace"),Js=$.length&&(Y.type==="pipe"||Y.type==="paren");if(!Ue&&Y.type!=="paren"&&!gt&&!Js){be({type:"star",value:C,output:""});continue}for(;Q.slice(0,3)==="/**";){let Ys=t[S.index+4];if(Ys&&Ys!=="/")break;Q=Q.slice(3),ie("/**",3)}if(Y.type==="bos"&&te()){L.type="globstar",L.value+=C,L.output=q(r),S.output=L.output,S.globstar=!0,ie(C);continue}if(Y.type==="slash"&&Y.prev.type!=="bos"&&!ct&&te()){S.output=S.output.slice(0,-(Y.output+L.output).length),Y.output=`(?:${Y.output}`,L.type="globstar",L.output=q(r)+(r.strictSlashes?")":"|$)"),L.value+=C,S.globstar=!0,S.output+=Y.output+L.output,ie(C);continue}if(Y.type==="slash"&&Y.prev.type!=="bos"&&Q[0]==="/"){let Ys=Q[1]!==void 0?"|$":"";S.output=S.output.slice(0,-(Y.output+L.output).length),Y.output=`(?:${Y.output}`,L.type="globstar",L.output=`${q(r)}${g}|${g}${Ys})`,L.value+=C,S.output+=Y.output+L.output,S.globstar=!0,ie(C+se()),be({type:"slash",value:"/",output:""});continue}if(Y.type==="bos"&&Q[0]==="/"){L.type="globstar",L.value+=C,L.output=`(?:^|${g}|${q(r)}${g})`,S.output=L.output,S.globstar=!0,ie(C+se()),be({type:"slash",value:"/",output:""});continue}S.output=S.output.slice(0,-L.output.length),L.type="globstar",L.output=q(r),L.value+=C,S.output+=L.output,S.globstar=!0,ie(C);continue}let Ce={type:"star",value:C,output:O};if(r.bash===!0){Ce.output=".*?",(L.type==="bos"||L.type==="slash")&&(Ce.output=N+Ce.output),be(Ce);continue}if(L&&(L.type==="bracket"||L.type==="paren")&&r.regex===!0){Ce.output=C,be(Ce);continue}(S.index===S.start||L.type==="slash"||L.type==="dot")&&(L.type==="dot"?(S.output+=I,L.output+=I):r.dot===!0?(S.output+=B,L.output+=B):(S.output+=N,L.output+=N),re()!=="*"&&(S.output+=m,L.output+=m)),be(Ce)}for(;S.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Uc("closing","]"));S.output=ti.escapeLast(S.output,"["),Pt("brackets")}for(;S.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Uc("closing",")"));S.output=ti.escapeLast(S.output,"("),Pt("parens")}for(;S.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Uc("closing","}"));S.output=ti.escapeLast(S.output,"{"),Pt("braces")}if(r.strictSlashes!==!0&&(L.type==="star"||L.type==="bracket")&&be({type:"maybe_slash",value:"",output:`${g}?`}),S.backtrack===!0){S.output="";for(let Q of S.tokens)S.output+=Q.output!=null?Q.output:Q.value,Q.suffix&&(S.output+=Q.suffix)}return S};L0.fastpaths=(t,e)=>{let r={...e},i=typeof r.maxLength=="number"?Math.min(wg,r.maxLength):wg,n=t.length;if(n>i)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${i}`);t=EM[t]||t;let s=ti.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:g,START_ANCHOR:m}=_g.globChars(s),y=r.dot?p:l,b=r.dot?f:l,I=r.capture?"":"?:",B={negated:!1,prefix:""},W=r.bash===!0?".*?":g;r.capture&&(W=`(${W})`);let P=N=>N.noglobstar===!0?W:`(${I}(?:(?!${m}${N.dot?c:o}).)*?)`,D=N=>{switch(N){case"*":return`${y}${u}${W}`;case".*":return`${o}${u}${W}`;case"*.*":return`${y}${W}${o}${u}${W}`;case"*/*":return`${y}${W}${a}${u}${b}${W}`;case"**":return y+P(r);case"**/*":return`(?:${y}${P(r)}${a})?${b}${u}${W}`;case"**/*.*":return`(?:${y}${P(r)}${a})?${b}${W}${o}${u}${W}`;case"**/.*":return`(?:${y}${P(r)}${a})?${o}${u}${W}`;default:{let M=/^(.*?)\.(\w+)$/.exec(N);if(!M)return;let O=D(M[1]);return O?O+o+M[2]:void 0}}},G=ti.removePrefix(t,B),q=D(G);return q&&r.strictSlashes!==!0&&(q+=`${a}?`),q};xM.exports=L0});var CM=v((UHe,LM)=>{"use strict";var IJ=w("path"),AJ=SM(),C0=PM(),D0=wf(),SJ=_f(),EJ=t=>t&&typeof t=="object"&&!Array.isArray(t),At=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(f=>At(f,e,r));return f=>{for(let g of l){let m=g(f);if(m)return m}return!1}}let i=EJ(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!i)throw new TypeError("Expected pattern to be a non-empty string");let n=e||{},s=D0.isWindows(e),o=i?At.compileRe(t,e):At.makeRe(t,e,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(n.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};u=At(n.ignore,l,r)}let c=(l,p=!1)=>{let{isMatch:f,match:g,output:m}=At.test(l,o,e,{glob:t,posix:s}),y={glob:t,state:a,regex:o,posix:s,input:l,output:m,match:g,isMatch:f};return typeof n.onResult=="function"&&n.onResult(y),f===!1?(y.isMatch=!1,p?y:!1):u(l)?(typeof n.onIgnore=="function"&&n.onIgnore(y),y.isMatch=!1,p?y:!1):(typeof n.onMatch=="function"&&n.onMatch(y),p?y:!0)};return r&&(c.state=a),c};At.test=(t,e,r,{glob:i,posix:n}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(n?D0.toPosixSlashes:null),a=t===i,u=a&&o?o(t):t;return a===!1&&(u=o?o(t):t,a=u===i),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=At.matchBase(t,e,r,n):a=e.exec(u)),{isMatch:Boolean(a),match:a,output:u}};At.matchBase=(t,e,r,i=D0.isWindows(r))=>(e instanceof RegExp?e:At.makeRe(e,r)).test(IJ.basename(t));At.isMatch=(t,e,r)=>At(e,r)(t);At.parse=(t,e)=>Array.isArray(t)?t.map(r=>At.parse(r,e)):C0(t,{...e,fastpaths:!1});At.scan=(t,e)=>AJ(t,e);At.compileRe=(t,e,r=!1,i=!1)=>{if(r===!0)return t.output;let n=e||{},s=n.contains?"":"^",o=n.contains?"":"$",a=`${s}(?:${t.output})${o}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let u=At.toRegex(a,e);return i===!0&&(u.state=t),u};At.makeRe=(t,e={},r=!1,i=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let n={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(n.output=C0.fastpaths(t,e)),n.output||(n=C0(t,e)),At.compileRe(n,e,r,i)};At.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};At.constants=SJ;LM.exports=At});var TM=v((jHe,DM)=>{"use strict";DM.exports=CM()});var Af=v((WHe,RM)=>{"use strict";var MM=w("util"),kM=fM(),Wn=TM(),T0=wf(),$M=t=>t===""||t==="./",ht=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let i=new Set,n=new Set,s=new Set,o=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let p=Wn(String(e[l]),{...r,onResult:a},!0),f=p.state.negated||p.state.negatedExtglob;f&&o++;for(let g of t){let m=p(g,!0);(f?!m.isMatch:m.isMatch)&&(f?i.add(m.output):(i.delete(m.output),n.add(m.output)))}}let c=(o===e.length?[...s]:[...n]).filter(l=>!i.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return c};ht.match=ht;ht.matcher=(t,e)=>Wn(t,e);ht.isMatch=(t,e,r)=>Wn(e,r)(t);ht.any=ht.isMatch;ht.not=(t,e,r={})=>{e=[].concat(e).map(String);let i=new Set,n=[],s=a=>{r.onResult&&r.onResult(a),n.push(a.output)},o=new Set(ht(t,e,{...r,onResult:s}));for(let a of n)o.has(a)||i.add(a);return[...i]};ht.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${MM.inspect(t)}"`);if(Array.isArray(e))return e.some(i=>ht.contains(t,i,r));if(typeof e=="string"){if($M(t)||$M(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return ht.isMatch(t,e,{...r,contains:!0})};ht.matchKeys=(t,e,r)=>{if(!T0.isObject(t))throw new TypeError("Expected the first argument to be an object");let i=ht(Object.keys(t),e,r),n={};for(let s of i)n[s]=t[s];return n};ht.some=(t,e,r)=>{let i=[].concat(t);for(let n of[].concat(e)){let s=Wn(String(n),r);if(i.some(o=>s(o)))return!0}return!1};ht.every=(t,e,r)=>{let i=[].concat(t);for(let n of[].concat(e)){let s=Wn(String(n),r);if(!i.every(o=>s(o)))return!1}return!0};ht.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${MM.inspect(t)}"`);return[].concat(e).every(i=>Wn(i,r)(t))};ht.capture=(t,e,r)=>{let i=T0.isWindows(r),s=Wn.makeRe(String(t),{...r,capture:!0}).exec(i?T0.toPosixSlashes(e):e);if(s)return s.slice(1).map(o=>o===void 0?"":o)};ht.makeRe=(...t)=>Wn.makeRe(...t);ht.scan=(...t)=>Wn.scan(...t);ht.parse=(t,e)=>{let r=[];for(let i of[].concat(t||[]))for(let n of kM(String(i),e))r.push(Wn.parse(n,e));return r};ht.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:kM(t,e)};ht.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return ht.braces(t,{...e,expand:!0})};RM.exports=ht});var FM=v(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});function CJ(t){let e=[],r=new Array(4),i=[0,192,224,240],n=[127,63,63,63],s=[0,128,128,128];for(let o of t){let a=r,u=o.codePointAt(0),c=0-(-(u&4294967168)>>31)-(-(u&4294965248)>>31)-(-(u&4294901760)>>31),l=n[c],p=s[c];a[3]=p|u&l,a[2]=p|u>>>6&l,a[1]=p|u>>>12&l,a[0]=p|u>>>18&l;let f=3-c;a[f]|=i[c],Array.prototype.push.apply(e,a.slice(f))}return new Uint8Array(e)}So.toUtf8_1=CJ;function DJ(t){let e=[];for(let r of t){let i=r.codePointAt(0);i<128?e.push(i):i<2048?e.push(192|i>>6&31,128|i&63):i<65536?e.push(224|i>>12&15,128|i>>6&63,128|i&63):e.push(240|i>>18&7,128|i>>12&63,128|i>>6&63,128|i&63)}return new Uint8Array(e)}So.toUtf8_2=DJ;function BM(t){let e=[];for(let r=0,i=t.length;r<i;++r){let n=t.charCodeAt(r);if(n<128)e.push(n);else if(n<2048)e.push(192|n>>6,128|n&63);else if(n<55296||n>=57344)e.push(224|n>>12,128|n>>6&63,128|n&63);else{let s=65536+((n&1023)<<10|t.charCodeAt(++r)&1023);e.push(240|s>>18&7,128|s>>12&63,128|s>>6&63,128|s&63)}}return new Uint8Array(e)}So.toUtf8_3=BM;So.toUtf8=BM;So.default=So.toUtf8});var WM=v($0=>{"use strict";Object.defineProperty($0,"__esModule",{value:!0});var TJ=FM(),qc=2654435761,Vc=2246822519,Ag=3266489917,UM=668265263,jM=374761393;function $J(t,e=0){t=typeof t=="string"?TJ.default(t):t;let r=t,i=e+jM&4294967295,n=0;if(r.length>=16){let o=[e+qc+Vc&4294967295,e+Vc&4294967295,e+0&4294967295,e-qc&4294967295],a=t,u=a.length-16,c=0;for(n=0;(n&4294967280)<=u;n+=4){let l=n,p=a[l+0]+(a[l+1]<<8),f=a[l+2]+(a[l+3]<<8),g=p*Vc+(f*Vc<<16),m=o[c]+g&4294967295;m=m<<13|m>>>19;let y=m&65535,b=m>>>16;o[c]=y*qc+(b*qc<<16)&4294967295,c=c+1&3}i=(o[0]<<1|o[0]>>>31)+(o[1]<<7|o[1]>>>25)+(o[2]<<12|o[2]>>>20)+(o[3]<<18|o[3]>>>14)&4294967295}i=i+t.length&4294967295;let s=t.length-4;for(;n<=s;n+=4){let o=n,a=r[o+0]+(r[o+1]<<8),u=r[o+2]+(r[o+3]<<8),c=a*Ag+(u*Ag<<16);i=i+c&4294967295,i=i<<17|i>>>15,i=(i&65535)*UM+((i>>>16)*UM<<16)&4294967295}for(;n<r.length;++n){let o=r[n];i=i+o*jM,i=i<<11|i>>>21,i=(i&65535)*qc+((i>>>16)*qc<<16)&4294967295}return i=i^i>>>15,i=((i&65535)*Vc&4294967295)+((i>>>16)*Vc<<16),i=i^i>>>13,i=((i&65535)*Ag&4294967295)+((i>>>16)*Ag<<16),i=i^i>>>16,i<0?i+4294967296:i}$0.xxHash32=$J});var qM=v(Sg=>{"use strict";function MJ(t){for(var e in t)Sg.hasOwnProperty(e)||(Sg[e]=t[e])}Object.defineProperty(Sg,"__esModule",{value:!0});MJ(WM())});var c1=v((Rbe,u1)=>{"use strict";var{Duplex:UJ}=w("stream");function o1(t){t.emit("close")}function jJ(){!this.destroyed&&this._writableState.finished&&this.destroy()}function a1(t){this.removeListener("error",a1),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function WJ(t,e){let r=!0,i=new UJ({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(s,o){let a=!o&&i._readableState.objectMode?s.toString():s;i.push(a)||t.pause()}),t.once("error",function(s){i.destroyed||(r=!1,i.destroy(s))}),t.once("close",function(){i.destroyed||i.push(null)}),i._destroy=function(n,s){if(t.readyState===t.CLOSED){s(n),process.nextTick(o1,i);return}let o=!1;t.once("error",function(u){o=!0,s(u)}),t.once("close",function(){o||s(n),process.nextTick(o1,i)}),r&&t.terminate()},i._final=function(n){if(t.readyState===t.CONNECTING){t.once("open",function(){i._final(n)});return}t._socket!==null&&(t._socket._writableState.finished?(n(),i._readableState.endEmitted&&i.destroy()):(t._socket.once("finish",function(){n()}),t.close()))},i._read=function(){t.isPaused&&t.resume()},i._write=function(n,s,o){if(t.readyState===t.CONNECTING){t.once("open",function(){i._write(n,s,o)});return}t.send(n,o)},i.on("end",jJ),i.on("error",a1),i}u1.exports=WJ});var xo=v((Obe,l1)=>{"use strict";l1.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Cf=v((Nbe,Cg)=>{"use strict";var{EMPTY_BUFFER:qJ}=xo(),N0=Buffer[Symbol.species];function VJ(t,e){if(t.length===0)return qJ;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),i=0;for(let n=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return i<e?new N0(r.buffer,r.byteOffset,i):r}function p1(t,e,r,i,n){for(let s=0;s<n;s++)r[i+s]=t[s]^e[s&3]}function f1(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function GJ(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function B0(t){if(B0.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new N0(t):ArrayBuffer.isView(t)?e=new N0(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),B0.readOnly=!1),e}Cg.exports={concat:VJ,mask:p1,toArrayBuffer:GJ,toBuffer:B0,unmask:f1};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=w("bufferutil");Cg.exports.mask=function(e,r,i,n,s){s<48?p1(e,r,i,n,s):t.mask(e,r,i,n,s)},Cg.exports.unmask=function(e,r){e.length<32?f1(e,r):t.unmask(e,r)}}catch{}});var m1=v((Bbe,h1)=>{"use strict";var d1=Symbol("kDone"),F0=Symbol("kRun"),U0=class{constructor(e){this[d1]=()=>{this.pending--,this[F0]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[F0]()}[F0](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[d1])}}};h1.exports=U0});var $f=v((Fbe,b1)=>{"use strict";var Df=w("zlib"),g1=Cf(),KJ=m1(),{kStatusCode:H1}=xo(),zJ=Buffer[Symbol.species],XJ=Buffer.from([0,0,255,255]),$g=Symbol("permessage-deflate"),Ss=Symbol("total-length"),Tf=Symbol("callback"),Po=Symbol("buffers"),Tg=Symbol("error"),Dg,j0=class{constructor(e,r,i){if(this._maxPayload=i|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Dg){let n=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Dg=new KJ(n)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Tf];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,i=e.find(n=>!(r.serverNoContextTakeover===!1&&n.server_no_context_takeover||n.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>n.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!n.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(i.server_no_context_takeover=!0),r.clientNoContextTakeover&&(i.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(i.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?i.client_max_window_bits=r.clientMaxWindowBits:(i.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete i.client_max_window_bits,i}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(i=>{let n=r[i];if(n.length>1)throw new Error(`Parameter "${i}" must have only a single value`);if(n=n[0],i==="client_max_window_bits"){if(n!==!0){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else if(i==="server_max_window_bits"){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(i==="client_no_context_takeover"||i==="server_no_context_takeover"){if(n!==!0)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else throw new Error(`Unknown parameter "${i}"`);r[i]=n})}),e}decompress(e,r,i){Dg.add(n=>{this._decompress(e,r,(s,o)=>{n(),i(s,o)})})}compress(e,r,i){Dg.add(n=>{this._compress(e,r,(s,o)=>{n(),i(s,o)})})}_decompress(e,r,i){let n=this._isServer?"client":"server";if(!this._inflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?Df.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=Df.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[$g]=this,this._inflate[Ss]=0,this._inflate[Po]=[],this._inflate.on("error",YJ),this._inflate.on("data",y1)}this._inflate[Tf]=i,this._inflate.write(e),r&&this._inflate.write(XJ),this._inflate.flush(()=>{let s=this._inflate[Tg];if(s){this._inflate.close(),this._inflate=null,i(s);return}let o=g1.concat(this._inflate[Po],this._inflate[Ss]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Ss]=0,this._inflate[Po]=[],r&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,o)})}_compress(e,r,i){let n=this._isServer?"server":"client";if(!this._deflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?Df.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=Df.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[Ss]=0,this._deflate[Po]=[],this._deflate.on("data",JJ)}this._deflate[Tf]=i,this._deflate.write(e),this._deflate.flush(Df.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=g1.concat(this._deflate[Po],this._deflate[Ss]);r&&(s=new zJ(s.buffer,s.byteOffset,s.length-4)),this._deflate[Tf]=null,this._deflate[Ss]=0,this._deflate[Po]=[],r&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,s)})}};b1.exports=j0;function JJ(t){this[Po].push(t),this[Ss]+=t.length}function y1(t){if(this[Ss]+=t.length,this[$g]._maxPayload<1||this[Ss]<=this[$g]._maxPayload){this[Po].push(t);return}this[Tg]=new RangeError("Max payload size exceeded"),this[Tg].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Tg][H1]=1009,this.removeListener("data",y1),this.reset()}function YJ(t){this[$g]._inflate=null,t[H1]=1007,this[Tf](t)}});var Mf=v((Ube,Mg)=>{"use strict";var{isUtf8:v1}=w("buffer"),QJ=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function ZJ(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function W0(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}Mg.exports={isValidStatusCode:ZJ,isValidUTF8:W0,tokenChars:QJ};if(v1)Mg.exports.isValidUTF8=function(t){return t.length<24?W0(t):v1(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=w("utf-8-validate");Mg.exports.isValidUTF8=function(e){return e.length<32?W0(e):t(e)}}catch{}});var z0=v((jbe,P1)=>{"use strict";var{Writable:eY}=w("stream"),_1=$f(),{BINARY_TYPES:tY,EMPTY_BUFFER:w1,kStatusCode:rY,kWebSocket:iY}=xo(),{concat:q0,toArrayBuffer:nY,unmask:sY}=Cf(),{isValidStatusCode:oY,isValidUTF8:I1}=Mf(),kg=Buffer[Symbol.species],aY=Promise.resolve(),uY=typeof queueMicrotask=="function"?queueMicrotask:cY,zc=0,A1=1,S1=2,E1=3,V0=4,x1=5,G0=6,K0=class extends eY{constructor(e={}){super(),this._binaryType=e.binaryType||tY[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[iY]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=zc,this._loop=!1}_write(e,r,i){if(this._opcode===8&&this._state==zc)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let i=this._buffers[0];return this._buffers[0]=new kg(i.buffer,i.byteOffset+e,i.length-e),new kg(i.buffer,i.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=r.length-e;e>=i.length?r.set(this._buffers.shift(),n):(r.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=new kg(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case zc:r=this.getInfo();break;case A1:r=this.getPayloadLength16();break;case S1:r=this.getPayloadLength64();break;case E1:this.getMask();break;case V0:r=this.getData(e);break;case x1:this._loop=!1;return;default:this._loop=!1,uY(()=>{this._state=zc,this.startLoop(e)});return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,Qt(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(e[0]&64)===64;if(r&&!this._extensions[_1.extensionName])return this._loop=!1,Qt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,Qt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Qt(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Qt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Qt(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,Qt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,Qt(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Qt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Qt(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Qt(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=A1;else if(this._payloadLength===127)this._state=S1;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,Qt(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Qt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=E1:this._state=V0}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=V0}getData(e){let r=w1;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&sY(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=x1,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[_1.extensionName].decompress(e,this._fin,(n,s)=>{if(n)return r(n);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(Qt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(s)}let o=this.dataMessage();if(o)return r(o);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=q0(r,e):this._binaryType==="arraybuffer"?i=nY(q0(r,e)):i=r,this.emit("message",i,!0)}else{let i=q0(r,e);if(!this._skipUTF8Validation&&!I1(i))return this._loop=!1,Qt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",i,!1)}}this._state=G0}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,w1),this.end(),this._state=zc;else{let r=e.readUInt16BE(0);if(!oY(r))return Qt(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let i=new kg(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!I1(i))return Qt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,i),this.end(),this._state=zc}else this._opcode===9?(this.emit("ping",e),this._state=G0):(this.emit("pong",e),this._state=G0)}};P1.exports=K0;function Qt(t,e,r,i,n){let s=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(s,Qt),s.code=n,s[rY]=i,s}function cY(t){aY.then(t).catch(pY)}function lY(t){throw t}function pY(t){process.nextTick(lY,t)}});var X0=v((qbe,D1)=>{"use strict";var{Duplex:Wbe}=w("stream"),{randomFillSync:fY}=w("crypto"),L1=$f(),{EMPTY_BUFFER:dY}=xo(),{isValidStatusCode:hY}=Mf(),{mask:C1,toBuffer:Xc}=Cf(),Zi=Symbol("kByteLength"),mY=Buffer.alloc(4),zn=class{constructor(e,r,i){this._extensions=r||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let i,n=!1,s=2,o=!1;r.mask&&(i=r.maskBuffer||mY,r.generateMask?r.generateMask(i):fY(i,0,4),o=(i[0]|i[1]|i[2]|i[3])===0,s=6);let a;typeof e=="string"?(!r.mask||o)&&r[Zi]!==void 0?a=r[Zi]:(e=Buffer.from(e),a=e.length):(a=e.length,n=r.mask&&r.readOnly&&!o);let u=a;a>=65536?(s+=8,u=127):a>125&&(s+=2,u=126);let c=Buffer.allocUnsafe(n?a+s:s);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=u,u===126?c.writeUInt16BE(a,2):u===127&&(c[2]=c[3]=0,c.writeUIntBE(a,4,6)),r.mask?(c[1]|=128,c[s-4]=i[0],c[s-3]=i[1],c[s-2]=i[2],c[s-1]=i[3],o?[c,e]:n?(C1(e,i,c,s,a),[c]):(C1(e,i,e,0,a),[c,e])):[c,e]}close(e,r,i,n){let s;if(e===void 0)s=dY;else{if(typeof e!="number"||!hY(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+a),s.writeUInt16BE(e,0),typeof r=="string"?s.write(r,2):s.set(r,2)}}let o={[Zi]:s.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,o,n]):this.sendFrame(zn.frame(s,o),n)}ping(e,r,i){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=Xc(e),n=e.length,s=Xc.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[Zi]:n,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(zn.frame(e,o),i)}pong(e,r,i){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=Xc(e),n=e.length,s=Xc.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[Zi]:n,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(zn.frame(e,o),i)}send(e,r,i){let n=this._extensions[L1.extensionName],s=r.binary?2:1,o=r.compress,a,u;if(typeof e=="string"?(a=Buffer.byteLength(e),u=!1):(e=Xc(e),a=e.length,u=Xc.readOnly),this._firstFragment?(this._firstFragment=!1,o&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(o=a>=n._threshold),this._compress=o):(o=!1,s=0),r.fin&&(this._firstFragment=!0),n){let c={[Zi]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:u,rsv1:o};this._deflating?this.enqueue([this.dispatch,e,this._compress,c,i]):this.dispatch(e,this._compress,c,i)}else this.sendFrame(zn.frame(e,{[Zi]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:u,rsv1:!1}),i)}dispatch(e,r,i,n){if(!r){this.sendFrame(zn.frame(e,i),n);return}let s=this._extensions[L1.extensionName];this._bufferedBytes+=i[Zi],this._deflating=!0,s.compress(e,i.fin,(o,a)=>{if(this._socket.destroyed){let u=new Error("The socket was closed while data was being compressed");typeof n=="function"&&n(u);for(let c=0;c<this._queue.length;c++){let l=this._queue[c],p=l[l.length-1];typeof p=="function"&&p(u)}return}this._bufferedBytes-=i[Zi],this._deflating=!1,i.readOnly=!1,this.sendFrame(zn.frame(a,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Zi],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Zi],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};D1.exports=zn});var F1=v((Vbe,B1)=>{"use strict";var{kForOnEventAttribute:kf,kListener:J0}=xo(),T1=Symbol("kCode"),$1=Symbol("kData"),M1=Symbol("kError"),k1=Symbol("kMessage"),R1=Symbol("kReason"),Jc=Symbol("kTarget"),O1=Symbol("kType"),N1=Symbol("kWasClean"),Es=class{constructor(e){this[Jc]=null,this[O1]=e}get target(){return this[Jc]}get type(){return this[O1]}};Object.defineProperty(Es.prototype,"target",{enumerable:!0});Object.defineProperty(Es.prototype,"type",{enumerable:!0});var Xa=class extends Es{constructor(e,r={}){super(e),this[T1]=r.code===void 0?0:r.code,this[R1]=r.reason===void 0?"":r.reason,this[N1]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[T1]}get reason(){return this[R1]}get wasClean(){return this[N1]}};Object.defineProperty(Xa.prototype,"code",{enumerable:!0});Object.defineProperty(Xa.prototype,"reason",{enumerable:!0});Object.defineProperty(Xa.prototype,"wasClean",{enumerable:!0});var Yc=class extends Es{constructor(e,r={}){super(e),this[M1]=r.error===void 0?null:r.error,this[k1]=r.message===void 0?"":r.message}get error(){return this[M1]}get message(){return this[k1]}};Object.defineProperty(Yc.prototype,"error",{enumerable:!0});Object.defineProperty(Yc.prototype,"message",{enumerable:!0});var Rf=class extends Es{constructor(e,r={}){super(e),this[$1]=r.data===void 0?null:r.data}get data(){return this[$1]}};Object.defineProperty(Rf.prototype,"data",{enumerable:!0});var gY={addEventListener(t,e,r={}){for(let n of this.listeners(t))if(!r[kf]&&n[J0]===e&&!n[kf])return;let i;if(t==="message")i=function(s,o){let a=new Rf("message",{data:o?s:s.toString()});a[Jc]=this,Rg(e,this,a)};else if(t==="close")i=function(s,o){let a=new Xa("close",{code:s,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[Jc]=this,Rg(e,this,a)};else if(t==="error")i=function(s){let o=new Yc("error",{error:s,message:s.message});o[Jc]=this,Rg(e,this,o)};else if(t==="open")i=function(){let s=new Es("open");s[Jc]=this,Rg(e,this,s)};else return;i[kf]=!!r[kf],i[J0]=e,r.once?this.once(t,i):this.on(t,i)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[J0]===e&&!r[kf]){this.removeListener(t,r);break}}};B1.exports={CloseEvent:Xa,ErrorEvent:Yc,Event:Es,EventTarget:gY,MessageEvent:Rf};function Rg(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var Y0=v((Gbe,U1)=>{"use strict";var{tokenChars:Of}=Mf();function Xn(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function HY(t){let e=Object.create(null),r=Object.create(null),i=!1,n=!1,s=!1,o,a,u=-1,c=-1,l=-1,p=0;for(;p<t.length;p++)if(c=t.charCodeAt(p),o===void 0)if(l===-1&&Of[c]===1)u===-1&&(u=p);else if(p!==0&&(c===32||c===9))l===-1&&u!==-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let g=t.slice(u,l);c===44?(Xn(e,g,r),r=Object.create(null)):o=g,u=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a===void 0)if(l===-1&&Of[c]===1)u===-1&&(u=p);else if(c===32||c===9)l===-1&&u!==-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p),Xn(r,t.slice(u,l),!0),c===44&&(Xn(e,o,r),r=Object.create(null),o=void 0),u=l=-1}else if(c===61&&u!==-1&&l===-1)a=t.slice(u,p),u=l=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(n){if(Of[c]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1?u=p:i||(i=!0),n=!1}else if(s)if(Of[c]===1)u===-1&&(u=p);else if(c===34&&u!==-1)s=!1,l=p;else if(c===92)n=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(c===34&&t.charCodeAt(p-1)===61)s=!0;else if(l===-1&&Of[c]===1)u===-1&&(u=p);else if(u!==-1&&(c===32||c===9))l===-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let g=t.slice(u,l);i&&(g=g.replace(/\\/g,""),i=!1),Xn(r,a,g),c===44&&(Xn(e,o,r),r=Object.create(null),o=void 0),a=void 0,u=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(u===-1||s||c===32||c===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=p);let f=t.slice(u,l);return o===void 0?Xn(e,f,r):(a===void 0?Xn(r,f,!0):i?Xn(r,a,f.replace(/\\/g,"")):Xn(r,a,f),Xn(e,o,r)),e}function yY(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(i=>[e].concat(Object.keys(i).map(n=>{let s=i[n];return Array.isArray(s)||(s=[s]),s.map(o=>o===!0?n:`${n}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}U1.exports={format:yY,parse:HY}});var rw=v((Xbe,Q1)=>{"use strict";var bY=w("events"),vY=w("https"),_Y=w("http"),q1=w("net"),wY=w("tls"),{randomBytes:IY,createHash:AY}=w("crypto"),{Duplex:Kbe,Readable:zbe}=w("stream"),{URL:Q0}=w("url"),Lo=$f(),SY=z0(),EY=X0(),{BINARY_TYPES:j1,EMPTY_BUFFER:Og,GUID:xY,kForOnEventAttribute:Z0,kListener:PY,kStatusCode:LY,kWebSocket:Hr,NOOP:V1}=xo(),{EventTarget:{addEventListener:CY,removeEventListener:DY}}=F1(),{format:TY,parse:$Y}=Y0(),{toBuffer:MY}=Cf(),kY=30*1e3,G1=Symbol("kAborted"),ew=[8,13],xs=["CONNECTING","OPEN","CLOSING","CLOSED"],RY=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,_e=class extends bY{constructor(e,r,i){super(),this._binaryType=j1[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Og,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=_e.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(i=r,r=[]):r=[r]),K1(this,e,r,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){j1.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,i){let n=new SY({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new EY(e,this._extensions,i.generateMask),this._receiver=n,this._socket=e,n[Hr]=this,e[Hr]=this,n.on("conclude",BY),n.on("drain",FY),n.on("error",UY),n.on("message",jY),n.on("ping",WY),n.on("pong",qY),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",X1),e.on("data",Bg),e.on("end",J1),e.on("error",Y1),this._readyState=_e.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=_e.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Lo.extensionName]&&this._extensions[Lo.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=_e.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==_e.CLOSED){if(this.readyState===_e.CONNECTING){let i="WebSocket was closed before the connection was established";ri(this,this._req,i);return}if(this.readyState===_e.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=_e.CLOSING,this._sender.close(e,r,!this._isServer,i=>{i||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),kY)}}pause(){this.readyState===_e.CONNECTING||this.readyState===_e.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,i){if(this.readyState===_e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==_e.OPEN){tw(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Og,r,i)}pong(e,r,i){if(this.readyState===_e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==_e.OPEN){tw(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Og,r,i)}resume(){this.readyState===_e.CONNECTING||this.readyState===_e.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,i){if(this.readyState===_e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(i=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==_e.OPEN){tw(this,e,i);return}let n={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Lo.extensionName]||(n.compress=!1),this._sender.send(e||Og,n,i)}terminate(){if(this.readyState!==_e.CLOSED){if(this.readyState===_e.CONNECTING){let e="WebSocket was closed before the connection was established";ri(this,this._req,e);return}this._socket&&(this._readyState=_e.CLOSING,this._socket.destroy())}}};Object.defineProperty(_e,"CONNECTING",{enumerable:!0,value:xs.indexOf("CONNECTING")});Object.defineProperty(_e.prototype,"CONNECTING",{enumerable:!0,value:xs.indexOf("CONNECTING")});Object.defineProperty(_e,"OPEN",{enumerable:!0,value:xs.indexOf("OPEN")});Object.defineProperty(_e.prototype,"OPEN",{enumerable:!0,value:xs.indexOf("OPEN")});Object.defineProperty(_e,"CLOSING",{enumerable:!0,value:xs.indexOf("CLOSING")});Object.defineProperty(_e.prototype,"CLOSING",{enumerable:!0,value:xs.indexOf("CLOSING")});Object.defineProperty(_e,"CLOSED",{enumerable:!0,value:xs.indexOf("CLOSED")});Object.defineProperty(_e.prototype,"CLOSED",{enumerable:!0,value:xs.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(_e.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(_e.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[Z0])return e[PY];return null},set(e){for(let r of this.listeners(t))if(r[Z0]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[Z0]:!0})}})});_e.prototype.addEventListener=CY;_e.prototype.removeEventListener=DY;Q1.exports=_e;function K1(t,e,r,i){let n={protocolVersion:ew[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!ew.includes(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} (supported versions: ${ew.join(", ")})`);let s;if(e instanceof Q0)s=e;else try{s=new Q0(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),t._url=s.href;let o=s.protocol==="wss:",a=s.protocol==="ws+unix:",u;if(s.protocol!=="ws:"&&!o&&!a?u=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!s.pathname?u="The URL's pathname is empty":s.hash&&(u="The URL contains a fragment identifier"),u){let y=new SyntaxError(u);if(t._redirects===0)throw y;Ng(t,y);return}let c=o?443:80,l=IY(16).toString("base64"),p=o?vY.request:_Y.request,f=new Set,g;if(n.createConnection=o?NY:OY,n.defaultPort=n.defaultPort||c,n.port=s.port||c,n.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,n.headers={...n.headers,"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket"},n.path=s.pathname+s.search,n.timeout=n.handshakeTimeout,n.perMessageDeflate&&(g=new Lo(n.perMessageDeflate!==!0?n.perMessageDeflate:{},!1,n.maxPayload),n.headers["Sec-WebSocket-Extensions"]=TY({[Lo.extensionName]:g.offer()})),r.length){for(let y of r){if(typeof y!="string"||!RY.test(y)||f.has(y))throw new SyntaxError("An invalid or duplicated subprotocol was specified");f.add(y)}n.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin),(s.username||s.password)&&(n.auth=`${s.username}:${s.password}`),a){let y=n.path.split(":");n.socketPath=y[0],n.path=y[1]}let m;if(n.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=o,t._originalHostOrSocketPath=a?n.socketPath:s.host;let y=i&&i.headers;if(i={...i,headers:{}},y)for(let[b,I]of Object.entries(y))i.headers[b.toLowerCase()]=I}else if(t.listenerCount("redirect")===0){let y=a?t._originalIpc?n.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:s.host===t._originalHostOrSocketPath;(!y||t._originalSecure&&!o)&&(delete n.headers.authorization,delete n.headers.cookie,y||delete n.headers.host,n.auth=void 0)}n.auth&&!i.headers.authorization&&(i.headers.authorization="Basic "+Buffer.from(n.auth).toString("base64")),m=t._req=p(n),t._redirects&&t.emit("redirect",t.url,m)}else m=t._req=p(n);n.timeout&&m.on("timeout",()=>{ri(t,m,"Opening handshake has timed out")}),m.on("error",y=>{m===null||m[G1]||(m=t._req=null,Ng(t,y))}),m.on("response",y=>{let b=y.headers.location,I=y.statusCode;if(b&&n.followRedirects&&I>=300&&I<400){if(++t._redirects>n.maxRedirects){ri(t,m,"Maximum redirects exceeded");return}m.abort();let B;try{B=new Q0(b,e)}catch{let P=new SyntaxError(`Invalid URL: ${b}`);Ng(t,P);return}K1(t,B,r,i)}else t.emit("unexpected-response",m,y)||ri(t,m,`Unexpected server response: ${y.statusCode}`)}),m.on("upgrade",(y,b,I)=>{if(t.emit("upgrade",y),t.readyState!==_e.CONNECTING)return;if(m=t._req=null,y.headers.upgrade.toLowerCase()!=="websocket"){ri(t,b,"Invalid Upgrade header");return}let B=AY("sha1").update(l+xY).digest("base64");if(y.headers["sec-websocket-accept"]!==B){ri(t,b,"Invalid Sec-WebSocket-Accept header");return}let W=y.headers["sec-websocket-protocol"],P;if(W!==void 0?f.size?f.has(W)||(P="Server sent an invalid subprotocol"):P="Server sent a subprotocol but none was requested":f.size&&(P="Server sent no subprotocol"),P){ri(t,b,P);return}W&&(t._protocol=W);let D=y.headers["sec-websocket-extensions"];if(D!==void 0){if(!g){ri(t,b,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let G;try{G=$Y(D)}catch{ri(t,b,"Invalid Sec-WebSocket-Extensions header");return}let q=Object.keys(G);if(q.length!==1||q[0]!==Lo.extensionName){ri(t,b,"Server indicated an extension that was not requested");return}try{g.accept(G[Lo.extensionName])}catch{ri(t,b,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[Lo.extensionName]=g}t.setSocket(b,I,{generateMask:n.generateMask,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation})}),n.finishRequest?n.finishRequest(m,t):m.end()}function Ng(t,e){t._readyState=_e.CLOSING,t.emit("error",e),t.emitClose()}function OY(t){return t.path=t.socketPath,q1.connect(t)}function NY(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=q1.isIP(t.host)?"":t.host),wY.connect(t)}function ri(t,e,r){t._readyState=_e.CLOSING;let i=new Error(r);Error.captureStackTrace(i,ri),e.setHeader?(e[G1]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Ng,t,i)):(e.destroy(i),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function tw(t,e,r){if(e){let i=MY(e).length;t._socket?t._sender._bufferedBytes+=i:t._bufferedAmount+=i}if(r){let i=new Error(`WebSocket is not open: readyState ${t.readyState} (${xs[t.readyState]})`);process.nextTick(r,i)}}function BY(t,e){let r=this[Hr];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Hr]!==void 0&&(r._socket.removeListener("data",Bg),process.nextTick(z1,r._socket),t===1005?r.close():r.close(t,e))}function FY(){let t=this[Hr];t.isPaused||t._socket.resume()}function UY(t){let e=this[Hr];e._socket[Hr]!==void 0&&(e._socket.removeListener("data",Bg),process.nextTick(z1,e._socket),e.close(t[LY])),e.emit("error",t)}function W1(){this[Hr].emitClose()}function jY(t,e){this[Hr].emit("message",t,e)}function WY(t){let e=this[Hr];e.pong(t,!e._isServer,V1),e.emit("ping",t)}function qY(t){this[Hr].emit("pong",t)}function z1(t){t.resume()}function X1(){let t=this[Hr];this.removeListener("close",X1),this.removeListener("data",Bg),this.removeListener("end",J1),t._readyState=_e.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[Hr]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",W1),t._receiver.on("finish",W1))}function Bg(t){this[Hr]._receiver.write(t)||this.pause()}function J1(){let t=this[Hr];t._readyState=_e.CLOSING,t._receiver.end(),this.end()}function Y1(){let t=this[Hr];this.removeListener("error",Y1),this.on("error",V1),t&&(t._readyState=_e.CLOSING,this.destroy())}});var ek=v((Jbe,Z1)=>{"use strict";var{tokenChars:VY}=Mf();function GY(t){let e=new Set,r=-1,i=-1,n=0;for(n;n<t.length;n++){let o=t.charCodeAt(n);if(i===-1&&VY[o]===1)r===-1&&(r=n);else if(n!==0&&(o===32||o===9))i===-1&&r!==-1&&(i=n);else if(o===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${n}`);i===-1&&(i=n);let a=t.slice(r,i);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=i=-1}else throw new SyntaxError(`Unexpected character at index ${n}`)}if(r===-1||i!==-1)throw new SyntaxError("Unexpected end of input");let s=t.slice(r,n);if(e.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return e.add(s),e}Z1.exports={parse:GY}});var ak=v((Qbe,ok)=>{"use strict";var KY=w("events"),Fg=w("http"),{Duplex:Ybe}=w("stream"),{createHash:zY}=w("crypto"),tk=Y0(),Ja=$f(),XY=ek(),JY=rw(),{GUID:YY,kWebSocket:QY}=xo(),ZY=/^[+/0-9A-Za-z]{22}==$/,rk=0,ik=1,sk=2,iw=class extends KY{constructor(e,r){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:JY,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Fg.createServer((i,n)=>{let s=Fg.STATUS_CODES[426];n.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),n.end(s)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let i=this.emit.bind(this,"connection");this._removeListeners=eQ(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(n,s,o)=>{this.handleUpgrade(n,s,o,i)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=rk}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===sk){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Nf,this);return}if(e&&this.once("close",e),this._state!==ik)if(this._state=ik,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Nf,this):process.nextTick(Nf,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{Nf(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,i,n){r.on("error",nk);let s=e.headers["sec-websocket-key"],o=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Ya(this,e,r,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){Ya(this,e,r,400,"Invalid Upgrade header");return}if(!s||!ZY.test(s)){Ya(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(o!==8&&o!==13){Ya(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){Bf(r,400);return}let a=e.headers["sec-websocket-protocol"],u=new Set;if(a!==void 0)try{u=XY.parse(a)}catch{Ya(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let c=e.headers["sec-websocket-extensions"],l={};if(this.options.perMessageDeflate&&c!==void 0){let p=new Ja(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=tk.parse(c);f[Ja.extensionName]&&(p.accept(f[Ja.extensionName]),l[Ja.extensionName]=p)}catch{Ya(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,g,m,y)=>{if(!f)return Bf(r,g||401,m,y);this.completeUpgrade(l,s,u,e,r,i,n)});return}if(!this.options.verifyClient(p))return Bf(r,401)}this.completeUpgrade(l,s,u,e,r,i,n)}completeUpgrade(e,r,i,n,s,o,a){if(!s.readable||!s.writable)return s.destroy();if(s[QY])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>rk)return Bf(s,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${zY("sha1").update(r+YY).digest("base64")}`],l=new this.options.WebSocket(null);if(i.size){let p=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value;p&&(c.push(`Sec-WebSocket-Protocol: ${p}`),l._protocol=p)}if(e[Ja.extensionName]){let p=e[Ja.extensionName].params,f=tk.format({[Ja.extensionName]:[p]});c.push(`Sec-WebSocket-Extensions: ${f}`),l._extensions=e}this.emit("headers",c,n),s.write(c.concat(`\r
`).join(`\r
`)),s.removeListener("error",nk),l.setSocket(s,o,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Nf,this)})),a(l,n)}};ok.exports=iw;function eQ(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let i of Object.keys(e))t.removeListener(i,e[i])}}function Nf(t){t._state=sk,t.emit("close")}function nk(){this.destroy()}function Bf(t,e,r,i){r=r||Fg.STATUS_CODES[e],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${Fg.STATUS_CODES[e]}\r
`+Object.keys(i).map(n=>`${n}: ${i[n]}`).join(`\r
`)+`\r
\r
`+r)}function Ya(t,e,r,i,n){if(t.listenerCount("wsClientError")){let s=new Error(n);Error.captureStackTrace(s,Ya),t.emit("wsClientError",s,r,e)}else Bf(r,i,n)}});var bk=v((Mve,yk)=>{"use strict";yk.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var _k=v((kve,vk)=>{vk.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var Ak=v((Rve,Ik)=>{"use strict";var cQ=_k(),lQ=Array.prototype.concat,pQ=Array.prototype.slice,wk=Ik.exports=function(e){for(var r=[],i=0,n=e.length;i<n;i++){var s=e[i];cQ(s)?r=lQ.call(r,pQ.call(s)):r.push(s)}return r};wk.wrap=function(t){return function(){return t(wk(arguments))}}});var Pk=v((Ove,xk)=>{var Uf=bk(),jf=Ak(),Sk=Object.hasOwnProperty,Ek={};for(Gg in Uf)Sk.call(Uf,Gg)&&(Ek[Uf[Gg]]=Gg);var Gg,ii=xk.exports={to:{},get:{}};ii.get=function(t){var e=t.substring(0,3).toLowerCase(),r,i;switch(e){case"hsl":r=ii.get.hsl(t),i="hsl";break;case"hwb":r=ii.get.hwb(t),i="hwb";break;default:r=ii.get.rgb(t),i="rgb";break}return r?{model:i,value:r}:null};ii.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],a,u,c;if(a=t.match(r)){for(c=a[2],a=a[1],u=0;u<3;u++){var l=u*2;o[u]=parseInt(a.slice(l,l+2),16)}c&&(o[3]=parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],u=0;u<3;u++)o[u]=parseInt(a[u]+a[u],16);c&&(o[3]=parseInt(c+c,16)/255)}else if(a=t.match(i)){for(u=0;u<3;u++)o[u]=parseInt(a[u+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=t.match(n)){for(u=0;u<3;u++)o[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=t.match(s))?a[1]==="transparent"?[0,0,0,0]:Sk.call(Uf,a[1])?(o=Uf[a[1]],o[3]=1,o):null:null;for(u=0;u<3;u++)o[u]=Co(o[u],0,255);return o[3]=Co(o[3],0,1),o};ii.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var i=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,s=Co(parseFloat(r[2]),0,100),o=Co(parseFloat(r[3]),0,100),a=Co(isNaN(i)?1:i,0,1);return[n,s,o,a]}return null};ii.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var i=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,s=Co(parseFloat(r[2]),0,100),o=Co(parseFloat(r[3]),0,100),a=Co(isNaN(i)?1:i,0,1);return[n,s,o,a]}return null};ii.to.hex=function(){var t=jf(arguments);return"#"+Kg(t[0])+Kg(t[1])+Kg(t[2])+(t[3]<1?Kg(Math.round(t[3]*255)):"")};ii.to.rgb=function(){var t=jf(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};ii.to.rgb.percent=function(){var t=jf(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+i+"%)":"rgba("+e+"%, "+r+"%, "+i+"%, "+t[3]+")"};ii.to.hsl=function(){var t=jf(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};ii.to.hwb=function(){var t=jf(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};ii.to.keyword=function(t){return Ek[t.slice(0,3)]};function Co(t,e,r){return Math.min(Math.max(e,t),r)}function Kg(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var Ck=v((Nve,Lk)=>{"use strict";Lk.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var uw=v((Bve,Tk)=>{var Wf=Ck(),Dk={};for(let t of Object.keys(Wf))Dk[Wf[t]]=t;var fe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Tk.exports=fe;for(let t of Object.keys(fe)){if(!("channels"in fe[t]))throw new Error("missing channels property: "+t);if(!("labels"in fe[t]))throw new Error("missing channel labels property: "+t);if(fe[t].labels.length!==fe[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=fe[t];delete fe[t].channels,delete fe[t].labels,Object.defineProperty(fe[t],"channels",{value:e}),Object.defineProperty(fe[t],"labels",{value:r})}fe.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(e,r,i),s=Math.max(e,r,i),o=s-n,a,u;s===n?a=0:e===s?a=(r-i)/o:r===s?a=2+(i-e)/o:i===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(n+s)/2;return s===n?u=0:c<=.5?u=o/(s+n):u=o/(2-s-n),[a,u*100,c*100]};fe.rgb.hsv=function(t){let e,r,i,n,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),l=c-Math.min(o,a,u),p=function(f){return(c-f)/6/l+1/2};return l===0?(n=0,s=0):(s=l/c,e=p(o),r=p(a),i=p(u),o===c?n=i-r:a===c?n=1/3+e-i:u===c&&(n=2/3+r-e),n<0?n+=1:n>1&&(n-=1)),[n*360,s*100,c*100]};fe.rgb.hwb=function(t){let e=t[0],r=t[1],i=t[2],n=fe.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,i));return i=1-1/255*Math.max(e,Math.max(r,i)),[n,s*100,i*100]};fe.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(1-e,1-r,1-i),s=(1-e-n)/(1-n)||0,o=(1-r-n)/(1-n)||0,a=(1-i-n)/(1-n)||0;return[s*100,o*100,a*100,n*100]};function fQ(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}fe.rgb.keyword=function(t){let e=Dk[t];if(e)return e;let r=1/0,i;for(let n of Object.keys(Wf)){let s=Wf[n],o=fQ(t,s);o<r&&(r=o,i=n)}return i};fe.keyword.rgb=function(t){return Wf[t]};fe.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;let n=e*.4124+r*.3576+i*.1805,s=e*.2126+r*.7152+i*.0722,o=e*.0193+r*.1192+i*.9505;return[n*100,s*100,o*100]};fe.rgb.lab=function(t){let e=fe.rgb.xyz(t),r=e[0],i=e[1],n=e[2];r/=95.047,i/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let s=116*i-16,o=500*(r-i),a=200*(i-n);return[s,o,a]};fe.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,i=t[2]/100,n,s,o;if(r===0)return o=i*255,[o,o,o];i<.5?n=i*(1+r):n=i+r-i*r;let a=2*i-n,u=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(n-a)*6*s:2*s<1?o=n:3*s<2?o=a+(n-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};fe.hsl.hsv=function(t){let e=t[0],r=t[1]/100,i=t[2]/100,n=r,s=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,n*=s<=1?s:2-s;let o=(i+r)/2,a=i===0?2*n/(s+n):2*r/(i+r);return[e,a*100,o*100]};fe.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,i=t[2]/100,n=Math.floor(e)%6,s=e-Math.floor(e),o=255*i*(1-r),a=255*i*(1-r*s),u=255*i*(1-r*(1-s));switch(i*=255,n){case 0:return[i,u,o];case 1:return[a,i,o];case 2:return[o,i,u];case 3:return[o,a,i];case 4:return[u,o,i];case 5:return[i,o,a]}};fe.hsv.hsl=function(t){let e=t[0],r=t[1]/100,i=t[2]/100,n=Math.max(i,.01),s,o;o=(2-r)*i;let a=(2-r)*n;return s=r*n,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};fe.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,i=t[2]/100,n=r+i,s;n>1&&(r/=n,i/=n);let o=Math.floor(6*e),a=1-i;s=6*e-o,o&1&&(s=1-s);let u=r+s*(a-r),c,l,p;switch(o){default:case 6:case 0:c=a,l=u,p=r;break;case 1:c=u,l=a,p=r;break;case 2:c=r,l=a,p=u;break;case 3:c=r,l=u,p=a;break;case 4:c=u,l=r,p=a;break;case 5:c=a,l=r,p=u;break}return[c*255,l*255,p*255]};fe.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,i=t[2]/100,n=t[3]/100,s=1-Math.min(1,e*(1-n)+n),o=1-Math.min(1,r*(1-n)+n),a=1-Math.min(1,i*(1-n)+n);return[s*255,o*255,a*255]};fe.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,i=t[2]/100,n,s,o;return n=e*3.2406+r*-1.5372+i*-.4986,s=e*-.9689+r*1.8758+i*.0415,o=e*.0557+r*-.204+i*1.057,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,n=Math.min(Math.max(0,n),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[n*255,s*255,o*255]};fe.xyz.lab=function(t){let e=t[0],r=t[1],i=t[2];e/=95.047,r/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let n=116*r-16,s=500*(e-r),o=200*(r-i);return[n,s,o]};fe.lab.xyz=function(t){let e=t[0],r=t[1],i=t[2],n,s,o;s=(e+16)/116,n=r/500+s,o=s-i/200;let a=s**3,u=n**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,n=u>.008856?u:(n-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,n*=95.047,s*=100,o*=108.883,[n,s,o]};fe.lab.lch=function(t){let e=t[0],r=t[1],i=t[2],n;n=Math.atan2(i,r)*360/2/Math.PI,n<0&&(n+=360);let o=Math.sqrt(r*r+i*i);return[e,o,n]};fe.lch.lab=function(t){let e=t[0],r=t[1],n=t[2]/360*2*Math.PI,s=r*Math.cos(n),o=r*Math.sin(n);return[e,s,o]};fe.rgb.ansi16=function(t,e=null){let[r,i,n]=t,s=e===null?fe.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};fe.hsv.ansi16=function(t){return fe.rgb.ansi16(fe.hsv.rgb(t),t[2])};fe.rgb.ansi256=function(t){let e=t[0],r=t[1],i=t[2];return e===r&&r===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)};fe.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,i=(e&1)*r*255,n=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[i,n,s]};fe.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,i=Math.floor((e=t%36)/6)/5*255,n=e%6/5*255;return[r,i,n]};fe.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};fe.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let i=parseInt(r,16),n=i>>16&255,s=i>>8&255,o=i&255;return[n,s,o]};fe.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.max(Math.max(e,r),i),s=Math.min(Math.min(e,r),i),o=n-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:n===e?u=(r-i)/o%6:n===r?u=2+(i-e)/o:u=4+(e-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};fe.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,i=r<.5?2*e*r:2*e*(1-r),n=0;return i<1&&(n=(r-.5*i)/(1-i)),[t[0],i*100,n*100]};fe.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,i=e*r,n=0;return i<1&&(n=(r-i)/(1-i)),[t[0],i*100,n*100]};fe.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,i=t[2]/100;if(r===0)return[i*255,i*255,i*255];let n=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:n[0]=1,n[1]=o,n[2]=0;break;case 1:n[0]=a,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=o;break;case 3:n[0]=0,n[1]=a,n[2]=1;break;case 4:n[0]=o,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=a}return u=(1-r)*i,[(r*n[0]+u)*255,(r*n[1]+u)*255,(r*n[2]+u)*255]};fe.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,i=e+r*(1-e),n=0;return i>0&&(n=e/i),[t[0],n*100,i*100]};fe.hcg.hsl=function(t){let e=t[1]/100,i=t[2]/100*(1-e)+.5*e,n=0;return i>0&&i<.5?n=e/(2*i):i>=.5&&i<1&&(n=e/(2*(1-i))),[t[0],n*100,i*100]};fe.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,i=e+r*(1-e);return[t[0],(i-e)*100,(1-i)*100]};fe.hwb.hcg=function(t){let e=t[1]/100,i=1-t[2]/100,n=i-e,s=0;return n<1&&(s=(i-n)/(1-n)),[t[0],n*100,s*100]};fe.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};fe.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};fe.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};fe.gray.hsl=function(t){return[0,0,t[0]]};fe.gray.hsv=fe.gray.hsl;fe.gray.hwb=function(t){return[0,100,t[0]]};fe.gray.cmyk=function(t){return[0,0,0,t[0]]};fe.gray.lab=function(t){return[t[0],0,0]};fe.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i};fe.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var Mk=v((Fve,$k)=>{var zg=uw();function dQ(){let t={},e=Object.keys(zg);for(let r=e.length,i=0;i<r;i++)t[e[i]]={distance:-1,parent:null};return t}function hQ(t){let e=dQ(),r=[t];for(e[t].distance=0;r.length;){let i=r.pop(),n=Object.keys(zg[i]);for(let s=n.length,o=0;o<s;o++){let a=n[o],u=e[a];u.distance===-1&&(u.distance=e[i].distance+1,u.parent=i,r.unshift(a))}}return e}function mQ(t,e){return function(r){return e(t(r))}}function gQ(t,e){let r=[e[t].parent,t],i=zg[e[t].parent][t],n=e[t].parent;for(;e[n].parent;)r.unshift(e[n].parent),i=mQ(zg[e[n].parent][n],i),n=e[n].parent;return i.conversion=r,i}$k.exports=function(t){let e=hQ(t),r={},i=Object.keys(e);for(let n=i.length,s=0;s<n;s++){let o=i[s];e[o].parent!==null&&(r[o]=gQ(o,e))}return r}});var Rk=v((Uve,kk)=>{var cw=uw(),HQ=Mk(),il={},yQ=Object.keys(cw);function bQ(t){let e=function(...r){let i=r[0];return i==null?i:(i.length>1&&(r=i),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function vQ(t){let e=function(...r){let i=r[0];if(i==null)return i;i.length>1&&(r=i);let n=t(r);if(typeof n=="object")for(let s=n.length,o=0;o<s;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}yQ.forEach(t=>{il[t]={},Object.defineProperty(il[t],"channels",{value:cw[t].channels}),Object.defineProperty(il[t],"labels",{value:cw[t].labels});let e=HQ(t);Object.keys(e).forEach(i=>{let n=e[i];il[t][i]=vQ(n),il[t][i].raw=bQ(n)})});kk.exports=il});var Bk=v((jve,Nk)=>{var nl=Pk(),ni=Rk(),fw=[].slice,Ok=["keyword","gray","hex"],lw={};for(let t of Object.keys(ni))lw[fw.call(ni[t].labels).sort().join("")]=t;var Xg={};function Zt(t,e){if(!(this instanceof Zt))return new Zt(t,e);if(e&&e in Ok&&(e=null),e&&!(e in ni))throw new Error("Unknown model: "+e);let r,i;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Zt)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){let n=nl.get(t);if(n===null)throw new Error("Unable to parse color from string: "+t);this.model=n.model,i=ni[this.model].channels,this.color=n.value.slice(0,i),this.valpha=typeof n.value[i]=="number"?n.value[i]:1}else if(t.length>0){this.model=e||"rgb",i=ni[this.model].channels;let n=fw.call(t,0,i);this.color=pw(n,i),this.valpha=typeof t[i]=="number"?t[i]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let n=Object.keys(t);"alpha"in t&&(n.splice(n.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let s=n.sort().join("");if(!(s in lw))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=lw[s];let o=ni[this.model].labels,a=[];for(r=0;r<o.length;r++)a.push(t[o[r]]);this.color=pw(a)}if(Xg[this.model])for(i=ni[this.model].channels,r=0;r<i;r++){let n=Xg[this.model][r];n&&(this.color[r]=n(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Zt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in nl.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let r=e.valpha===1?e.color:e.color.concat(this.valpha);return nl.to[e.model](r)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:e.color.concat(this.valpha);return nl.to.rgb.percent(r)},array(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object(){let t={},e=ni[this.model].channels,r=ni[this.model].labels;for(let i=0;i<e;i++)t[r[i]]=this.color[i];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Zt(this.color.map(wQ(t)).concat(this.valpha),this.model)},alpha(t){return arguments.length>0?new Zt(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:yt("rgb",0,Ft(255)),green:yt("rgb",1,Ft(255)),blue:yt("rgb",2,Ft(255)),hue:yt(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:yt("hsl",1,Ft(100)),lightness:yt("hsl",2,Ft(100)),saturationv:yt("hsv",1,Ft(100)),value:yt("hsv",2,Ft(100)),chroma:yt("hcg",1,Ft(100)),gray:yt("hcg",2,Ft(100)),white:yt("hwb",1,Ft(100)),wblack:yt("hwb",2,Ft(100)),cyan:yt("cmyk",0,Ft(100)),magenta:yt("cmyk",1,Ft(100)),yellow:yt("cmyk",2,Ft(100)),black:yt("cmyk",3,Ft(100)),x:yt("xyz",0,Ft(100)),y:yt("xyz",1,Ft(100)),z:yt("xyz",2,Ft(100)),l:yt("lab",0,Ft(100)),a:yt("lab",1),b:yt("lab",2),keyword(t){return arguments.length>0?new Zt(t):ni[this.model].keyword(this.color)},hex(t){return arguments.length>0?new Zt(t):nl.to.hex(this.rgb().round().color)},hexa(t){if(arguments.length>0)return new Zt(t);let e=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),nl.to.hex(e)+r},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[r,i]of t.entries()){let n=i/255;e[r]=n<=.03928?n/12.92:((n+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*299+t[1]*587+t[2]*114)/1e3<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return Zt.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let r=t.rgb(),i=this.rgb(),n=e===void 0?.5:e,s=2*n-1,o=r.alpha()-i.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,u=1-a;return Zt.rgb(a*r.red()+u*i.red(),a*r.green()+u*i.green(),a*r.blue()+u*i.blue(),r.alpha()*n+i.alpha()*(1-n))}};for(let t of Object.keys(ni)){if(Ok.includes(t))continue;let e=ni[t].channels;Zt.prototype[t]=function(){if(this.model===t)return new Zt(this);if(arguments.length>0)return new Zt(arguments,t);let r=typeof arguments[e]=="number"?e:this.valpha;return new Zt(IQ(ni[this.model][t].raw(this.color)).concat(r),t)},Zt[t]=function(r){return typeof r=="number"&&(r=pw(fw.call(arguments),e)),new Zt(r,t)}}function _Q(t,e){return Number(t.toFixed(e))}function wQ(t){return function(e){return _Q(e,t)}}function yt(t,e,r){t=Array.isArray(t)?t:[t];for(let i of t)(Xg[i]||(Xg[i]=[]))[e]=r;return t=t[0],function(i){let n;return arguments.length>0?(r&&(i=r(i)),n=this[t](),n.color[e]=i,n):(n=this[t]().color[e],r&&(n=r(n)),n)}}function Ft(t){return function(e){return Math.max(0,Math.min(t,e))}}function IQ(t){return Array.isArray(t)?t:[t]}function pw(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}Nk.exports=Zt});var cu=v(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.findWindowsCandidates=Kr.sort=Kr.preferredEdgePath=Kr.preferredChromePath=Kr.escapeRegexSpecialChars=Kr.canAccess=void 0;var iZ=w("path");async function EH({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}Kr.canAccess=EH;var nZ="/\\.?*()^${}|[]+";function sZ(t,e){let r=nZ.split("").filter(n=>!e||e.indexOf(n)<0).join("").replace(/[\\\]]/g,"\\$&"),i=new RegExp(`[${r}]`,"g");return t.replace(i,"\\$&")}Kr.escapeRegexSpecialChars=sZ;async function oZ(t,e){if(await EH(t,e.CHROME_PATH))return e.CHROME_PATH}Kr.preferredChromePath=oZ;async function aZ(t,e){if(await EH(t,e.EDGE_PATH))return e.EDGE_PATH}Kr.preferredEdgePath=aZ;function uZ(t,e){return[...t].filter(i=>!!i).map(i=>{let n=e.find(s=>s.regex.test(i));return n?{path:i,weight:n.weight,quality:n.quality}:{path:i,weight:10,quality:"dev"}}).sort((i,n)=>n.weight-i.weight).map(i=>({path:i.path,quality:i.quality}))}Kr.sort=uZ;async function cZ(t,e,r){let i=[t.LOCALAPPDATA,t.PROGRAMFILES,t["PROGRAMFILES(X86)"]].filter(s=>!!s),n=[];for(let s of i)for(let o of r){let a=iZ.win32.join(s,o.name);n.push(EH(e,a).then(u=>u?{path:a,quality:o.type}:void 0))}return(await Promise.all(n)).filter(s=>!!s)}Kr.findWindowsCandidates=cZ});var Xw=v(xH=>{"use strict";Object.defineProperty(xH,"__esModule",{value:!0});xH.DarwinFinderBase=void 0;var lZ=w("path"),Kw=cu(),OR=/( \(0x[a-f0-9]+\))/,zw=class{constructor(e,r,i){this.env=e,this.fs=r,this.execa=i,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let r of this.wellKnownPaths)if(e(r)&&await(0,Kw.canAccess)(this.fs,r.path))return r;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,r,i){let{stdout:n}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${OR.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),s=[...r,...n.split(`
`).map(u=>u.trim().replace(OR,""))].filter(u=>!!u),o=this.getPreferredPath();o&&s.push(o);let a=new Set;for(let u of s)for(let c of i){let l=lZ.posix.join(u.trim(),c);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let r=this.env.HOME&&(0,Kw.escapeRegexSpecialChars)(this.env.HOME),i=this.getPreferredPath(),n=e.reduce((s,o)=>[...s,{regex:new RegExp(`^/Applications/.*${o.name}`),weight:o.weight+100,quality:o.quality},{regex:new RegExp(`^${r}/Applications/.*${o.name}`),weight:o.weight,quality:o.quality},{regex:new RegExp(`^/Volumes/.*${o.name}`),weight:o.weight-100,quality:o.quality}],[]);return i&&n.unshift({regex:new RegExp((0,Kw.escapeRegexSpecialChars)(i)),weight:151,quality:"custom"}),n}};xH.DarwinFinderBase=zw});var NR=v(PH=>{"use strict";Object.defineProperty(PH,"__esModule",{value:!0});PH.DarwinChromeBrowserFinder=void 0;var pZ=cu(),fZ=Xw(),Jw=class extends fZ.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],r=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],i=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",r,e);return(0,pZ.sort)(i,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};PH.DarwinChromeBrowserFinder=Jw});var BR=v(LH=>{"use strict";Object.defineProperty(LH,"__esModule",{value:!0});LH.DarwinEdgeBrowserFinder=void 0;var dZ=cu(),hZ=Xw(),Yw=class extends hZ.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],r=["/Applications/Microsoft Edge.app"],i=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",r,e);return(0,dZ.sort)(i,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};LH.DarwinEdgeBrowserFinder=Yw});var eI=v(CH=>{"use strict";Object.defineProperty(CH,"__esModule",{value:!0});CH.LinuxChromeBrowserFinder=void 0;var mZ=w("path"),fl=cu(),Qw=w("child_process"),gZ=w("os"),FR=/\r?\n/,Zw=class{constructor(e,r){this.env=e,this.fs=r,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,r=this.env[this.pathEnvironmentVar];r&&await(0,fl.canAccess)(this.fs,r)&&e.add(r),[mZ.posix.join((0,gZ.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(o=>{for(let a in this.findChromeExecutables(o))e.add(a)}),await Promise.all(this.executablesOnPath.map(async o=>{try{let a=(0,Qw.execFileSync)("which",[o],{stdio:"pipe"}).toString().split(FR)[0];await(0,fl.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let s=r?[{regex:new RegExp((0,fl.escapeRegexSpecialChars)(r)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,fl.sort)(e,s)}async findChromeExecutables(e){let r=/(^[^ ]+).*/,i=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,n=[];if(await(0,fl.canAccess)(this.fs,e)){let s;try{s=(0,Qw.execSync)(`grep -ER "${i}" ${e} | awk -F '=' '{print $2}'`)}catch{s=(0,Qw.execSync)(`grep -Er "${i}" ${e} | awk -F '=' '{print $2}'`)}let o=s.toString().split(FR).map(a=>a.replace(r,"$1"));await Promise.all(o.map(async a=>{await(0,fl.canAccess)(this.fs,a)&&n.push(a)}))}return n}};CH.LinuxChromeBrowserFinder=Zw});var UR=v(DH=>{"use strict";Object.defineProperty(DH,"__esModule",{value:!0});DH.LinuxEdgeBrowserFinder=void 0;var HZ=eI(),tI=class extends HZ.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};DH.LinuxEdgeBrowserFinder=tI});var WR=v(TH=>{"use strict";Object.defineProperty(TH,"__esModule",{value:!0});TH.WindowsChromeBrowserFinder=void 0;var yZ=w("path"),jR=cu(),rI=class{constructor(e,r){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=yZ.win32.sep,r=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],i=await(0,jR.findWindowsCandidates)(this.env,this.fs,r),n=await(0,jR.preferredChromePath)(this.fs,this.env);return n&&i.unshift({path:n,quality:"custom"}),i}};TH.WindowsChromeBrowserFinder=rI});var VR=v($H=>{"use strict";Object.defineProperty($H,"__esModule",{value:!0});$H.WindowsEdgeBrowserFinder=void 0;var yr=w("path"),qR=cu(),iI=class{constructor(e,r){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${yr.sep}Microsoft${yr.sep}Edge SxS${yr.sep}Application${yr.sep}msedge.exe`,type:"canary"},{name:`${yr.sep}Microsoft${yr.sep}Edge Dev${yr.sep}Application${yr.sep}msedge.exe`,type:"dev"},{name:`${yr.sep}Microsoft${yr.sep}Edge Beta${yr.sep}Application${yr.sep}msedge.exe`,type:"beta"},{name:`${yr.sep}Microsoft${yr.sep}Edge${yr.sep}Application${yr.sep}msedge.exe`,type:"stable"}],r=await(0,qR.findWindowsCandidates)(this.env,this.fs,e),i=await(0,qR.preferredEdgePath)(this.fs,this.env);return i&&r.unshift({path:i,quality:"custom"}),r}};$H.WindowsEdgeBrowserFinder=iI});var nI=v(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.EdgeBrowserFinder=tn.ChromeBrowserFinder=tn.isQuality=tn.allQualities=void 0;var bZ=NR(),vZ=BR(),_Z=eI(),wZ=UR(),IZ=WR(),AZ=VR(),SZ={canary:null,stable:null,beta:null,dev:null,custom:null};tn.allQualities=new Set(Object.keys(SZ));var EZ=t=>tn.allQualities.has(t);tn.isQuality=EZ;tn.ChromeBrowserFinder=process.platform==="win32"?IZ.WindowsChromeBrowserFinder:process.platform==="darwin"?bZ.DarwinChromeBrowserFinder:_Z.LinuxChromeBrowserFinder;tn.EdgeBrowserFinder=process.platform==="win32"?AZ.WindowsEdgeBrowserFinder:process.platform==="darwin"?vZ.DarwinEdgeBrowserFinder:wZ.LinuxEdgeBrowserFinder});var JR=v((rSe,XR)=>{"use strict";function PZ(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),i="",n=!1,s=r[0]||"text/plain",o=s;for(let l=1;l<r.length;l++)r[l]==="base64"?n=!0:(o+=`;${r[l]}`,r[l].indexOf("charset=")===0&&(i=r[l].substring(8)));!r[0]&&!i.length&&(o+=";charset=US-ASCII",i="US-ASCII");let a=n?"base64":"ascii",u=unescape(t.substring(e+1)),c=Buffer.from(u,a);return c.type=s,c.typeFull=o,c.charset=i,c}XR.exports=PZ});var Ds=v((Cs,RH)=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});var YR=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function LZ(t){return YR.includes(t)}var CZ=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...YR];function DZ(t){return CZ.includes(t)}var TZ=["null","undefined","string","number","bigint","boolean","symbol"];function $Z(t){return TZ.includes(t)}function hl(t){return e=>typeof e===t}var{toString:QR}=Object.prototype,rd=t=>{let e=QR.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&x.domElement(t))return"HTMLElement";if(DZ(e))return e},rt=t=>e=>rd(e)===t;function x(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(x.observable(t))return"Observable";if(x.array(t))return"Array";if(x.buffer(t))return"Buffer";let e=rd(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}x.undefined=hl("undefined");x.string=hl("string");var MZ=hl("number");x.number=t=>MZ(t)&&!x.nan(t);x.bigint=hl("bigint");x.function_=hl("function");x.null_=t=>t===null;x.class_=t=>x.function_(t)&&t.toString().startsWith("class ");x.boolean=t=>t===!0||t===!1;x.symbol=hl("symbol");x.numericString=t=>x.string(t)&&!x.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));x.array=(t,e)=>Array.isArray(t)?x.function_(e)?t.every(e):!0:!1;x.buffer=t=>{var e,r,i,n;return(n=(i=(r=(e=t)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.isBuffer)===null||i===void 0?void 0:i.call(r,t))!==null&&n!==void 0?n:!1};x.blob=t=>rt("Blob")(t);x.nullOrUndefined=t=>x.null_(t)||x.undefined(t);x.object=t=>!x.null_(t)&&(typeof t=="object"||x.function_(t));x.iterable=t=>{var e;return x.function_((e=t)===null||e===void 0?void 0:e[Symbol.iterator])};x.asyncIterable=t=>{var e;return x.function_((e=t)===null||e===void 0?void 0:e[Symbol.asyncIterator])};x.generator=t=>{var e,r;return x.iterable(t)&&x.function_((e=t)===null||e===void 0?void 0:e.next)&&x.function_((r=t)===null||r===void 0?void 0:r.throw)};x.asyncGenerator=t=>x.asyncIterable(t)&&x.function_(t.next)&&x.function_(t.throw);x.nativePromise=t=>rt("Promise")(t);var kZ=t=>{var e,r;return x.function_((e=t)===null||e===void 0?void 0:e.then)&&x.function_((r=t)===null||r===void 0?void 0:r.catch)};x.promise=t=>x.nativePromise(t)||kZ(t);x.generatorFunction=rt("GeneratorFunction");x.asyncGeneratorFunction=t=>rd(t)==="AsyncGeneratorFunction";x.asyncFunction=t=>rd(t)==="AsyncFunction";x.boundFunction=t=>x.function_(t)&&!t.hasOwnProperty("prototype");x.regExp=rt("RegExp");x.date=rt("Date");x.error=rt("Error");x.map=t=>rt("Map")(t);x.set=t=>rt("Set")(t);x.weakMap=t=>rt("WeakMap")(t);x.weakSet=t=>rt("WeakSet")(t);x.int8Array=rt("Int8Array");x.uint8Array=rt("Uint8Array");x.uint8ClampedArray=rt("Uint8ClampedArray");x.int16Array=rt("Int16Array");x.uint16Array=rt("Uint16Array");x.int32Array=rt("Int32Array");x.uint32Array=rt("Uint32Array");x.float32Array=rt("Float32Array");x.float64Array=rt("Float64Array");x.bigInt64Array=rt("BigInt64Array");x.bigUint64Array=rt("BigUint64Array");x.arrayBuffer=rt("ArrayBuffer");x.sharedArrayBuffer=rt("SharedArrayBuffer");x.dataView=rt("DataView");x.enumCase=(t,e)=>Object.values(e).includes(t);x.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;x.urlInstance=t=>rt("URL")(t);x.urlString=t=>{if(!x.string(t))return!1;try{return new URL(t),!0}catch{return!1}};x.truthy=t=>Boolean(t);x.falsy=t=>!t;x.nan=t=>Number.isNaN(t);x.primitive=t=>x.null_(t)||$Z(typeof t);x.integer=t=>Number.isInteger(t);x.safeInteger=t=>Number.isSafeInteger(t);x.plainObject=t=>{if(QR.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};x.typedArray=t=>LZ(rd(t));var RZ=t=>x.safeInteger(t)&&t>=0;x.arrayLike=t=>!x.nullOrUndefined(t)&&!x.function_(t)&&RZ(t.length);x.inRange=(t,e)=>{if(x.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(x.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var OZ=1,NZ=["innerHTML","ownerDocument","style","attributes","nodeValue"];x.domElement=t=>x.object(t)&&t.nodeType===OZ&&x.string(t.nodeName)&&!x.plainObject(t)&&NZ.every(e=>e in t);x.observable=t=>{var e,r,i,n;return t?t===((r=(e=t)[Symbol.observable])===null||r===void 0?void 0:r.call(e))||t===((n=(i=t)["@@observable"])===null||n===void 0?void 0:n.call(i)):!1};x.nodeStream=t=>x.object(t)&&x.function_(t.pipe)&&!x.observable(t);x.infinite=t=>t===1/0||t===-1/0;var ZR=t=>e=>x.integer(e)&&Math.abs(e%2)===t;x.evenInteger=ZR(0);x.oddInteger=ZR(1);x.emptyArray=t=>x.array(t)&&t.length===0;x.nonEmptyArray=t=>x.array(t)&&t.length>0;x.emptyString=t=>x.string(t)&&t.length===0;var BZ=t=>x.string(t)&&!/\S/.test(t);x.emptyStringOrWhitespace=t=>x.emptyString(t)||BZ(t);x.nonEmptyString=t=>x.string(t)&&t.length>0;x.nonEmptyStringAndNotWhitespace=t=>x.string(t)&&!x.emptyStringOrWhitespace(t);x.emptyObject=t=>x.object(t)&&!x.map(t)&&!x.set(t)&&Object.keys(t).length===0;x.nonEmptyObject=t=>x.object(t)&&!x.map(t)&&!x.set(t)&&Object.keys(t).length>0;x.emptySet=t=>x.set(t)&&t.size===0;x.nonEmptySet=t=>x.set(t)&&t.size>0;x.emptyMap=t=>x.map(t)&&t.size===0;x.nonEmptyMap=t=>x.map(t)&&t.size>0;x.propertyKey=t=>x.any([x.string,x.number,x.symbol],t);x.formData=t=>rt("FormData")(t);x.urlSearchParams=t=>rt("URLSearchParams")(t);var eO=(t,e,r)=>{if(!x.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};x.any=(t,...e)=>(x.array(t)?t:[t]).some(i=>eO(Array.prototype.some,i,e));x.all=(t,...e)=>eO(Array.prototype.every,t,e);var ee=(t,e,r,i={})=>{if(!t){let{multipleValues:n}=i,s=n?`received values of types ${[...new Set(r.map(o=>`\`${x(o)}\``))].join(", ")}`:`received value of type \`${x(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${s}.`)}};Cs.assert={undefined:t=>ee(x.undefined(t),"undefined",t),string:t=>ee(x.string(t),"string",t),number:t=>ee(x.number(t),"number",t),bigint:t=>ee(x.bigint(t),"bigint",t),function_:t=>ee(x.function_(t),"Function",t),null_:t=>ee(x.null_(t),"null",t),class_:t=>ee(x.class_(t),"Class",t),boolean:t=>ee(x.boolean(t),"boolean",t),symbol:t=>ee(x.symbol(t),"symbol",t),numericString:t=>ee(x.numericString(t),"string with a number",t),array:(t,e)=>{ee(x.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>ee(x.buffer(t),"Buffer",t),blob:t=>ee(x.blob(t),"Blob",t),nullOrUndefined:t=>ee(x.nullOrUndefined(t),"null or undefined",t),object:t=>ee(x.object(t),"Object",t),iterable:t=>ee(x.iterable(t),"Iterable",t),asyncIterable:t=>ee(x.asyncIterable(t),"AsyncIterable",t),generator:t=>ee(x.generator(t),"Generator",t),asyncGenerator:t=>ee(x.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>ee(x.nativePromise(t),"native Promise",t),promise:t=>ee(x.promise(t),"Promise",t),generatorFunction:t=>ee(x.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>ee(x.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>ee(x.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>ee(x.boundFunction(t),"Function",t),regExp:t=>ee(x.regExp(t),"RegExp",t),date:t=>ee(x.date(t),"Date",t),error:t=>ee(x.error(t),"Error",t),map:t=>ee(x.map(t),"Map",t),set:t=>ee(x.set(t),"Set",t),weakMap:t=>ee(x.weakMap(t),"WeakMap",t),weakSet:t=>ee(x.weakSet(t),"WeakSet",t),int8Array:t=>ee(x.int8Array(t),"Int8Array",t),uint8Array:t=>ee(x.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>ee(x.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>ee(x.int16Array(t),"Int16Array",t),uint16Array:t=>ee(x.uint16Array(t),"Uint16Array",t),int32Array:t=>ee(x.int32Array(t),"Int32Array",t),uint32Array:t=>ee(x.uint32Array(t),"Uint32Array",t),float32Array:t=>ee(x.float32Array(t),"Float32Array",t),float64Array:t=>ee(x.float64Array(t),"Float64Array",t),bigInt64Array:t=>ee(x.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>ee(x.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>ee(x.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>ee(x.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>ee(x.dataView(t),"DataView",t),enumCase:(t,e)=>ee(x.enumCase(t,e),"EnumCase",t),urlInstance:t=>ee(x.urlInstance(t),"URL",t),urlString:t=>ee(x.urlString(t),"string with a URL",t),truthy:t=>ee(x.truthy(t),"truthy",t),falsy:t=>ee(x.falsy(t),"falsy",t),nan:t=>ee(x.nan(t),"NaN",t),primitive:t=>ee(x.primitive(t),"primitive",t),integer:t=>ee(x.integer(t),"integer",t),safeInteger:t=>ee(x.safeInteger(t),"integer",t),plainObject:t=>ee(x.plainObject(t),"plain object",t),typedArray:t=>ee(x.typedArray(t),"TypedArray",t),arrayLike:t=>ee(x.arrayLike(t),"array-like",t),domElement:t=>ee(x.domElement(t),"HTMLElement",t),observable:t=>ee(x.observable(t),"Observable",t),nodeStream:t=>ee(x.nodeStream(t),"Node.js Stream",t),infinite:t=>ee(x.infinite(t),"infinite number",t),emptyArray:t=>ee(x.emptyArray(t),"empty array",t),nonEmptyArray:t=>ee(x.nonEmptyArray(t),"non-empty array",t),emptyString:t=>ee(x.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>ee(x.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>ee(x.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>ee(x.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>ee(x.emptyObject(t),"empty object",t),nonEmptyObject:t=>ee(x.nonEmptyObject(t),"non-empty object",t),emptySet:t=>ee(x.emptySet(t),"empty set",t),nonEmptySet:t=>ee(x.nonEmptySet(t),"non-empty set",t),emptyMap:t=>ee(x.emptyMap(t),"empty map",t),nonEmptyMap:t=>ee(x.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>ee(x.propertyKey(t),"PropertyKey",t),formData:t=>ee(x.formData(t),"FormData",t),urlSearchParams:t=>ee(x.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>ee(x.evenInteger(t),"even integer",t),oddInteger:t=>ee(x.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>ee(x.directInstanceOf(t,e),"T",t),inRange:(t,e)=>ee(x.inRange(t,e),"in range",t),any:(t,...e)=>ee(x.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>ee(x.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(x,{class:{value:x.class_},function:{value:x.function_},null:{value:x.null_}});Object.defineProperties(Cs.assert,{class:{value:Cs.assert.class_},function:{value:Cs.assert.function_},null:{value:Cs.assert.null_}});Cs.default=x;RH.exports=x;RH.exports.default=x;RH.exports.assert=Cs.assert});var tO=v((iSe,oI)=>{"use strict";var OH=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},ml=class{static fn(e){return(...r)=>new ml((i,n,s)=>{r.push(s),e(...r).then(i,n)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,i)=>{this._reject=i;let n=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},s=a=>{this._isPending=!1,i(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(n,s,o)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new OH(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(ml.prototype,Promise.prototype);oI.exports=ml;oI.exports.CancelError=OH});var rO=v((uI,cI)=>{"use strict";Object.defineProperty(uI,"__esModule",{value:!0});function FZ(t){return t.encrypted}var aI=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let i=typeof r.connect=="function",n=typeof r.secureConnect=="function",s=typeof r.close=="function",o=()=>{i&&r.connect(),FZ(t)&&n&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),s&&t.once("close",r.close)};t.writable&&!t.connecting?o():t.connecting?t.once("connect",o):t.destroyed&&s&&r.close(t._hadError)};uI.default=aI;cI.exports=aI;cI.exports.default=aI});var iO=v((pI,fI)=>{"use strict";Object.defineProperty(pI,"__esModule",{value:!0});var UZ=rO(),jZ=w("util"),WZ=Number(process.versions.node.split(".")[0]),lI=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=a=>{let u=a.emit.bind(a);a.emit=(c,...l)=>(c==="error"&&(e.error=Date.now(),e.phases.total=e.error-e.start,a.emit=u),u(c,...l))};r(t);let i=()=>{e.abort=Date.now(),(!e.response||WZ>=13)&&(e.phases.total=Date.now()-e.start)};t.prependOnceListener("abort",i);let n=a=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,jZ.types.isProxy(a))return;let u=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};a.prependOnceListener("lookup",u),UZ.default(a,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(a.removeListener("lookup",u),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?n(t.socket):t.prependOnceListener("socket",n);let s=()=>{var a;e.upload=Date.now(),e.phases.request=e.upload-((a=e.secureConnect)!==null&&a!==void 0?a:e.connect)};return(()=>typeof t.writableFinished=="boolean"?t.writableFinished:t.finished&&t.outputSize===0&&(!t.socket||t.socket.writableLength===0))()?s():t.prependOnceListener("finish",s),t.prependOnceListener("response",a=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,a.timings=e,r(a),a.prependOnceListener("end",()=>{e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start}),a.prependOnceListener("aborted",i)}),e};pI.default=lI;fI.exports=lI;fI.exports.default=lI});var lO=v((nSe,mI)=>{"use strict";var{V4MAPPED:qZ,ADDRCONFIG:VZ,ALL:cO,promises:{Resolver:nO},lookup:GZ}=w("dns"),{promisify:dI}=w("util"),KZ=w("os"),gl=Symbol("cacheableLookupCreateConnection"),hI=Symbol("cacheableLookupInstance"),sO=Symbol("expires"),zZ=typeof cO=="number",oO=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},XZ=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},aO=()=>{let t=!1,e=!1;for(let r of Object.values(KZ.networkInterfaces()))for(let i of r)if(!i.internal&&(i.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},JZ=t=>Symbol.iterator in t,uO={ttl:!0},YZ={all:!0},NH=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:i=3600,errorTtl:n=.15,resolver:s=new nO,lookup:o=GZ}={}){if(this.maxTtl=r,this.errorTtl=n,this._cache=e,this._resolver=s,this._dnsLookup=dI(o),this._resolver instanceof nO?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=dI(this._resolver.resolve4.bind(this._resolver)),this._resolve6=dI(this._resolver.resolve6.bind(this._resolver))),this._iface=aO(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,i<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},i*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,i){if(typeof r=="function"?(i=r,r={}):typeof r=="number"&&(r={family:r}),!i)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(n=>{r.all?i(null,n):i(null,n.address,n.family,n.expires,n.ttl)},i)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let i=await this.query(e);if(r.family===6){let n=i.filter(s=>s.family===6);r.hints&qZ&&(zZ&&r.hints&cO||n.length===0)?XZ(i):i=n}else r.family===4&&(i=i.filter(n=>n.family===4));if(r.hints&VZ){let{_iface:n}=this;i=i.filter(s=>s.family===6?n.has6:n.has4)}if(i.length===0){let n=new Error(`cacheableLookup ENOTFOUND ${e}`);throw n.code="ENOTFOUND",n.hostname=e,n}return r.all?i:i[0]}async query(e){let r=await this._cache.get(e);if(!r){let i=this._pending[e];if(i)r=await i;else{let n=this.queryAndCache(e);this._pending[e]=n;try{r=await n}finally{delete this._pending[e]}}}return r=r.map(i=>({...i})),r}async _resolve(e){let r=async c=>{try{return await c}catch(l){if(l.code==="ENODATA"||l.code==="ENOTFOUND")return[];throw l}},[i,n]=await Promise.all([this._resolve4(e,uO),this._resolve6(e,uO)].map(c=>r(c))),s=0,o=0,a=0,u=Date.now();for(let c of i)c.family=4,c.expires=u+c.ttl*1e3,s=Math.max(s,c.ttl);for(let c of n)c.family=6,c.expires=u+c.ttl*1e3,o=Math.max(o,c.ttl);return i.length>0?n.length>0?a=Math.min(s,o):a=s:a=o,{entries:[...i,...n],cacheTtl:a}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,i){if(this.maxTtl>0&&i>0){i=Math.min(i,this.maxTtl)*1e3,r[sO]=Date.now()+i;try{await this._cache.set(e,r,i)}catch(n){this.lookupAsync=async()=>{let s=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw s.cause=n,s}}JZ(this._cache)&&this._tick(i)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,YZ);let r=await this._resolve(e);r.entries.length===0&&this._fallback&&(r=await this._lookup(e),r.entries.length!==0&&this._hostnamesToFallback.add(e));let i=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,i),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let i=1/0,n=Date.now();for(let[s,o]of this._cache){let a=o[sO];n>=a?this._cache.delete(s):a<i&&(i=a)}i!==1/0&&this._tick(i-n)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(oO(e),gl in e)throw new Error("CacheableLookup has been already installed");e[gl]=e.createConnection,e[hI]=this,e.createConnection=(r,i)=>("lookup"in r||(r.lookup=this.lookup),e[gl](r,i))}uninstall(e){if(oO(e),e[gl]){if(e[hI]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[gl],delete e[gl],delete e[hI]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=aO(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};mI.exports=NH;mI.exports.default=NH});var dO=v((sSe,fO)=>{"use strict";var QZ="text/plain",ZZ="us-ascii",pO=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),eee=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:i,data:n,hash:s}=r.groups,o=i.split(";");s=e?"":s;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let u=(o.shift()||"").toLowerCase(),l=[...o.map(p=>{let[f,g=""]=p.split("=").map(m=>m.trim());return f==="charset"&&(g=g.toLowerCase(),g===ZZ)?"":`${f}${g?`=${g}`:""}`}).filter(Boolean)];return a&&l.push("base64"),(l.length!==0||u&&u!==QZ)&&l.unshift(u),`data:${l.join(";")},${a?n.trim():n}${s?`#${s}`:""}`},tee=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return eee(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let n=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),e.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),e.stripAuthentication&&(n.username="",n.password=""),e.stripHash?n.hash="":e.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname&&(n.pathname=n.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let o=n.pathname.split("/"),a=o[o.length-1];pO(a,e.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),n.pathname=o.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let o of[...n.searchParams.keys()])pO(o,e.removeQueryParameters)&&n.searchParams.delete(o);e.removeQueryParameters===!0&&(n.search=""),e.sortQueryParameters&&n.searchParams.sort(),e.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let s=t;return t=n.toString(),!e.removeSingleSlash&&n.pathname==="/"&&!s.endsWith("/")&&n.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};fO.exports=tee});var gI=v((oSe,mO)=>{mO.exports=hO;function hO(t,e){if(t&&e)return hO(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){r[i]=t[i]}),r;function r(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var s=t.apply(this,i),o=i[i.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var Hl=v((aSe,HI)=>{var gO=gI();HI.exports=gO(BH);HI.exports.strict=gO(HO);BH.proto=BH(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return BH(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return HO(this)},configurable:!0})});function BH(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function HO(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var FH=v((uSe,bO)=>{var ree=Hl(),iee=function(){},nee=function(t){return t.setHeader&&typeof t.abort=="function"},see=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},yO=function(t,e,r){if(typeof e=="function")return yO(t,null,e);e||(e={}),r=ree(r||iee);var i=t._writableState,n=t._readableState,s=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,u=function(){t.writable||c()},c=function(){o=!1,s||r.call(t)},l=function(){s=!1,o||r.call(t)},p=function(b){r.call(t,b?new Error("exited with error code: "+b):null)},f=function(b){r.call(t,b)},g=function(){process.nextTick(m)},m=function(){if(!a){if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"))}},y=function(){t.req.on("finish",c)};return nee(t)?(t.on("complete",c),t.on("abort",g),t.req?y():t.on("request",y)):o&&!i&&(t.on("end",u),t.on("close",u)),see(t)&&t.on("exit",p),t.on("end",l),t.on("finish",c),e.error!==!1&&t.on("error",f),t.on("close",g),function(){a=!0,t.removeListener("complete",c),t.removeListener("abort",g),t.removeListener("request",y),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("exit",p),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",g)}};bO.exports=yO});var wO=v((cSe,_O)=>{var oee=Hl(),aee=FH(),yI=w("fs"),id=function(){},uee=/^v?\.0/.test(process.version),UH=function(t){return typeof t=="function"},cee=function(t){return!uee||!yI?!1:(t instanceof(yI.ReadStream||id)||t instanceof(yI.WriteStream||id))&&UH(t.close)},lee=function(t){return t.setHeader&&UH(t.abort)},pee=function(t,e,r,i){i=oee(i);var n=!1;t.on("close",function(){n=!0}),aee(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,cee(t))return t.close(id);if(lee(t))return t.abort();if(UH(t.destroy))return t.destroy();i(o||new Error("stream was destroyed"))}}},vO=function(t){t()},fee=function(t,e){return t.pipe(e)},dee=function(){var t=Array.prototype.slice.call(arguments),e=UH(t[t.length-1]||id)&&t.pop()||id;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,i=t.map(function(n,s){var o=s<t.length-1,a=s>0;return pee(n,o,a,function(u){r||(r=u),u&&i.forEach(vO),!o&&(i.forEach(vO),e(r))})});return t.reduce(fee)};_O.exports=dee});var AO=v((lSe,IO)=>{"use strict";var{PassThrough:hee}=w("stream");IO.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,i=r==="buffer",n=!1;e?n=!(r||i):r=r||"utf8",i&&(r=null);let s=new hee({objectMode:n});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",u=>{a.push(u),n?o=a.length:o+=u.length}),s.getBufferedValue=()=>e?a:i?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var SO=v((pSe,yl)=>{"use strict";var{constants:mee}=w("buffer"),gee=wO(),Hee=AO(),jH=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function WH(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,i;return await new Promise((n,s)=>{let o=a=>{a&&i.getBufferedLength()<=mee.MAX_LENGTH&&(a.bufferedData=i.getBufferedValue()),s(a)};i=gee(t,Hee(e),a=>{if(a){o(a);return}n()}),i.on("data",()=>{i.getBufferedLength()>r&&o(new jH)})}),i.getBufferedValue()}yl.exports=WH;yl.exports.default=WH;yl.exports.buffer=(t,e)=>WH(t,{...e,encoding:"buffer"});yl.exports.array=(t,e)=>WH(t,{...e,array:!0});yl.exports.MaxBufferError=jH});var xO=v((dSe,EO)=>{"use strict";var yee=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),bee=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),vee=new Set([500,502,503,504]),_ee={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},wee={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function lu(t){let e=parseInt(t,10);return isFinite(e)?e:0}function Iee(t){return t?vee.has(t.status):!0}function bI(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let i of r){let[n,s]=i.split(/=/,2);e[n.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return e}function Aee(t){let e=[];for(let r in t){let i=t[r];e.push(i===!0?r:r+"="+i)}if(e.length)return e.join(", ")}EO.exports=class{constructor(e,r,{shared:i,cacheHeuristic:n,immutableMinTimeToLive:s,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=i!==!1,this._cacheHeuristic=n!==void 0?n:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=bI(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=bI(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Aee(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&bee.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||yee.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=bI(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let i of r)if(e.headers[i]!==this._reqHeaders[i])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let i in e)_ee[i]||(r[i]=e[i]);if(e.connection){let i=e.connection.trim().split(/\s*,\s*/);for(let n of i)delete r[n]}if(r.warning){let i=r.warning.split(/,/).filter(n=>!/^\s*1[0-9][0-9]/.test(n));i.length?r.warning=i.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return lu(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return lu(this._rescc["s-maxage"])}if(this._rescc["max-age"])return lu(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let i=Date.parse(this._resHeaders.expires);return Number.isNaN(i)||i<r?0:Math.max(e,(i-r)/1e3)}if(this._resHeaders["last-modified"]){let i=Date.parse(this._resHeaders["last-modified"]);if(isFinite(i)&&r>i)return Math.max(e,(r-i)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+lu(this._rescc["stale-if-error"]),i=e+lu(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,i)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+lu(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+lu(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let n=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));n.length?r["if-none-match"]=n.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&Iee(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let i=!1;if(r.status!==void 0&&r.status!=304?i=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?i=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?i=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?i=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(i=!0),!i)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let n={};for(let o in this._resHeaders)n[o]=o in r.headers&&!wee[o]?r.headers[o]:this._resHeaders[o];let s=Object.assign({},r,{status:this._status,method:this._method,headers:n});return{policy:new this.constructor(e,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var qH=v((hSe,PO)=>{"use strict";PO.exports=t=>{let e={};for(let[r,i]of Object.entries(t))e[r.toLowerCase()]=i;return e}});var CO=v((mSe,LO)=>{"use strict";var See=w("stream").Readable,Eee=qH(),vI=class extends See{constructor(e,r,i,n){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(i instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof n!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=Eee(r),this.body=i,this.url=n}_read(){this.push(this.body),this.push(null)}};LO.exports=vI});var TO=v((gSe,DO)=>{"use strict";var xee=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];DO.exports=(t,e)=>{let r=new Set(Object.keys(t).concat(xee));for(let i of r)i in e||(e[i]=typeof t[i]=="function"?t[i].bind(t):t[i])}});var MO=v((HSe,$O)=>{"use strict";var Pee=w("stream").PassThrough,Lee=TO(),Cee=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new Pee;return Lee(t,e),t.pipe(e)};$O.exports=Cee});var kO=v(_I=>{_I.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",i=Array.isArray(e);r=i?"[":"{";var n=!0;for(var s in e){var o=typeof e[s]=="function"||!i&&typeof e[s]>"u";Object.hasOwnProperty.call(e,s)&&!o&&(n||(r+=","),n=!1,i?e[s]==null?r+="null":r+=t(e[s]):e[s]!==void 0&&(r+=t(s)+":"+t(e[s])))}return r+=i?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};_I.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var BO=v((bSe,NO)=>{"use strict";var Dee=w("events"),RO=kO(),Tee=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(w(e[r]))(t)}return new Map},OO=["sqlite","postgres","mysql","mongo","redis","tiered"],wI=class extends Dee{constructor(e,{emitErrors:r=!0,...i}={}){if(super(),this.opts={namespace:"keyv",serialize:RO.stringify,deserialize:RO.parse,...typeof e=="string"?{uri:e}:e,...i},!this.opts.store){let s={...this.opts};this.opts.store=Tee(s)}if(this.opts.compression){let s=this.opts.compression;this.opts.serialize=s.serialize.bind(s),this.opts.deserialize=s.deserialize.bind(s)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",s=>this.emit("error",s)),this.opts.store.namespace=this.opts.namespace;let n=s=>async function*(){for await(let[o,a]of typeof s=="function"?s(this.opts.store.namespace):s){let u=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof u.expires=="number"&&Date.now()>u.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),u.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=n(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=n(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return OO.includes(this.opts.store.opts.dialect)||OO.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:i}=this.opts,n=Array.isArray(e),s=n?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(n&&i.getMany===void 0){let o=[];for(let a of s)o.push(Promise.resolve().then(()=>i.get(a)).then(u=>typeof u=="string"?this.opts.deserialize(u):this.opts.compression?this.opts.deserialize(u):u).then(u=>{if(u!=null)return typeof u.expires=="number"&&Date.now()>u.expires?this.delete(a).then(()=>{}):r&&r.raw?u:u.value}));return Promise.allSettled(o).then(a=>{let u=[];for(let c of a)u.push(c.value);return u})}return Promise.resolve().then(()=>n?i.getMany(s):i.get(s)).then(o=>typeof o=="string"?this.opts.deserialize(o):this.opts.compression?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(n){let a=[];for(let u of o){if(typeof u=="string"&&(u=this.opts.deserialize(u)),u==null){a.push(void 0);continue}typeof u.expires=="number"&&Date.now()>u.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?u:u.value)}return a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(e).then(()=>{}):r&&r.raw?o:o.value}})}set(e,r,i){let n=this._getKeyPrefix(e);typeof i>"u"&&(i=this.opts.ttl),i===0&&(i=void 0);let{store:s}=this.opts;return Promise.resolve().then(()=>{let o=typeof i=="number"?Date.now()+i:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>s.set(n,o,i)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let n=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let s=[];for(let o of n)s.push(r.delete(o));return Promise.allSettled(s).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(n))}let i=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(i))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:i}=this.opts;return Promise.resolve().then(async()=>typeof i.has=="function"?i.has(r):await i.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};NO.exports=wI});var jO=v((_Se,UO)=>{"use strict";var $ee=w("events"),VH=w("url"),Mee=dO(),kee=SO(),II=xO(),FO=CO(),Ree=qH(),Oee=MO(),Nee=BO(),rn=class{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new Nee({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,i)=>{let n;if(typeof r=="string")n=AI(VH.parse(r)),r={};else if(r instanceof VH.URL)n=AI(VH.parse(r.toString())),r={};else{let[p,...f]=(r.path||"").split("?"),g=f.length>0?`?${f.join("?")}`:"";n=AI({...r,pathname:p,search:g})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...Bee(n)},r.headers=Ree(r.headers);let s=new $ee,o=Mee(VH.format(n),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,u=!1,c=!1,l=p=>{c=!0;let f=!1,g,m=new Promise(b=>{g=()=>{f||(f=!0,b())}}),y=b=>{if(u&&!p.forceRefresh){b.status=b.statusCode;let B=II.fromObject(u.cachePolicy).revalidatedPolicy(p,b);if(!B.modified){let W=B.policy.responseHeaders();b=new FO(u.statusCode,W,u.body,u.url),b.cachePolicy=B.policy,b.fromCache=!0}}b.fromCache||(b.cachePolicy=new II(p,b,p),b.fromCache=!1);let I;p.cache&&b.cachePolicy.storable()?(I=Oee(b),(async()=>{try{let B=kee.buffer(b);if(await Promise.race([m,new Promise(G=>b.once("end",G))]),f)return;let W=await B,P={cachePolicy:b.cachePolicy.toObject(),url:b.url,statusCode:b.fromCache?u.statusCode:b.statusCode,body:W},D=p.strictTtl?b.cachePolicy.timeToLive():void 0;p.maxTtl&&(D=D?Math.min(D,p.maxTtl):p.maxTtl),await this.cache.set(a,P,D)}catch(B){s.emit("error",new rn.CacheError(B))}})()):p.cache&&u&&(async()=>{try{await this.cache.delete(a)}catch(B){s.emit("error",new rn.CacheError(B))}})(),s.emit("response",I||b),typeof i=="function"&&i(I||b)};try{let b=e(p,y);b.once("error",g),b.once("abort",g),s.emit("request",b)}catch(b){s.emit("error",new rn.RequestError(b))}};return(async()=>{let p=async g=>{await Promise.resolve();let m=g.cache?await this.cache.get(a):void 0;if(typeof m>"u")return l(g);let y=II.fromObject(m.cachePolicy);if(y.satisfiesWithoutRevalidation(g)&&!g.forceRefresh){let b=y.responseHeaders(),I=new FO(m.statusCode,b,m.body,m.url);I.cachePolicy=y,I.fromCache=!0,s.emit("response",I),typeof i=="function"&&i(I)}else u=m,g.headers=y.revalidationHeaders(g),l(g)},f=g=>s.emit("error",new rn.CacheError(g));this.cache.once("error",f),s.on("response",()=>this.cache.removeListener("error",f));try{await p(r)}catch(g){r.automaticFailover&&!c&&l(r),s.emit("error",new rn.CacheError(g))}})(),s}}};function Bee(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function AI(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}rn.RequestError=class extends Error{constructor(t){super(t.message),this.name="RequestError",Object.assign(this,t)}};rn.CacheError=class extends Error{constructor(t){super(t.message),this.name="CacheError",Object.assign(this,t)}};UO.exports=rn});var qO=v((ASe,WO)=>{"use strict";var Fee=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];WO.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(Fee)),i={};for(let n of r)n in e||(i[n]={get(){let s=t[n];return typeof s=="function"?s.bind(t):s},set(s){t[n]=s},enumerable:!0,configurable:!1});return Object.defineProperties(e,i),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var GO=v((SSe,VO)=>{"use strict";var{Transform:Uee,PassThrough:jee}=w("stream"),SI=w("zlib"),Wee=qO();VO.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof SI.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let i=!0,n=new Uee({transform(a,u,c){i=!1,c(null,a)},flush(a){a()}}),s=new jee({autoDestroy:!1,destroy(a,u){t.destroy(),u(a)}}),o=r?SI.createBrotliDecompress():SI.createUnzip();return o.once("error",a=>{if(i&&!t.readable){s.end();return}s.destroy(a)}),Wee(t,s),t.pipe(n).pipe(o).pipe(s),s}});var xI=v((ESe,KO)=>{"use strict";var EI=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[i,n]of this.oldCache.entries())this.onEviction(i,n);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};KO.exports=EI});var LI=v((xSe,YO)=>{"use strict";var qee=w("events"),Vee=w("tls"),Gee=w("http2"),Kee=xI(),Mr=Symbol("currentStreamsCount"),zO=Symbol("request"),Ci=Symbol("cachedOriginSet"),bl=Symbol("gracefullyClosing"),zee=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],Xee=(t,e,r)=>{let i=0,n=t.length;for(;i<n;){let s=i+n>>>1;r(t[s],e)?i=s+1:n=s}return i},Jee=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,PI=(t,e)=>{for(let r of t)r[Ci].length<e[Ci].length&&r[Ci].every(i=>e[Ci].includes(i))&&r[Mr]+e[Mr]<=e.remoteSettings.maxConcurrentStreams&&JO(r)},Yee=(t,e)=>{for(let r of t)e[Ci].length<r[Ci].length&&e[Ci].every(i=>r[Ci].includes(i))&&e[Mr]+r[Mr]<=r.remoteSettings.maxConcurrentStreams&&JO(e)},XO=({agent:t,isFree:e})=>{let r={};for(let i in t.sessions){let s=t.sessions[i].filter(o=>{let a=o[Qn.kCurrentStreamsCount]<o.remoteSettings.maxConcurrentStreams;return e?a:!a});s.length!==0&&(r[i]=s)}return r},JO=t=>{t[bl]=!0,t[Mr]===0&&t.close()},Qn=class extends qee{constructor({timeout:e=6e4,maxSessions:r=1/0,maxFreeSessions:i=10,maxCachedTlsSessions:n=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxFreeSessions=i,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new Kee({maxSize:n})}static normalizeOrigin(e,r){return typeof e=="string"&&(e=new URL(e)),r&&e.hostname!==r&&(e.hostname=r),e.origin}normalizeOptions(e){let r="";if(e)for(let i of zee)e[i]&&(r+=`:${e[i]}`);return r}_tryToCreateNewSession(e,r){if(!(e in this.queue)||!(r in this.queue[e]))return;let i=this.queue[e][r];this._sessionsCount<this.maxSessions&&!i.completed&&(i.completed=!0,i())}getSession(e,r,i){return new Promise((n,s)=>{Array.isArray(i)?(i=[...i],n()):i=[{resolve:n,reject:s}];let o=this.normalizeOptions(r),a=Qn.normalizeOrigin(e,r&&r.servername);if(a===void 0){for(let{reject:l}of i)l(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(o in this.sessions){let l=this.sessions[o],p=-1,f=-1,g;for(let m of l){let y=m.remoteSettings.maxConcurrentStreams;if(y<p)break;if(m[Ci].includes(a)){let b=m[Mr];if(b>=y||m[bl]||m.destroyed)continue;g||(p=y),b>f&&(g=m,f=b)}}if(g){if(i.length!==1){for(let{reject:m}of i){let y=new Error(`Expected the length of listeners to be 1, got ${i.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);m(y)}return}i[0].resolve(g);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...i),this._tryToCreateNewSession(o,a);return}}else this.queue[o]={};let u=()=>{o in this.queue&&this.queue[o][a]===c&&(delete this.queue[o][a],Object.keys(this.queue[o]).length===0&&delete this.queue[o])},c=()=>{let l=`${a}:${o}`,p=!1;try{let f=Gee.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(l),...r});f[Mr]=0,f[bl]=!1;let g=()=>f[Mr]<f.remoteSettings.maxConcurrentStreams,m=!0;f.socket.once("session",b=>{this.tlsSessionCache.set(l,b)}),f.once("error",b=>{for(let{reject:I}of i)I(b);this.tlsSessionCache.delete(l)}),f.setTimeout(this.timeout,()=>{f.destroy()}),f.once("close",()=>{if(p){m&&this._freeSessionsCount--,this._sessionsCount--;let b=this.sessions[o];b.splice(b.indexOf(f),1),b.length===0&&delete this.sessions[o]}else{let b=new Error("Session closed without receiving a SETTINGS frame");b.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:I}of i)I(b);u()}this._tryToCreateNewSession(o,a)});let y=()=>{if(!(!(o in this.queue)||!g())){for(let b of f[Ci])if(b in this.queue[o]){let{listeners:I}=this.queue[o][b];for(;I.length!==0&&g();)I.shift().resolve(f);let B=this.queue[o];if(B[b].listeners.length===0&&(delete B[b],Object.keys(B).length===0)){delete this.queue[o];break}if(!g())break}}};f.on("origin",()=>{f[Ci]=f.originSet,g()&&(y(),PI(this.sessions[o],f))}),f.once("remoteSettings",()=>{if(f.ref(),f.unref(),this._sessionsCount++,c.destroyed){let b=new Error("Agent has been destroyed");for(let I of i)I.reject(b);f.destroy();return}f[Ci]=f.originSet;{let b=this.sessions;if(o in b){let I=b[o];I.splice(Xee(I,f,Jee),0,f)}else b[o]=[f]}this._freeSessionsCount+=1,p=!0,this.emit("session",f),y(),u(),f[Mr]===0&&this._freeSessionsCount>this.maxFreeSessions&&f.close(),i.length!==0&&(this.getSession(a,r,i),i.length=0),f.on("remoteSettings",()=>{y(),PI(this.sessions[o],f)})}),f[zO]=f.request,f.request=(b,I)=>{if(f[bl])throw new Error("The session is gracefully closing. No new streams are allowed.");let B=f[zO](b,I);return f.ref(),++f[Mr],f[Mr]===f.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,B.once("close",()=>{if(m=g(),--f[Mr],!f.destroyed&&!f.closed&&(Yee(this.sessions[o],f),g()&&!f.closed)){m||(this._freeSessionsCount++,m=!0);let W=f[Mr]===0;W&&f.unref(),W&&(this._freeSessionsCount>this.maxFreeSessions||f[bl])?f.close():(PI(this.sessions[o],f),y())}}),B}}catch(f){for(let g of i)g.reject(f);u()}};c.listeners=i,c.completed=!1,c.destroyed=!1,this.queue[o][a]=c,this._tryToCreateNewSession(o,a)})}request(e,r,i,n){return new Promise((s,o)=>{this.getSession(e,r,[{reject:o,resolve:a=>{try{s(a.request(i,n))}catch(u){o(u)}}}])})}createConnection(e,r){return Qn.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let i=e.port||443,n=e.hostname||e.host;return typeof r.servername>"u"&&(r.servername=n),Vee.connect(i,n,r)}closeFreeSessions(){for(let e of Object.values(this.sessions))for(let r of e)r[Mr]===0&&r.close()}destroy(e){for(let r of Object.values(this.sessions))for(let i of r)i.destroy(e);for(let r of Object.values(this.queue))for(let i of Object.values(r))i.destroyed=!0;this.queue={}}get freeSessions(){return XO({agent:this,isFree:!0})}get busySessions(){return XO({agent:this,isFree:!1})}};Qn.kCurrentStreamsCount=Mr;Qn.kGracefullyClosing=bl;YO.exports={Agent:Qn,globalAgent:new Qn}});var DI=v((PSe,QO)=>{"use strict";var{Readable:Qee}=w("stream"),CI=class extends Qee{constructor(e,r){super({highWaterMark:r,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};QO.exports=CI});var TI=v((LSe,ZO)=>{"use strict";ZO.exports=t=>{let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return typeof t.port=="string"&&t.port.length!==0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var tN=v((CSe,eN)=>{"use strict";eN.exports=(t,e,r)=>{for(let i of r)t.on(i,(...n)=>e.emit(i,...n))}});var iN=v((DSe,rN)=>{"use strict";rN.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var sN=v(($Se,nN)=>{"use strict";var vl=(t,e,r)=>{nN.exports[e]=class extends t{constructor(...n){super(typeof r=="string"?r:r(n)),this.name=`${super.name} [${e}]`,this.code=e}}};vl(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],i=Array.isArray(r);return i&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${i?"one of":"of"} type ${r}. Received ${typeof t[2]}`});vl(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);vl(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);vl(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);vl(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);vl(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`)});var OI=v((MSe,fN)=>{"use strict";var Zee=w("http2"),{Writable:ete}=w("stream"),{Agent:oN,globalAgent:tte}=LI(),rte=DI(),ite=TI(),nte=tN(),ste=iN(),{ERR_INVALID_ARG_TYPE:$I,ERR_INVALID_PROTOCOL:ote,ERR_HTTP_HEADERS_SENT:aN,ERR_INVALID_HTTP_TOKEN:ate,ERR_HTTP_INVALID_HEADER_VALUE:ute,ERR_INVALID_CHAR:cte}=sN(),{HTTP2_HEADER_STATUS:uN,HTTP2_HEADER_METHOD:cN,HTTP2_HEADER_PATH:lN,HTTP2_METHOD_CONNECT:lte}=Zee.constants,br=Symbol("headers"),MI=Symbol("origin"),kI=Symbol("session"),pN=Symbol("options"),GH=Symbol("flushedHeaders"),nd=Symbol("jobs"),pte=/^[\^`\-\w!#$%&*+.|~]+$/,fte=/[^\t\u0020-\u007E\u0080-\u00FF]/,RI=class extends ete{constructor(e,r,i){super({autoDestroy:!1});let n=typeof e=="string"||e instanceof URL;if(n&&(e=ite(e instanceof URL?e:new URL(e))),typeof r=="function"||r===void 0?(i=r,r=n?e:{...e}):r={...e,...r},r.h2session)this[kI]=r.h2session;else if(r.agent===!1)this.agent=new oN({maxFreeSessions:0});else if(typeof r.agent>"u"||r.agent===null)typeof r.createConnection=="function"?(this.agent=new oN({maxFreeSessions:0}),this.agent.createConnection=r.createConnection):this.agent=tte;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new $I("options.agent",["Agent-like Object","undefined","false"],r.agent);if(r.protocol&&r.protocol!=="https:")throw new ote(r.protocol,"https:");let s=r.port||r.defaultPort||this.agent&&this.agent.defaultPort||443,o=r.hostname||r.host||"localhost";delete r.hostname,delete r.host,delete r.port;let{timeout:a}=r;if(r.timeout=void 0,this[br]=Object.create(null),this[nd]=[],this.socket=null,this.connection=null,this.method=r.method||"GET",this.path=r.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,r.headers)for(let[u,c]of Object.entries(r.headers))this.setHeader(u,c);r.auth&&!("authorization"in this[br])&&(this[br].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[pN]=r,s===443?(this[MI]=`https://${o}`,":authority"in this[br]||(this[br][":authority"]=o)):(this[MI]=`https://${o}:${s}`,":authority"in this[br]||(this[br][":authority"]=`${o}:${s}`)),a&&this.setTimeout(a),i&&this.once("response",i),this[GH]=!1}get method(){return this[br][cN]}set method(e){e&&(this[br][cN]=e.toUpperCase())}get path(){return this[br][lN]}set path(e){e&&(this[br][lN]=e)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,i){if(this._mustNotHaveABody){i(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let n=()=>this._request.write(e,r,i);this._request?n():this[nd].push(n)}_final(e){if(this.destroyed)return;this.flushHeaders();let r=()=>{if(this._mustNotHaveABody){e();return}this._request.end(e)};this._request?r():this[nd].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(e,r){this.res&&this.res._dump(),this._request&&this._request.destroy(),r(e)}async flushHeaders(){if(this[GH]||this.destroyed)return;this[GH]=!0;let e=this.method===lte,r=i=>{if(this._request=i,this.destroyed){i.destroy();return}e||nte(i,this,["timeout","continue","close","error"]);let n=o=>(...a)=>{!this.writable&&!this.destroyed?o(...a):this.once("finish",()=>{o(...a)})};i.once("response",n((o,a,u)=>{let c=new rte(this.socket,i.readableHighWaterMark);this.res=c,c.req=this,c.statusCode=o[uN],c.headers=o,c.rawHeaders=u,c.once("end",()=>{this.aborted?(c.aborted=!0,c.emit("aborted")):(c.complete=!0,c.socket=null,c.connection=null)}),e?(c.upgrade=!0,this.emit("connect",c,i,Buffer.alloc(0))?this.emit("close"):i.destroy()):(i.on("data",l=>{!c._dumped&&!c.push(l)&&i.pause()}),i.once("end",()=>{c.push(null)}),this.emit("response",c)||c._dump())})),i.once("headers",n(o=>this.emit("information",{statusCode:o[uN]}))),i.once("trailers",n((o,a,u)=>{let{res:c}=this;c.trailers=o,c.rawTrailers=u}));let{socket:s}=i.session;this.socket=s,this.connection=s;for(let o of this[nd])o();this.emit("socket",this.socket)};if(this[kI])try{r(this[kI].request(this[br]))}catch(i){this.emit("error",i)}else{this.reusedSocket=!0;try{r(await this.agent.request(this[MI],this[pN],this[br]))}catch(i){this.emit("error",i)}}}getHeader(e){if(typeof e!="string")throw new $I("name","string",e);return this[br][e.toLowerCase()]}get headersSent(){return this[GH]}removeHeader(e){if(typeof e!="string")throw new $I("name","string",e);if(this.headersSent)throw new aN("remove");delete this[br][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new aN("set");if(typeof e!="string"||!pte.test(e)&&!ste(e))throw new ate("Header name",e);if(typeof r>"u")throw new ute(r,e);if(fte.test(r))throw new cte("header content",e);this[br][e.toLowerCase()]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let i=()=>this._request.setTimeout(e,r);return this._request?i():this[nd].push(i),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};fN.exports=RI});var hN=v((kSe,dN)=>{"use strict";var dte=w("tls");dN.exports=(t={},e=dte.connect)=>new Promise((r,i)=>{let n=!1,s,o=async()=>{await u,s.off("timeout",a),s.off("error",i),t.resolveSocket?(r({alpnProtocol:s.alpnProtocol,socket:s,timeout:n}),n&&(await Promise.resolve(),s.emit("timeout"))):(s.destroy(),r({alpnProtocol:s.alpnProtocol,timeout:n}))},a=async()=>{n=!0,o()},u=(async()=>{try{s=await e(t,o),s.on("error",i),s.once("timeout",a)}catch(c){i(c)}})()})});var gN=v((RSe,mN)=>{"use strict";var hte=w("net");mN.exports=t=>{let e=t.host,r=t.headers&&t.headers.host;return r&&(r.startsWith("[")?r.indexOf("]")===-1?e=r:e=r.slice(1,-1):e=r.split(":",1)[0]),hte.isIP(e)?"":e}});var bN=v((OSe,BI)=>{"use strict";var HN=w("http"),NI=w("https"),mte=hN(),gte=xI(),Hte=OI(),yte=gN(),bte=TI(),KH=new gte({maxSize:100}),sd=new Map,yN=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let i=()=>{t.emit("free",e,r)};e.on("free",i);let n=()=>{t.removeSocket(e,r)};e.on("close",n);let s=()=>{t.removeSocket(e,r),e.off("close",n),e.off("free",i),e.off("agentRemove",s)};e.on("agentRemove",s),t.emit("free",e,r)},vte=async t=>{let e=`${t.host}:${t.port}:${t.ALPNProtocols.sort()}`;if(!KH.has(e)){if(sd.has(e))return(await sd.get(e)).alpnProtocol;let{path:r,agent:i}=t;t.path=t.socketPath;let n=mte(t);sd.set(e,n);try{let{socket:s,alpnProtocol:o}=await n;if(KH.set(e,o),t.path=r,o==="h2")s.destroy();else{let{globalAgent:a}=NI,u=NI.Agent.prototype.createConnection;i?i.createConnection===u?yN(i,s,t):s.destroy():a.createConnection===u?yN(a,s,t):s.destroy()}return sd.delete(e),o}catch(s){throw sd.delete(e),s}}return KH.get(e)};BI.exports=async(t,e,r)=>{if((typeof t=="string"||t instanceof URL)&&(t=bte(new URL(t))),typeof e=="function"&&(r=e,e=void 0),e={ALPNProtocols:["h2","http/1.1"],...t,...e,resolveSocket:!0},!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let i=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||yte(e),e.port=e.port||(i?443:80),e._defaultAgent=i?NI.globalAgent:HN.globalAgent;let n=e.agent;if(n){if(n.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");e.agent=n[i?"https":"http"]}return i&&await vte(e)==="h2"?(n&&(e.agent=n.http2),new Hte(e,r)):HN.request(e,r)};BI.exports.protocolCache=KH});var _N=v((NSe,vN)=>{"use strict";var _te=w("http2"),wte=LI(),FI=OI(),Ite=DI(),Ate=bN(),Ste=(t,e,r)=>new FI(t,e,r),Ete=(t,e,r)=>{let i=new FI(t,e,r);return i.end(),i};vN.exports={..._te,ClientRequest:FI,IncomingMessage:Ite,...wte,request:Ste,get:Ete,auto:Ate}});var jI=v(UI=>{"use strict";Object.defineProperty(UI,"__esModule",{value:!0});var wN=Ds();UI.default=t=>wN.default.nodeStream(t)&&wN.default.function_(t.getBoundary)});var EN=v(WI=>{"use strict";Object.defineProperty(WI,"__esModule",{value:!0});var AN=w("fs"),SN=w("util"),IN=Ds(),xte=jI(),Pte=SN.promisify(AN.stat);WI.default=async(t,e)=>{if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(IN.default.string(t))return Buffer.byteLength(t);if(IN.default.buffer(t))return t.length;if(xte.default(t))return SN.promisify(t.getLength.bind(t))();if(t instanceof AN.ReadStream){let{size:r}=await Pte(t.path);return r===0?void 0:r}}});var VI=v(qI=>{"use strict";Object.defineProperty(qI,"__esModule",{value:!0});function Lte(t,e,r){let i={};for(let n of r)i[n]=(...s)=>{e.emit(n,...s)},t.on(n,i[n]);return()=>{for(let n of r)t.off(n,i[n])}}qI.default=Lte});var xN=v(GI=>{"use strict";Object.defineProperty(GI,"__esModule",{value:!0});GI.default=()=>{let t=[];return{once(e,r,i){e.once(r,i),t.push({origin:e,event:r,fn:i})},unhandleAll(){for(let e of t){let{origin:r,event:i,fn:n}=e;r.removeListener(i,n)}t.length=0}}}});var LN=v(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.TimeoutError=void 0;var Cte=w("net"),Dte=xN(),PN=Symbol("reentry"),Tte=()=>{},zH=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),this.event=r,this.name="TimeoutError",this.code="ETIMEDOUT"}};od.TimeoutError=zH;od.default=(t,e,r)=>{if(PN in t)return Tte;t[PN]=!0;let i=[],{once:n,unhandleAll:s}=Dte.default(),o=(p,f,g)=>{var m;let y=setTimeout(f,p,p,g);(m=y.unref)===null||m===void 0||m.call(y);let b=()=>{clearTimeout(y)};return i.push(b),b},{host:a,hostname:u}=r,c=(p,f)=>{t.destroy(new zH(p,f))},l=()=>{for(let p of i)p();s()};if(t.once("error",p=>{if(l(),t.listenerCount("error")===0)throw p}),t.once("close",l),n(t,"response",p=>{n(p,"end",l)}),typeof e.request<"u"&&o(e.request,c,"request"),typeof e.socket<"u"){let p=()=>{c(e.socket,"socket")};t.setTimeout(e.socket,p),i.push(()=>{t.removeListener("timeout",p)})}return n(t,"socket",p=>{var f;let{socketPath:g}=t;if(p.connecting){let m=Boolean(g??Cte.isIP((f=u??a)!==null&&f!==void 0?f:"")!==0);if(typeof e.lookup<"u"&&!m&&typeof p.address().address>"u"){let y=o(e.lookup,c,"lookup");n(p,"lookup",y)}if(typeof e.connect<"u"){let y=()=>o(e.connect,c,"connect");m?n(p,"connect",y()):n(p,"lookup",b=>{b===null&&n(p,"connect",y())})}typeof e.secureConnect<"u"&&r.protocol==="https:"&&n(p,"connect",()=>{let y=o(e.secureConnect,c,"secureConnect");n(p,"secureConnect",y)})}if(typeof e.send<"u"){let m=()=>o(e.send,c,"send");p.connecting?n(p,"connect",()=>{n(t,"upload-complete",m())}):n(t,"upload-complete",m())}}),typeof e.response<"u"&&n(t,"upload-complete",()=>{let p=o(e.response,c,"response");n(t,"response",p)}),l}});var DN=v(KI=>{"use strict";Object.defineProperty(KI,"__esModule",{value:!0});var CN=Ds();KI.default=t=>{t=t;let e={protocol:t.protocol,hostname:CN.default.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return CN.default.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var TN=v(zI=>{"use strict";Object.defineProperty(zI,"__esModule",{value:!0});var $te=w("url"),Mte=["protocol","host","hostname","port","pathname","search"];zI.default=(t,e)=>{var r,i;if(e.path){if(e.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(e.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(e.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(e.search&&e.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!t){if(!e.protocol)throw new TypeError("No URL protocol specified");t=`${e.protocol}//${(i=(r=e.hostname)!==null&&r!==void 0?r:e.host)!==null&&i!==void 0?i:""}`}let n=new $te.URL(t);if(e.path){let s=e.path.indexOf("?");s===-1?e.pathname=e.path:(e.pathname=e.path.slice(0,s),e.search=e.path.slice(s+1)),delete e.path}for(let s of Mte)e[s]&&(n[s]=e[s].toString());return n}});var $N=v(JI=>{"use strict";Object.defineProperty(JI,"__esModule",{value:!0});var XI=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};JI.default=XI});var QI=v(YI=>{"use strict";Object.defineProperty(YI,"__esModule",{value:!0});var kte=async t=>{let e=[],r=0;for await(let i of t)e.push(i),r+=Buffer.byteLength(i);return Buffer.isBuffer(e[0])?Buffer.concat(e,r):Buffer.from(e.join(""))};YI.default=kte});var kN=v(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.dnsLookupIpVersionToFamily=pu.isDnsLookupIpVersion=void 0;var MN={auto:0,ipv4:4,ipv6:6};pu.isDnsLookupIpVersion=t=>t in MN;pu.dnsLookupIpVersionToFamily=t=>{if(pu.isDnsLookupIpVersion(t))return MN[t];throw new Error("Invalid DNS lookup IP version")}});var ZI=v(XH=>{"use strict";Object.defineProperty(XH,"__esModule",{value:!0});XH.isResponseOk=void 0;XH.isResponseOk=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304}});var ON=v(eA=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0});var RN=new Set;eA.default=t=>{RN.has(t)||(RN.add(t),process.emitWarning(`Got: ${t}`,{type:"DeprecationWarning"}))}});var NN=v(tA=>{"use strict";Object.defineProperty(tA,"__esModule",{value:!0});var st=Ds(),Rte=(t,e)=>{if(st.default.null_(t.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");st.assert.any([st.default.string,st.default.undefined],t.encoding),st.assert.any([st.default.boolean,st.default.undefined],t.resolveBodyOnly),st.assert.any([st.default.boolean,st.default.undefined],t.methodRewriting),st.assert.any([st.default.boolean,st.default.undefined],t.isStream),st.assert.any([st.default.string,st.default.undefined],t.responseType),t.responseType===void 0&&(t.responseType="text");let{retry:r}=t;if(e?t.retry={...e.retry}:t.retry={calculateDelay:i=>i.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},st.default.object(r)?(t.retry={...t.retry,...r},t.retry.methods=[...new Set(t.retry.methods.map(i=>i.toUpperCase()))],t.retry.statusCodes=[...new Set(t.retry.statusCodes)],t.retry.errorCodes=[...new Set(t.retry.errorCodes)]):st.default.number(r)&&(t.retry.limit=r),st.default.undefined(t.retry.maxRetryAfter)&&(t.retry.maxRetryAfter=Math.min(...[t.timeout.request,t.timeout.connect].filter(st.default.number))),st.default.object(t.pagination)){e&&(t.pagination={...e.pagination,...t.pagination});let{pagination:i}=t;if(!st.default.function_(i.transform))throw new Error("`options.pagination.transform` must be implemented");if(!st.default.function_(i.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!st.default.function_(i.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!st.default.function_(i.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return t.responseType==="json"&&t.headers.accept===void 0&&(t.headers.accept="application/json"),t};tA.default=Rte});var BN=v(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.retryAfterStatusCodes=void 0;ad.retryAfterStatusCodes=new Set([413,429,503]);var Ote=({attemptCount:t,retryOptions:e,error:r,retryAfter:i})=>{if(t>e.limit)return 0;let n=e.methods.includes(r.options.method),s=e.errorCodes.includes(r.code),o=r.response&&e.statusCodes.includes(r.response.statusCode);if(!n||!s&&!o)return 0;if(r.response){if(i)return e.maxRetryAfter===void 0||i>e.maxRetryAfter?0:i;if(r.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(t-1)*1e3+a};ad.default=Ote});var ld=v(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.UnsupportedProtocolError=Fe.ReadError=Fe.TimeoutError=Fe.UploadError=Fe.CacheError=Fe.HTTPError=Fe.MaxRedirectsError=Fe.RequestError=Fe.setNonEnumerableProperties=Fe.knownHookEvents=Fe.withoutBody=Fe.kIsNormalizedAlready=void 0;var FN=w("util"),UN=w("stream"),Nte=w("fs"),Fo=w("url"),jN=w("http"),rA=w("http"),Bte=w("https"),Fte=iO(),Ute=lO(),WN=jO(),jte=GO(),Wte=_N(),qte=qH(),K=Ds(),Vte=EN(),qN=jI(),Gte=VI(),VN=LN(),Kte=DN(),GN=TN(),zte=$N(),Xte=QI(),KN=kN(),Jte=ZI(),Uo=ON(),Yte=NN(),Qte=BN(),iA,or=Symbol("request"),QH=Symbol("response"),_l=Symbol("responseSize"),wl=Symbol("downloadedSize"),Il=Symbol("bodySize"),Al=Symbol("uploadedSize"),JH=Symbol("serverResponsesPiped"),zN=Symbol("unproxyEvents"),XN=Symbol("isFromCache"),nA=Symbol("cancelTimeouts"),JN=Symbol("startedReading"),Sl=Symbol("stopReading"),YH=Symbol("triggerRead"),jo=Symbol("body"),ud=Symbol("jobs"),YN=Symbol("originalResponse"),QN=Symbol("retryTimeout");Fe.kIsNormalizedAlready=Symbol("isNormalizedAlready");var Zte=K.default.string(process.versions.brotli);Fe.withoutBody=new Set(["GET","HEAD"]);Fe.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function ere(t){for(let e in t){let r=t[e];if(!K.default.string(r)&&!K.default.number(r)&&!K.default.boolean(r)&&!K.default.null_(r)&&!K.default.undefined(r))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}function tre(t){return K.default.object(t)&&!("statusCode"in t)}var sA=new zte.default,rre=async t=>new Promise((e,r)=>{let i=n=>{r(n)};t.pending||e(),t.once("error",i),t.once("ready",()=>{t.off("error",i),e()})}),ire=new Set([300,301,302,303,304,307,308]),nre=["context","body","json","form"];Fe.setNonEnumerableProperties=(t,e)=>{let r={};for(let i of t)if(i)for(let n of nre)n in i&&(r[n]={writable:!0,configurable:!0,enumerable:!1,value:i[n]});Object.defineProperties(e,r)};var Et=class extends Error{constructor(e,r,i){var n,s;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(n=r.code)!==null&&n!==void 0?n:"ERR_GOT_REQUEST_ERROR",i instanceof sy?(Object.defineProperty(this,"request",{enumerable:!1,value:i}),Object.defineProperty(this,"response",{enumerable:!1,value:i[QH]}),Object.defineProperty(this,"options",{enumerable:!1,value:i.options})):Object.defineProperty(this,"options",{enumerable:!1,value:i}),this.timings=(s=this.request)===null||s===void 0?void 0:s.timings,K.default.string(r.stack)&&K.default.string(this.stack)){let o=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(o).split(`
`).reverse(),u=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;u.length!==0&&u[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,o)}${a.reverse().join(`
`)}${u.reverse().join(`
`)}`}}};Fe.RequestError=Et;var ZH=class extends Et{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};Fe.MaxRedirectsError=ZH;var ey=class extends Et{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};Fe.HTTPError=ey;var ty=class extends Et{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};Fe.CacheError=ty;var ry=class extends Et{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};Fe.UploadError=ry;var iy=class extends Et{constructor(e,r,i){super(e.message,e,i),this.name="TimeoutError",this.event=e.event,this.timings=r}};Fe.TimeoutError=iy;var cd=class extends Et{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};Fe.ReadError=cd;var ny=class extends Et{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};Fe.UnsupportedProtocolError=ny;var sre=["socket","connect","continue","information","upgrade","timeout"],sy=class extends UN.Duplex{constructor(e,r={},i){super({autoDestroy:!1,highWaterMark:0}),this[wl]=0,this[Al]=0,this.requestInitialized=!1,this[JH]=new Set,this.redirects=[],this[Sl]=!1,this[YH]=!1,this[ud]=[],this.retryCount=0,this._progressCallbacks=[];let n=()=>this._unlockWrite(),s=()=>this._lockWrite();this.on("pipe",c=>{c.prependListener("data",n),c.on("data",s),c.prependListener("end",n),c.on("end",s)}),this.on("unpipe",c=>{c.off("data",n),c.off("data",s),c.off("end",n),c.off("end",s)}),this.on("pipe",c=>{c instanceof rA.IncomingMessage&&(this.options.headers={...c.headers,...this.options.headers})});let{json:o,body:a,form:u}=r;if((o||a||u)&&this._lockWrite(),Fe.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(e,r,i)}catch(c){K.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(c);return}(async()=>{var c;try{this.options.body instanceof Nte.ReadStream&&await rre(this.options.body);let{url:l}=this.options;if(!l)throw new TypeError("Missing `url` property");if(this.requestUrl=l.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(c=this[or])===null||c===void 0||c.destroy();return}for(let p of this[ud])p();this[ud].length=0,this.requestInitialized=!0}catch(l){if(l instanceof Et){this._beforeError(l);return}this.destroyed||this.destroy(l)}})()}static normalizeArguments(e,r,i){var n,s,o,a,u;let c=r;if(K.default.object(e)&&!K.default.urlInstance(e))r={...i,...e,...r};else{if(e&&r&&r.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...i,...r},e!==void 0&&(r.url=e),K.default.urlInstance(r.url)&&(r.url=new Fo.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),K.assert.any([K.default.string,K.default.undefined],r.method),K.assert.any([K.default.object,K.default.undefined],r.headers),K.assert.any([K.default.string,K.default.urlInstance,K.default.undefined],r.prefixUrl),K.assert.any([K.default.object,K.default.undefined],r.cookieJar),K.assert.any([K.default.object,K.default.string,K.default.undefined],r.searchParams),K.assert.any([K.default.object,K.default.string,K.default.undefined],r.cache),K.assert.any([K.default.object,K.default.number,K.default.undefined],r.timeout),K.assert.any([K.default.object,K.default.undefined],r.context),K.assert.any([K.default.object,K.default.undefined],r.hooks),K.assert.any([K.default.boolean,K.default.undefined],r.decompress),K.assert.any([K.default.boolean,K.default.undefined],r.ignoreInvalidCookies),K.assert.any([K.default.boolean,K.default.undefined],r.followRedirect),K.assert.any([K.default.number,K.default.undefined],r.maxRedirects),K.assert.any([K.default.boolean,K.default.undefined],r.throwHttpErrors),K.assert.any([K.default.boolean,K.default.undefined],r.http2),K.assert.any([K.default.boolean,K.default.undefined],r.allowGetBody),K.assert.any([K.default.string,K.default.undefined],r.localAddress),K.assert.any([KN.isDnsLookupIpVersion,K.default.undefined],r.dnsLookupIpVersion),K.assert.any([K.default.object,K.default.undefined],r.https),K.assert.any([K.default.boolean,K.default.undefined],r.rejectUnauthorized),r.https&&(K.assert.any([K.default.boolean,K.default.undefined],r.https.rejectUnauthorized),K.assert.any([K.default.function_,K.default.undefined],r.https.checkServerIdentity),K.assert.any([K.default.string,K.default.object,K.default.array,K.default.undefined],r.https.certificateAuthority),K.assert.any([K.default.string,K.default.object,K.default.array,K.default.undefined],r.https.key),K.assert.any([K.default.string,K.default.object,K.default.array,K.default.undefined],r.https.certificate),K.assert.any([K.default.string,K.default.undefined],r.https.passphrase),K.assert.any([K.default.string,K.default.buffer,K.default.array,K.default.undefined],r.https.pfx)),K.assert.any([K.default.object,K.default.undefined],r.cacheOptions),K.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===(i==null?void 0:i.headers)?r.headers={...r.headers}:r.headers=qte({...i==null?void 0:i.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==(i==null?void 0:i.searchParams)){let g;if(K.default.string(r.searchParams)||r.searchParams instanceof Fo.URLSearchParams)g=new Fo.URLSearchParams(r.searchParams);else{ere(r.searchParams),g=new Fo.URLSearchParams;for(let m in r.searchParams){let y=r.searchParams[m];y===null?g.append(m,""):y!==void 0&&g.append(m,y)}}(n=i==null?void 0:i.searchParams)===null||n===void 0||n.forEach((m,y)=>{g.has(y)||g.append(y,m)}),r.searchParams=g}if(r.username=(s=r.username)!==null&&s!==void 0?s:"",r.password=(o=r.password)!==null&&o!==void 0?o:"",K.default.undefined(r.prefixUrl)?r.prefixUrl=(a=i==null?void 0:i.prefixUrl)!==null&&a!==void 0?a:"":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==""&&!r.prefixUrl.endsWith("/")&&(r.prefixUrl+="/")),K.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=GN.default(r.prefixUrl+r.url,r)}else(K.default.undefined(r.url)&&r.prefixUrl!==""||r.protocol)&&(r.url=GN.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:g}=r;Object.defineProperty(r,"prefixUrl",{set:y=>{let b=r.url;if(!b.href.startsWith(y))throw new Error(`Cannot change \`prefixUrl\` from ${g} to ${y}: ${b.href}`);r.url=new Fo.URL(y+b.href.slice(g.length)),g=y},get:()=>g});let{protocol:m}=r.url;if(m==="unix:"&&(m="http:",r.url=new Fo.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),m!=="http:"&&m!=="https:")throw new ny(r);r.username===""?r.username=r.url.username:r.url.username=r.username,r.password===""?r.password=r.url.password:r.url.password=r.password}let{cookieJar:l}=r;if(l){let{setCookie:g,getCookieString:m}=l;K.assert.function_(g),K.assert.function_(m),g.length===4&&m.length===0&&(g=FN.promisify(g.bind(r.cookieJar)),m=FN.promisify(m.bind(r.cookieJar)),r.cookieJar={setCookie:g,getCookieString:m})}let{cache:p}=r;if(p&&(sA.has(p)||sA.set(p,new WN((g,m)=>{let y=g[or](g,m);return K.default.promise(y)&&(y.once=(b,I)=>{if(b==="error")y.catch(I);else if(b==="abort")(async()=>{try{(await y).once("abort",I)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${b}`);return y}),y},p))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)iA||(iA=new Ute.default),r.dnsCache=iA;else if(!K.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${K.default(r.dnsCache)}`);K.default.number(r.timeout)?r.timeout={request:r.timeout}:i&&r.timeout!==i.timeout?r.timeout={...i.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let f=r.hooks===(i==null?void 0:i.hooks);r.hooks={...r.hooks};for(let g of Fe.knownHookEvents)if(g in r.hooks)if(K.default.array(r.hooks[g]))r.hooks[g]=[...r.hooks[g]];else throw new TypeError(`Parameter \`${g}\` must be an Array, got ${K.default(r.hooks[g])}`);else r.hooks[g]=[];if(i&&!f)for(let g of Fe.knownHookEvents)i.hooks[g].length>0&&(r.hooks[g]=[...i.hooks[g],...r.hooks[g]]);if("family"in r&&Uo.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),i!=null&&i.https&&(r.https={...i.https,...r.https}),"rejectUnauthorized"in r&&Uo.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&Uo.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&Uo.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&Uo.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&Uo.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&Uo.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&Uo.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let g in r.agent)if(g!=="http"&&g!=="https"&&g!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${g}\``)}return r.maxRedirects=(u=r.maxRedirects)!==null&&u!==void 0?u:0,Fe.setNonEnumerableProperties([i,c],r),Yte.default(r,i)}_lockWrite(){let e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:r}=e,i=!K.default.undefined(e.form),n=!K.default.undefined(e.json),s=!K.default.undefined(e.body),o=i||n||s,a=Fe.withoutBody.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=a,o){if(a)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);if([s,i,n].filter(u=>u).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(s&&!(e.body instanceof UN.Readable)&&!K.default.string(e.body)&&!K.default.buffer(e.body)&&!qN.default(e.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(i&&!K.default.object(e.form))throw new TypeError("The `form` option must be an Object");{let u=!K.default.string(r["content-type"]);s?(qN.default(e.body)&&u&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[jo]=e.body):i?(u&&(r["content-type"]="application/x-www-form-urlencoded"),this[jo]=new Fo.URLSearchParams(e.form).toString()):(u&&(r["content-type"]="application/json"),this[jo]=e.stringifyJson(e.json));let c=await Vte.default(this[jo],e.headers);K.default.undefined(r["content-length"])&&K.default.undefined(r["transfer-encoding"])&&!a&&!K.default.undefined(c)&&(r["content-length"]=String(c))}}else a?this._lockWrite():this._unlockWrite();this[Il]=Number(r["content-length"])||void 0}async _onResponseBase(e){let{options:r}=this,{url:i}=r;this[YN]=e,r.decompress&&(e=jte(e));let n=e.statusCode,s=e;s.statusMessage=s.statusMessage?s.statusMessage:jN.STATUS_CODES[n],s.url=r.url.toString(),s.requestUrl=this.requestUrl,s.redirectUrls=this.redirects,s.request=this,s.isFromCache=e.fromCache||!1,s.ip=this.ip,s.retryCount=this.retryCount,this[XN]=s.isFromCache,this[_l]=Number(e.headers["content-length"])||void 0,this[QH]=e,e.once("end",()=>{this[_l]=this[wl],this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{e.destroy(),this._beforeError(new cd(a,this))}),e.once("aborted",()=>{this._beforeError(new cd({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=e.headers["set-cookie"];if(K.default.object(r.cookieJar)&&o){let a=o.map(async u=>r.cookieJar.setCookie(u,i.toString()));r.ignoreInvalidCookies&&(a=a.map(async u=>u.catch(()=>{})));try{await Promise.all(a)}catch(u){this._beforeError(u);return}}if(r.followRedirect&&e.headers.location&&ire.has(n)){if(e.resume(),this[or]&&(this[nA](),delete this[or],this[zN]()),(n===303&&r.method!=="GET"&&r.method!=="HEAD"||!r.methodRewriting)&&(r.method="GET","body"in r&&delete r.body,"json"in r&&delete r.json,"form"in r&&delete r.form,this[jo]=void 0,delete r.headers["content-length"]),this.redirects.length>=r.maxRedirects){this._beforeError(new ZH(this));return}try{let p=function(f){return f.protocol==="unix:"||f.hostname==="unix"},u=Buffer.from(e.headers.location,"binary").toString(),c=new Fo.URL(u,i),l=c.toString();if(decodeURI(l),!p(i)&&p(c)){this._beforeError(new Et("Cannot redirect to UNIX socket",{},this));return}c.hostname!==i.hostname||c.port!==i.port?("host"in r.headers&&delete r.headers.host,"cookie"in r.headers&&delete r.headers.cookie,"authorization"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username="",r.password="")):(c.username=r.username,c.password=r.password),this.redirects.push(l),r.url=c;for(let f of r.hooks.beforeRedirect)await f(r,s);this.emit("redirect",s,r),await this._makeRequest()}catch(u){this._beforeError(u);return}return}if(r.isStream&&r.throwHttpErrors&&!Jte.isResponseOk(s)){this._beforeError(new ey(s));return}e.on("readable",()=>{this[YH]&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this.emit("response",e);for(let a of this[JH])if(!a.headersSent){for(let u in e.headers){let c=r.decompress?u!=="content-encoding":!0,l=e.headers[u];c&&a.setHeader(u,l)}a.statusCode=n}}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:i,url:n}=r;Fte.default(e),this[nA]=VN.default(e,i,n);let s=r.cache?"cacheableResponse":"response";e.once(s,u=>{this._onResponse(u)}),e.once("error",u=>{var c;e.destroy(),(c=e.res)===null||c===void 0||c.removeAllListeners("end"),u=u instanceof VN.TimeoutError?new iy(u,this.timings,this):new Et(u.message,u,this),this._beforeError(u)}),this[zN]=Gte.default(e,this,sre),this[or]=e,this.emit("uploadProgress",this.uploadProgress);let o=this[jo],a=this.redirects.length===0?this:e;K.default.nodeStream(o)?(o.pipe(a),o.once("error",u=>{this._beforeError(new ry(u,this))})):(this._unlockWrite(),K.default.undefined(o)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(o,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,r){return new Promise((i,n)=>{Object.assign(r,Kte.default(e)),delete r.url;let s,o=sA.get(r.cache)(r,async a=>{a._readableState.autoDestroy=!1,s&&(await s).emit("cacheableResponse",a),i(a)});r.url=e,o.once("error",n),o.once("request",async a=>{s=a,i(s)})})}async _makeRequest(){var e,r,i,n,s;let{options:o}=this,{headers:a}=o;for(let I in a)if(K.default.undefined(a[I]))delete a[I];else if(K.default.null_(a[I]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${I}\` header`);if(o.decompress&&K.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=Zte?"gzip, deflate, br":"gzip, deflate"),o.cookieJar){let I=await o.cookieJar.getCookieString(o.url.toString());K.default.nonEmptyString(I)&&(o.headers.cookie=I)}for(let I of o.hooks.beforeRequest){let B=await I(o);if(!K.default.undefined(B)){o.request=()=>B;break}}o.body&&this[jo]!==o.body&&(this[jo]=o.body);let{agent:u,request:c,timeout:l,url:p}=o;if(o.dnsCache&&!("lookup"in o)&&(o.lookup=o.dnsCache.lookup),p.hostname==="unix"){let I=/(?<socketPath>.+?):(?<path>.+)/.exec(`${p.pathname}${p.search}`);if(I!=null&&I.groups){let{socketPath:B,path:W}=I.groups;Object.assign(o,{socketPath:B,path:W,host:""})}}let f=p.protocol==="https:",g;o.http2?g=Wte.auto:g=f?Bte.request:jN.request;let m=(e=o.request)!==null&&e!==void 0?e:g,y=o.cache?this._createCacheableRequest:m;u&&!o.http2&&(o.agent=u[f?"https":"http"]),o[or]=m,delete o.request,delete o.timeout;let b=o;if(b.shared=(r=o.cacheOptions)===null||r===void 0?void 0:r.shared,b.cacheHeuristic=(i=o.cacheOptions)===null||i===void 0?void 0:i.cacheHeuristic,b.immutableMinTimeToLive=(n=o.cacheOptions)===null||n===void 0?void 0:n.immutableMinTimeToLive,b.ignoreCargoCult=(s=o.cacheOptions)===null||s===void 0?void 0:s.ignoreCargoCult,o.dnsLookupIpVersion!==void 0)try{b.family=KN.dnsLookupIpVersionToFamily(o.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}o.https&&("rejectUnauthorized"in o.https&&(b.rejectUnauthorized=o.https.rejectUnauthorized),o.https.checkServerIdentity&&(b.checkServerIdentity=o.https.checkServerIdentity),o.https.certificateAuthority&&(b.ca=o.https.certificateAuthority),o.https.certificate&&(b.cert=o.https.certificate),o.https.key&&(b.key=o.https.key),o.https.passphrase&&(b.passphrase=o.https.passphrase),o.https.pfx&&(b.pfx=o.https.pfx));try{let I=await y(p,b);K.default.undefined(I)&&(I=g(p,b)),o.request=c,o.timeout=l,o.agent=u,o.https&&("rejectUnauthorized"in o.https&&delete b.rejectUnauthorized,o.https.checkServerIdentity&&delete b.checkServerIdentity,o.https.certificateAuthority&&delete b.ca,o.https.certificate&&delete b.cert,o.https.key&&delete b.key,o.https.passphrase&&delete b.passphrase,o.https.pfx&&delete b.pfx),tre(I)?this._onRequest(I):this.writable?(this.once("finish",()=>{this._onResponse(I)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(I)}catch(I){throw I instanceof WN.CacheError?new ty(I,this):new Et(I.message,I,this)}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new Et(r.message,r,this)}this.destroy(e)}_beforeError(e){if(this[Sl])return;let{options:r}=this,i=this.retryCount+1;this[Sl]=!0,e instanceof Et||(e=new Et(e.message,e,this));let n=e,{response:s}=n;(async()=>{if(s&&!s.body){s.setEncoding(this._readableState.encoding);try{s.rawBody=await Xte.default(s),s.body=s.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let o;try{let a;s&&"retry-after"in s.headers&&(a=Number(s.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(s.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),o=await r.retry.calculateDelay({attemptCount:i,retryOptions:r.retry,error:n,retryAfter:a,computedValue:Qte.default({attemptCount:i,retryOptions:r.retry,error:n,retryAfter:a,computedValue:0})})}catch(a){this._error(new Et(a.message,a,this));return}if(o){let a=async()=>{try{for(let u of this.options.hooks.beforeRetry)await u(this.options,n,i)}catch(u){this._error(new Et(u.message,e,this));return}this.destroyed||(this.destroy(),this.emit("retry",i,e))};this[QN]=setTimeout(a,o);return}}this._error(n)})()}_read(){this[YH]=!0;let e=this[QH];if(e&&!this[Sl]){e.readableLength&&(this[YH]=!1);let r;for(;(r=e.read())!==null;){this[wl]+=r.length,this[JN]=!0;let i=this.downloadProgress;i.percent<1&&this.emit("downloadProgress",i),this.push(r)}}}_write(e,r,i){let n=()=>{this._writeRequest(e,r,i)};this.requestInitialized?n():this[ud].push(n)}_writeRequest(e,r,i){this[or].destroyed||(this._progressCallbacks.push(()=>{this[Al]+=Buffer.byteLength(e,r);let n=this.uploadProgress;n.percent<1&&this.emit("uploadProgress",n)}),this[or].write(e,r,n=>{!n&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),i(n)}))}_final(e){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(or in this)){e();return}if(this[or].destroyed){e();return}this[or].end(i=>{i||(this[Il]=this[Al],this.emit("uploadProgress",this.uploadProgress),this[or].emit("upload-complete")),e(i)})};this.requestInitialized?r():this[ud].push(r)}_destroy(e,r){var i;this[Sl]=!0,clearTimeout(this[QN]),or in this&&(this[nA](),!((i=this[QH])===null||i===void 0)&&i.complete||this[or].destroy()),e!==null&&!K.default.undefined(e)&&!(e instanceof Et)&&(e=new Et(e.message,e,this)),r(e)}get _isAboutToError(){return this[Sl]}get ip(){var e;return(e=this.socket)===null||e===void 0?void 0:e.remoteAddress}get aborted(){var e,r,i;return((r=(e=this[or])===null||e===void 0?void 0:e.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((i=this[YN])===null||i===void 0)&&i.complete)}get socket(){var e,r;return(r=(e=this[or])===null||e===void 0?void 0:e.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let e;return this[_l]?e=this[wl]/this[_l]:this[_l]===this[wl]?e=1:e=0,{percent:e,transferred:this[wl],total:this[_l]}}get uploadProgress(){let e;return this[Il]?e=this[Al]/this[Il]:this[Il]===this[Al]?e=1:e=0,{percent:e,transferred:this[Al],total:this[Il]}}get timings(){var e;return(e=this[or])===null||e===void 0?void 0:e.timings}get isFromCache(){return this[XN]}pipe(e,r){if(this[JN])throw new Error("Failed to pipe. The response has been emitted already.");return e instanceof rA.ServerResponse&&this[JH].add(e),super.pipe(e,r)}unpipe(e){return e instanceof rA.ServerResponse&&this[JH].delete(e),super.unpipe(e),this}};Fe.default=sy});var pd=v(nn=>{"use strict";var ore=nn&&nn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),are=nn&&nn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ore(e,t,r)};Object.defineProperty(nn,"__esModule",{value:!0});nn.CancelError=nn.ParseError=void 0;var ZN=ld(),oA=class extends ZN.RequestError{constructor(e,r){let{options:i}=r.request;super(`${e.message} in "${i.url.toString()}"`,e,r.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};nn.ParseError=oA;var aA=class extends ZN.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};nn.CancelError=aA;are(ld(),nn)});var tB=v(uA=>{"use strict";Object.defineProperty(uA,"__esModule",{value:!0});var eB=pd(),ure=(t,e,r,i)=>{let{rawBody:n}=t;try{if(e==="text")return n.toString(i);if(e==="json")return n.length===0?"":r(n.toString());if(e==="buffer")return n;throw new eB.ParseError({message:`Unknown body type '${e}'`,name:"Error"},t)}catch(s){throw new eB.ParseError(s,t)}};uA.default=ure});var cA=v(Wo=>{"use strict";var cre=Wo&&Wo.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),lre=Wo&&Wo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cre(e,t,r)};Object.defineProperty(Wo,"__esModule",{value:!0});var pre=w("events"),fre=Ds(),dre=tO(),oy=pd(),rB=tB(),iB=ld(),hre=VI(),mre=QI(),nB=ZI(),gre=["request","response","redirect","uploadProgress","downloadProgress"];function sB(t){let e,r,i=new pre.EventEmitter,n=new dre((o,a,u)=>{let c=l=>{let p=new iB.default(void 0,t);p.retryCount=l,p._noPipe=!0,u(()=>p.destroy()),u.shouldReject=!1,u(()=>a(new oy.CancelError(p))),e=p,p.once("response",async m=>{var y;if(m.retryCount=l,m.request.aborted)return;let b;try{b=await mre.default(p),m.rawBody=b}catch{return}if(p._isAboutToError)return;let I=((y=m.headers["content-encoding"])!==null&&y!==void 0?y:"").toLowerCase(),B=["gzip","deflate","br"].includes(I),{options:W}=p;if(B&&!W.decompress)m.body=b;else try{m.body=rB.default(m,W.responseType,W.parseJson,W.encoding)}catch(P){if(m.body=b.toString(),nB.isResponseOk(m)){p._beforeError(P);return}}try{for(let[P,D]of W.hooks.afterResponse.entries())m=await D(m,async G=>{let q=iB.default.normalizeArguments(void 0,{...G,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},W);q.hooks.afterResponse=q.hooks.afterResponse.slice(0,P);for(let M of q.hooks.beforeRetry)await M(q);let N=sB(q);return u(()=>{N.catch(()=>{}),N.cancel()}),N})}catch(P){p._beforeError(new oy.RequestError(P.message,P,p));return}if(r=m,!nB.isResponseOk(m)){p._beforeError(new oy.HTTPError(m));return}p.destroy(),o(p.options.resolveBodyOnly?m.body:m)});let f=m=>{if(n.isCanceled)return;let{options:y}=p;if(m instanceof oy.HTTPError&&!y.throwHttpErrors){let{response:b}=m;o(p.options.resolveBodyOnly?b.body:b);return}a(m)};p.once("error",f);let g=p.options.body;p.once("retry",(m,y)=>{var b,I;if(g===((b=y.request)===null||b===void 0?void 0:b.options.body)&&fre.default.nodeStream((I=y.request)===null||I===void 0?void 0:I.options.body)){f(y);return}c(m)}),hre.default(p,i,gre)};c(0)});n.on=(o,a)=>(i.on(o,a),n);let s=o=>{let a=(async()=>{await n;let{options:u}=r.request;return rB.default(r,o,u.parseJson,u.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)),a};return n.json=()=>{let{headers:o}=e.options;return!e.writableFinished&&o.accept===void 0&&(o.accept="application/json"),s("json")},n.buffer=()=>s("buffer"),n.text=()=>s("text"),n}Wo.default=sB;lre(pd(),Wo)});var oB=v(lA=>{"use strict";Object.defineProperty(lA,"__esModule",{value:!0});var Hre=pd();function yre(t,...e){let r=(async()=>{if(t instanceof Hre.RequestError)try{for(let n of e)if(n)for(let s of n)t=await s(t)}catch(n){t=n}throw t})(),i=()=>r;return r.json=i,r.text=i,r.buffer=i,r.on=i,r}lA.default=yre});var cB=v(pA=>{"use strict";Object.defineProperty(pA,"__esModule",{value:!0});var aB=Ds();function uB(t){for(let e of Object.values(t))(aB.default.plainObject(e)||aB.default.array(e))&&uB(e);return Object.freeze(t)}pA.default=uB});var pB=v(lB=>{"use strict";Object.defineProperty(lB,"__esModule",{value:!0})});var fA=v(Ti=>{"use strict";var bre=Ti&&Ti.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),vre=Ti&&Ti.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bre(e,t,r)};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.defaultHandler=void 0;var fB=Ds(),Di=cA(),_re=oB(),uy=ld(),wre=cB(),Ire={RequestError:Di.RequestError,CacheError:Di.CacheError,ReadError:Di.ReadError,HTTPError:Di.HTTPError,MaxRedirectsError:Di.MaxRedirectsError,TimeoutError:Di.TimeoutError,ParseError:Di.ParseError,CancelError:Di.CancelError,UnsupportedProtocolError:Di.UnsupportedProtocolError,UploadError:Di.UploadError},Are=async t=>new Promise(e=>{setTimeout(e,t)}),{normalizeArguments:ay}=uy.default,dB=(...t)=>{let e;for(let r of t)e=ay(void 0,r,e);return e},Sre=t=>t.isStream?new uy.default(void 0,t):Di.default(t),Ere=t=>"defaults"in t&&"options"in t.defaults,xre=["get","post","put","patch","head","delete"];Ti.defaultHandler=(t,e)=>e(t);var hB=(t,e)=>{if(t)for(let r of t)r(e)},mB=t=>{t._rawHandlers=t.handlers,t.handlers=t.handlers.map(i=>(n,s)=>{let o,a=i(n,u=>(o=s(u),o));if(a!==o&&!n.isStream&&o){let u=a,{then:c,catch:l,finally:p}=u;Object.setPrototypeOf(u,Object.getPrototypeOf(o)),Object.defineProperties(u,Object.getOwnPropertyDescriptors(o)),u.then=c,u.catch=l,u.finally=p}return a});let e=(i,n={},s)=>{var o,a;let u=0,c=l=>t.handlers[u++](l,u===t.handlers.length?Sre:c);if(fB.default.plainObject(i)){let l={...i,...n};uy.setNonEnumerableProperties([i,n],l),n=l,i=void 0}try{let l;try{hB(t.options.hooks.init,n),hB((o=n.hooks)===null||o===void 0?void 0:o.init,n)}catch(f){l=f}let p=ay(i,n,s??t.options);if(p[uy.kIsNormalizedAlready]=!0,l)throw new Di.RequestError(l.message,l,p);return c(p)}catch(l){if(n.isStream)throw l;return _re.default(l,t.options.hooks.beforeError,(a=n.hooks)===null||a===void 0?void 0:a.beforeError)}};e.extend=(...i)=>{let n=[t.options],s=[...t._rawHandlers],o;for(let a of i)Ere(a)?(n.push(a.defaults.options),s.push(...a.defaults._rawHandlers),o=a.defaults.mutableDefaults):(n.push(a),"handlers"in a&&s.push(...a.handlers),o=a.mutableDefaults);return s=s.filter(a=>a!==Ti.defaultHandler),s.length===0&&s.push(Ti.defaultHandler),mB({options:dB(...n),handlers:s,mutableDefaults:Boolean(o)})};let r=async function*(i,n){let s=ay(i,n,t.options);s.resolveBodyOnly=!1;let o=s.pagination;if(!fB.default.object(o))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:u}=o,c=0;for(;c<o.requestLimit;){c!==0&&await Are(o.backoff);let l=await e(void 0,void 0,s),p=await o.transform(l),f=[];for(let m of p)if(o.filter(m,a,f)&&(!o.shouldContinue(m,a,f)||(yield m,o.stackAllItems&&a.push(m),f.push(m),--u<=0)))return;let g=o.paginate(l,a,f);if(g===!1)return;g===l.request.options?s=l.request.options:g!==void 0&&(s=ay(void 0,g,s)),c++}};e.paginate=r,e.paginate.all=async(i,n)=>{let s=[];for await(let o of r(i,n))s.push(o);return s},e.paginate.each=r,e.stream=(i,n)=>e(i,{...n,isStream:!0});for(let i of xre)e[i]=(n,s)=>e(n,{...s,method:i}),e.stream[i]=(n,s)=>e(n,{...s,method:i,isStream:!0});return Object.assign(e,Ire),Object.defineProperty(e,"defaults",{value:t.mutableDefaults?t:wre.default(t),writable:t.mutableDefaults,configurable:t.mutableDefaults,enumerable:!0}),e.mergeOptions=dB,e};Ti.default=mB;vre(pB(),Ti)});var yB=v((Ts,cy)=>{"use strict";var Pre=Ts&&Ts.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),gB=Ts&&Ts.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Pre(e,t,r)};Object.defineProperty(Ts,"__esModule",{value:!0});var Lre=w("url"),HB=fA(),Cre={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:t=>t.request.options.responseType==="json"?t.body:JSON.parse(t.body),paginate:t=>{if(!Reflect.has(t.headers,"link"))return!1;let e=t.headers.link.split(","),r;for(let i of e){let n=i.split(";");if(n[1].includes("next")){r=n[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new Lre.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:t=>JSON.parse(t),stringifyJson:t=>JSON.stringify(t),cacheOptions:{}},handlers:[HB.defaultHandler],mutableDefaults:!1},dA=HB.default(Cre);Ts.default=dA;cy.exports=dA;cy.exports.default=dA;cy.exports.__esModule=!0;gB(fA(),Ts);gB(cA(),Ts)});var xB=v((lxe,fy)=>{var Ut=function(t){"use strict";var e=1e7,r=7,i=9007199254740992,n=f(i),s="0123456789abcdefghijklmnopqrstuvwxyz",o=typeof BigInt=="function";function a(d,H,_,A){return typeof d>"u"?a[0]:typeof H<"u"?+H==10&&!_?ve(d):gt(d,H,_,A):ve(d)}function u(d,H){this.value=d,this.sign=H,this.isSmall=!1}u.prototype=Object.create(a.prototype);function c(d){this.value=d,this.sign=d<0,this.isSmall=!0}c.prototype=Object.create(a.prototype);function l(d){this.value=d}l.prototype=Object.create(a.prototype);function p(d){return-i<d&&d<i}function f(d){return d<1e7?[d]:d<1e14?[d%1e7,Math.floor(d/1e7)]:[d%1e7,Math.floor(d/1e7)%1e7,Math.floor(d/1e14)]}function g(d){m(d);var H=d.length;if(H<4&&re(d,n)<0)switch(H){case 0:return 0;case 1:return d[0];case 2:return d[0]+d[1]*e;default:return d[0]+(d[1]+d[2]*e)*e}return d}function m(d){for(var H=d.length;d[--H]===0;);d.length=H+1}function y(d){for(var H=new Array(d),_=-1;++_<d;)H[_]=0;return H}function b(d){return d>0?Math.floor(d):Math.ceil(d)}function I(d,H){var _=d.length,A=H.length,T=new Array(_),k=0,j=e,V,U;for(U=0;U<A;U++)V=d[U]+H[U]+k,k=V>=j?1:0,T[U]=V-k*j;for(;U<_;)V=d[U]+k,k=V===j?1:0,T[U++]=V-k*j;return k>0&&T.push(k),T}function B(d,H){return d.length>=H.length?I(d,H):I(H,d)}function W(d,H){var _=d.length,A=new Array(_),T=e,k,j;for(j=0;j<_;j++)k=d[j]-T+H,H=Math.floor(k/T),A[j]=k-H*T,H+=1;for(;H>0;)A[j++]=H%T,H=Math.floor(H/T);return A}u.prototype.add=function(d){var H=ve(d);if(this.sign!==H.sign)return this.subtract(H.negate());var _=this.value,A=H.value;return H.isSmall?new u(W(_,Math.abs(A)),this.sign):new u(B(_,A),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(d){var H=ve(d),_=this.value;if(_<0!==H.sign)return this.subtract(H.negate());var A=H.value;if(H.isSmall){if(p(_+A))return new c(_+A);A=f(Math.abs(A))}return new u(W(A,Math.abs(_)),_<0)},c.prototype.plus=c.prototype.add,l.prototype.add=function(d){return new l(this.value+ve(d).value)},l.prototype.plus=l.prototype.add;function P(d,H){var _=d.length,A=H.length,T=new Array(_),k=0,j=e,V,U;for(V=0;V<A;V++)U=d[V]-k-H[V],U<0?(U+=j,k=1):k=0,T[V]=U;for(V=A;V<_;V++){if(U=d[V]-k,U<0)U+=j;else{T[V++]=U;break}T[V]=U}for(;V<_;V++)T[V]=d[V];return m(T),T}function D(d,H,_){var A;return re(d,H)>=0?A=P(d,H):(A=P(H,d),_=!_),A=g(A),typeof A=="number"?(_&&(A=-A),new c(A)):new u(A,_)}function G(d,H,_){var A=d.length,T=new Array(A),k=-H,j=e,V,U;for(V=0;V<A;V++)U=d[V]+k,k=Math.floor(U/j),U%=j,T[V]=U<0?U+j:U;return T=g(T),typeof T=="number"?(_&&(T=-T),new c(T)):new u(T,_)}u.prototype.subtract=function(d){var H=ve(d);if(this.sign!==H.sign)return this.add(H.negate());var _=this.value,A=H.value;return H.isSmall?G(_,Math.abs(A),this.sign):D(_,A,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(d){var H=ve(d),_=this.value;if(_<0!==H.sign)return this.add(H.negate());var A=H.value;return H.isSmall?new c(_-A):G(A,Math.abs(_),_>=0)},c.prototype.minus=c.prototype.subtract,l.prototype.subtract=function(d){return new l(this.value-ve(d).value)},l.prototype.minus=l.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var d=this.sign,H=new c(-this.value);return H.sign=!d,H},l.prototype.negate=function(){return new l(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)};function q(d,H){var _=d.length,A=H.length,T=_+A,k=y(T),j=e,V,U,ne,le,me;for(ne=0;ne<_;++ne){le=d[ne];for(var Te=0;Te<A;++Te)me=H[Te],V=le*me+k[ne+Te],U=Math.floor(V/j),k[ne+Te]=V-U*j,k[ne+Te+1]+=U}return m(k),k}function N(d,H){var _=d.length,A=new Array(_),T=e,k=0,j,V;for(V=0;V<_;V++)j=d[V]*H+k,k=Math.floor(j/T),A[V]=j-k*T;for(;k>0;)A[V++]=k%T,k=Math.floor(k/T);return A}function M(d,H){for(var _=[];H-- >0;)_.push(0);return _.concat(d)}function O(d,H){var _=Math.max(d.length,H.length);if(_<=30)return q(d,H);_=Math.ceil(_/2);var A=d.slice(_),T=d.slice(0,_),k=H.slice(_),j=H.slice(0,_),V=O(T,j),U=O(A,k),ne=O(B(T,A),B(j,k)),le=B(B(V,M(P(P(ne,V),U),_)),M(U,2*_));return m(le),le}function S(d,H){return-.012*d-.012*H+15e-6*d*H>0}u.prototype.multiply=function(d){var H=ve(d),_=this.value,A=H.value,T=this.sign!==H.sign,k;if(H.isSmall){if(A===0)return a[0];if(A===1)return this;if(A===-1)return this.negate();if(k=Math.abs(A),k<e)return new u(N(_,k),T);A=f(k)}return S(_.length,A.length)?new u(O(_,A),T):new u(q(_,A),T)},u.prototype.times=u.prototype.multiply;function $(d,H,_){return d<e?new u(N(H,d),_):new u(q(H,f(d)),_)}c.prototype._multiplyBySmall=function(d){return p(d.value*this.value)?new c(d.value*this.value):$(Math.abs(d.value),f(Math.abs(this.value)),this.sign!==d.sign)},u.prototype._multiplyBySmall=function(d){return d.value===0?a[0]:d.value===1?this:d.value===-1?this.negate():$(Math.abs(d.value),this.value,this.sign!==d.sign)},c.prototype.multiply=function(d){return ve(d)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,l.prototype.multiply=function(d){return new l(this.value*ve(d).value)},l.prototype.times=l.prototype.multiply;function R(d){var H=d.length,_=y(H+H),A=e,T,k,j,V,U;for(j=0;j<H;j++){V=d[j],k=0-V*V;for(var ne=j;ne<H;ne++)U=d[ne],T=2*(V*U)+_[j+ne]+k,k=Math.floor(T/A),_[j+ne]=T-k*A;_[j+H]=k}return m(_),_}u.prototype.square=function(){return new u(R(this.value),!1)},c.prototype.square=function(){var d=this.value*this.value;return p(d)?new c(d):new u(R(f(Math.abs(this.value))),!1)},l.prototype.square=function(d){return new l(this.value*this.value)};function X(d,H){var _=d.length,A=H.length,T=e,k=y(H.length),j=H[A-1],V=Math.ceil(T/(2*j)),U=N(d,V),ne=N(H,V),le,me,Te,Jr,Rr,av,uv;for(U.length<=_&&U.push(0),ne.push(0),j=ne[A-1],me=_-A;me>=0;me--){for(le=T-1,U[me+A]!==j&&(le=Math.floor((U[me+A]*T+U[me+A-1])/j)),Te=0,Jr=0,av=ne.length,Rr=0;Rr<av;Rr++)Te+=le*ne[Rr],uv=Math.floor(Te/T),Jr+=U[me+Rr]-(Te-uv*T),Te=uv,Jr<0?(U[me+Rr]=Jr+T,Jr=-1):(U[me+Rr]=Jr,Jr=0);for(;Jr!==0;){for(le-=1,Te=0,Rr=0;Rr<av;Rr++)Te+=U[me+Rr]-T+ne[Rr],Te<0?(U[me+Rr]=Te+T,Te=0):(U[me+Rr]=Te,Te=1);Jr+=Te}k[me]=le}return U=C(U,V)[0],[g(k),g(U)]}function L(d,H){for(var _=d.length,A=H.length,T=[],k=[],j=e,V,U,ne,le,me;_;){if(k.unshift(d[--_]),m(k),re(k,H)<0){T.push(0);continue}U=k.length,ne=k[U-1]*j+k[U-2],le=H[A-1]*j+H[A-2],U>A&&(ne=(ne+1)*j),V=Math.ceil(ne/le);do{if(me=N(H,V),re(me,k)<=0)break;V--}while(V);T.push(V),k=P(k,me)}return T.reverse(),[g(T),g(k)]}function C(d,H){var _=d.length,A=y(_),T=e,k,j,V,U;for(V=0,k=_-1;k>=0;--k)U=V*T+d[k],j=b(U/H),V=U-j*H,A[k]=j|0;return[A,V|0]}function te(d,H){var _,A=ve(H);if(o)return[new l(d.value/A.value),new l(d.value%A.value)];var T=d.value,k=A.value,j;if(k===0)throw new Error("Cannot divide by zero");if(d.isSmall)return A.isSmall?[new c(b(T/k)),new c(T%k)]:[a[0],d];if(A.isSmall){if(k===1)return[d,a[0]];if(k==-1)return[d.negate(),a[0]];var V=Math.abs(k);if(V<e){_=C(T,V),j=g(_[0]);var U=_[1];return d.sign&&(U=-U),typeof j=="number"?(d.sign!==A.sign&&(j=-j),[new c(j),new c(U)]):[new u(j,d.sign!==A.sign),new c(U)]}k=f(V)}var ne=re(T,k);if(ne===-1)return[a[0],d];if(ne===0)return[a[d.sign===A.sign?1:-1],a[0]];T.length+k.length<=200?_=X(T,k):_=L(T,k),j=_[0];var le=d.sign!==A.sign,me=_[1],Te=d.sign;return typeof j=="number"?(le&&(j=-j),j=new c(j)):j=new u(j,le),typeof me=="number"?(Te&&(me=-me),me=new c(me)):me=new u(me,Te),[j,me]}u.prototype.divmod=function(d){var H=te(this,d);return{quotient:H[0],remainder:H[1]}},l.prototype.divmod=c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(d){return te(this,d)[0]},l.prototype.over=l.prototype.divide=function(d){return new l(this.value/ve(d).value)},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(d){return te(this,d)[1]},l.prototype.mod=l.prototype.remainder=function(d){return new l(this.value%ve(d).value)},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(d){var H=ve(d),_=this.value,A=H.value,T,k,j;if(A===0)return a[1];if(_===0)return a[0];if(_===1)return a[1];if(_===-1)return H.isEven()?a[1]:a[-1];if(H.sign)return a[0];if(!H.isSmall)throw new Error("The exponent "+H.toString()+" is too large.");if(this.isSmall&&p(T=Math.pow(_,A)))return new c(b(T));for(k=this,j=a[1];A&!0&&(j=j.times(k),--A),A!==0;)A/=2,k=k.square();return j},c.prototype.pow=u.prototype.pow,l.prototype.pow=function(d){var H=ve(d),_=this.value,A=H.value,T=BigInt(0),k=BigInt(1),j=BigInt(2);if(A===T)return a[1];if(_===T)return a[0];if(_===k)return a[1];if(_===BigInt(-1))return H.isEven()?a[1]:a[-1];if(H.isNegative())return new l(T);for(var V=this,U=a[1];(A&k)===k&&(U=U.times(V),--A),A!==T;)A/=j,V=V.square();return U},u.prototype.modPow=function(d,H){if(d=ve(d),H=ve(H),H.isZero())throw new Error("Cannot take modPow with modulus 0");var _=a[1],A=this.mod(H);for(d.isNegative()&&(d=d.multiply(a[-1]),A=A.modInv(H));d.isPositive();){if(A.isZero())return a[0];d.isOdd()&&(_=_.multiply(A).mod(H)),d=d.divide(2),A=A.square().mod(H)}return _},l.prototype.modPow=c.prototype.modPow=u.prototype.modPow;function re(d,H){if(d.length!==H.length)return d.length>H.length?1:-1;for(var _=d.length-1;_>=0;_--)if(d[_]!==H[_])return d[_]>H[_]?1:-1;return 0}u.prototype.compareAbs=function(d){var H=ve(d),_=this.value,A=H.value;return H.isSmall?1:re(_,A)},c.prototype.compareAbs=function(d){var H=ve(d),_=Math.abs(this.value),A=H.value;return H.isSmall?(A=Math.abs(A),_===A?0:_>A?1:-1):-1},l.prototype.compareAbs=function(d){var H=this.value,_=ve(d).value;return H=H>=0?H:-H,_=_>=0?_:-_,H===_?0:H>_?1:-1},u.prototype.compare=function(d){if(d===1/0)return-1;if(d===-1/0)return 1;var H=ve(d),_=this.value,A=H.value;return this.sign!==H.sign?H.sign?1:-1:H.isSmall?this.sign?-1:1:re(_,A)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(d){if(d===1/0)return-1;if(d===-1/0)return 1;var H=ve(d),_=this.value,A=H.value;return H.isSmall?_==A?0:_>A?1:-1:_<0!==H.sign?_<0?-1:1:_<0?1:-1},c.prototype.compareTo=c.prototype.compare,l.prototype.compare=function(d){if(d===1/0)return-1;if(d===-1/0)return 1;var H=this.value,_=ve(d).value;return H===_?0:H>_?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.equals=function(d){return this.compare(d)===0},l.prototype.eq=l.prototype.equals=c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(d){return this.compare(d)!==0},l.prototype.neq=l.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(d){return this.compare(d)>0},l.prototype.gt=l.prototype.greater=c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(d){return this.compare(d)<0},l.prototype.lt=l.prototype.lesser=c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(d){return this.compare(d)>=0},l.prototype.geq=l.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(d){return this.compare(d)<=0},l.prototype.leq=l.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},c.prototype.isEven=function(){return(this.value&1)===0},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},c.prototype.isOdd=function(){return(this.value&1)===1},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=c.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=c.prototype.isNegative,u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},l.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(d){var H=ve(d);return H.isZero()?!1:H.isUnit()?!0:H.compareAbs(2)===0?this.isEven():this.mod(H).isZero()},l.prototype.isDivisibleBy=c.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function se(d){var H=d.abs();if(H.isUnit())return!1;if(H.equals(2)||H.equals(3)||H.equals(5))return!0;if(H.isEven()||H.isDivisibleBy(3)||H.isDivisibleBy(5))return!1;if(H.lesser(49))return!0}function oe(d,H){for(var _=d.prev(),A=_,T=0,k,j,V,U;A.isEven();)A=A.divide(2),T++;e:for(V=0;V<H.length;V++)if(!d.lesser(H[V])&&(U=Ut(H[V]).modPow(A,d),!(U.isUnit()||U.equals(_)))){for(k=T-1;k!=0;k--){if(U=U.square().mod(d),U.isUnit())return!1;if(U.equals(_))continue e}return!1}return!0}u.prototype.isPrime=function(d){var H=se(this);if(H!==t)return H;var _=this.abs(),A=_.bitLength();if(A<=64)return oe(_,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var T=Math.log(2)*A.toJSNumber(),k=Math.ceil(d===!0?2*Math.pow(T,2):T),j=[],V=0;V<k;V++)j.push(Ut(V+2));return oe(_,j)},l.prototype.isPrime=c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(d,H){var _=se(this);if(_!==t)return _;for(var A=this.abs(),T=d===t?5:d,k=[],j=0;j<T;j++)k.push(Ut.randBetween(2,A.minus(2),H));return oe(A,k)},l.prototype.isProbablePrime=c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(d){for(var H=Ut.zero,_=Ut.one,A=ve(d),T=this.abs(),k,j,V;!T.isZero();)k=A.divide(T),j=H,V=A,H=_,A=T,_=j.subtract(k.multiply(_)),T=V.subtract(k.multiply(T));if(!A.isUnit())throw new Error(this.toString()+" and "+d.toString()+" are not co-prime");return H.compare(0)===-1&&(H=H.add(d)),this.isNegative()?H.negate():H},l.prototype.modInv=c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var d=this.value;return this.sign?G(d,1,this.sign):new u(W(d,1),this.sign)},c.prototype.next=function(){var d=this.value;return d+1<i?new c(d+1):new u(n,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},u.prototype.prev=function(){var d=this.value;return this.sign?new u(W(d,1),!0):G(d,1,this.sign)},c.prototype.prev=function(){var d=this.value;return d-1>-i?new c(d-1):new u(n,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var ie=[1];2*ie[ie.length-1]<=e;)ie.push(2*ie[ie.length-1]);var de=ie.length,we=ie[de-1];function ge(d){return Math.abs(d)<=e}u.prototype.shiftLeft=function(d){var H=ve(d).toJSNumber();if(!ge(H))throw new Error(String(H)+" is too large for shifting.");if(H<0)return this.shiftRight(-H);var _=this;if(_.isZero())return _;for(;H>=de;)_=_.multiply(we),H-=de-1;return _.multiply(ie[H])},l.prototype.shiftLeft=c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(d){var H,_=ve(d).toJSNumber();if(!ge(_))throw new Error(String(_)+" is too large for shifting.");if(_<0)return this.shiftLeft(-_);for(var A=this;_>=de;){if(A.isZero()||A.isNegative()&&A.isUnit())return A;H=te(A,we),A=H[1].isNegative()?H[0].prev():H[0],_-=de-1}return H=te(A,ie[_]),H[1].isNegative()?H[0].prev():H[0]},l.prototype.shiftRight=c.prototype.shiftRight=u.prototype.shiftRight;function Pt(d,H,_){H=ve(H);for(var A=d.isNegative(),T=H.isNegative(),k=A?d.not():d,j=T?H.not():H,V=0,U=0,ne=null,le=null,me=[];!k.isZero()||!j.isZero();)ne=te(k,we),V=ne[1].toJSNumber(),A&&(V=we-1-V),le=te(j,we),U=le[1].toJSNumber(),T&&(U=we-1-U),k=ne[0],j=le[0],me.push(_(V,U));for(var Te=_(A?1:0,T?1:0)!==0?Ut(-1):Ut(0),Jr=me.length-1;Jr>=0;Jr-=1)Te=Te.multiply(we).add(Ut(me[Jr]));return Te}u.prototype.not=function(){return this.negate().prev()},l.prototype.not=c.prototype.not=u.prototype.not,u.prototype.and=function(d){return Pt(this,d,function(H,_){return H&_})},l.prototype.and=c.prototype.and=u.prototype.and,u.prototype.or=function(d){return Pt(this,d,function(H,_){return H|_})},l.prototype.or=c.prototype.or=u.prototype.or,u.prototype.xor=function(d){return Pt(this,d,function(H,_){return H^_})},l.prototype.xor=c.prototype.xor=u.prototype.xor;var be=1<<30,_r=(e&-e)*(e&-e)|be;function Xr(d){var H=d.value,_=typeof H=="number"?H|be:typeof H=="bigint"?H|BigInt(be):H[0]+H[1]*e|_r;return _&-_}function Q(d,H){if(H.compareTo(d)<=0){var _=Q(d,H.square(H)),A=_.p,T=_.e,k=A.multiply(H);return k.compareTo(d)<=0?{p:k,e:T*2+1}:{p:A,e:T*2}}return{p:Ut(1),e:0}}u.prototype.bitLength=function(){var d=this;return d.compareTo(Ut(0))<0&&(d=d.negate().subtract(Ut(1))),d.compareTo(Ut(0))===0?Ut(0):Ut(Q(d,Ut(2)).e).add(Ut(1))},l.prototype.bitLength=c.prototype.bitLength=u.prototype.bitLength;function Ce(d,H){return d=ve(d),H=ve(H),d.greater(H)?d:H}function Y(d,H){return d=ve(d),H=ve(H),d.lesser(H)?d:H}function He(d,H){if(d=ve(d).abs(),H=ve(H).abs(),d.equals(H))return d;if(d.isZero())return H;if(H.isZero())return d;for(var _=a[1],A,T;d.isEven()&&H.isEven();)A=Y(Xr(d),Xr(H)),d=d.divide(A),H=H.divide(A),_=_.multiply(A);for(;d.isEven();)d=d.divide(Xr(d));do{for(;H.isEven();)H=H.divide(Xr(H));d.greater(H)&&(T=H,H=d,d=T),H=H.subtract(d)}while(!H.isZero());return _.isUnit()?d:d.multiply(_)}function Ue(d,H){return d=ve(d).abs(),H=ve(H).abs(),d.divide(He(d,H)).multiply(H)}function ct(d,H,_){d=ve(d),H=ve(H);var A=_||Math.random,T=Y(d,H),k=Ce(d,H),j=k.subtract(T).add(1);if(j.isSmall)return T.add(Math.floor(A()*j));for(var V=va(j,e).value,U=[],ne=!0,le=0;le<V.length;le++){var me=ne?V[le]:e,Te=b(A()*me);U.push(Te),Te<me&&(ne=!1)}return T.add(a.fromArray(U,e,!1))}var gt=function(d,H,_,A){_=_||s,d=String(d),A||(d=d.toLowerCase(),_=_.toLowerCase());var T=d.length,k,j=Math.abs(H),V={};for(k=0;k<_.length;k++)V[_[k]]=k;for(k=0;k<T;k++){var U=d[k];if(U!=="-"&&U in V&&V[U]>=j){if(U==="1"&&j===1)continue;throw new Error(U+" is not a valid digit in base "+H+".")}}H=ve(H);var ne=[],le=d[0]==="-";for(k=le?1:0;k<d.length;k++){var U=d[k];if(U in V)ne.push(ve(V[U]));else if(U==="<"){var me=k;do k++;while(d[k]!==">"&&k<d.length);ne.push(ve(d.slice(me+1,k)))}else throw new Error(U+" is not a valid character")}return Js(ne,H,le)};function Js(d,H,_){var A=a[0],T=a[1],k;for(k=d.length-1;k>=0;k--)A=A.add(d[k].times(T)),T=T.times(H);return _?A.negate():A}function Ys(d,H){return H=H||s,d<H.length?H[d]:"<"+d+">"}function va(d,H){if(H=Ut(H),H.isZero()){if(d.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(H.equals(-1)){if(d.isZero())return{value:[0],isNegative:!1};if(d.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-d.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var _=Array.apply(null,Array(d.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return _.unshift([1]),{value:[].concat.apply([],_),isNegative:!1}}var A=!1;if(d.isNegative()&&H.isPositive()&&(A=!0,d=d.abs()),H.isUnit())return d.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(d.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:A};for(var T=[],k=d,j;k.isNegative()||k.compareAbs(H)>=0;){j=k.divmod(H),k=j.quotient;var V=j.remainder;V.isNegative()&&(V=H.minus(V).abs(),k=k.next()),T.push(V.toJSNumber())}return T.push(k.toJSNumber()),{value:T.reverse(),isNegative:A}}function Fu(d,H,_){var A=va(d,H);return(A.isNegative?"-":"")+A.value.map(function(T){return Ys(T,_)}).join("")}u.prototype.toArray=function(d){return va(this,d)},c.prototype.toArray=function(d){return va(this,d)},l.prototype.toArray=function(d){return va(this,d)},u.prototype.toString=function(d,H){if(d===t&&(d=10),d!==10)return Fu(this,d,H);for(var _=this.value,A=_.length,T=String(_[--A]),k="0000000",j;--A>=0;)j=String(_[A]),T+=k.slice(j.length)+j;var V=this.sign?"-":"";return V+T},c.prototype.toString=function(d,H){return d===t&&(d=10),d!=10?Fu(this,d,H):String(this.value)},l.prototype.toString=c.prototype.toString,l.prototype.toJSON=u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function hh(d){if(p(+d)){var H=+d;if(H===b(H))return o?new l(BigInt(H)):new c(H);throw new Error("Invalid integer: "+d)}var _=d[0]==="-";_&&(d=d.slice(1));var A=d.split(/e/i);if(A.length>2)throw new Error("Invalid integer: "+A.join("e"));if(A.length===2){var T=A[1];if(T[0]==="+"&&(T=T.slice(1)),T=+T,T!==b(T)||!p(T))throw new Error("Invalid integer: "+T+" is not a valid exponent.");var k=A[0],j=k.indexOf(".");if(j>=0&&(T-=k.length-j-1,k=k.slice(0,j)+k.slice(j+1)),T<0)throw new Error("Cannot include negative exponent part for integers");k+=new Array(T+1).join("0"),d=k}var V=/^([0-9][0-9]*)$/.test(d);if(!V)throw new Error("Invalid integer: "+d);if(o)return new l(BigInt(_?"-"+d:d));for(var U=[],ne=d.length,le=r,me=ne-le;ne>0;)U.push(+d.slice(me,ne)),me-=le,me<0&&(me=0),ne-=le;return m(U),new u(U,_)}function ov(d){if(o)return new l(BigInt(d));if(p(d)){if(d!==b(d))throw new Error(d+" is not an integer.");return new c(d)}return hh(d.toString())}function ve(d){return typeof d=="number"?ov(d):typeof d=="string"?hh(d):typeof d=="bigint"?new l(d):d}for(var ji=0;ji<1e3;ji++)a[ji]=ve(ji),ji>0&&(a[-ji]=ve(-ji));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=Ce,a.min=Y,a.gcd=He,a.lcm=Ue,a.isInstance=function(d){return d instanceof u||d instanceof c||d instanceof l},a.randBetween=ct,a.fromArray=function(d,H,_){return Js(d.map(ve),ve(H||10),_)},a}();typeof fy<"u"&&fy.hasOwnProperty("exports")&&(fy.exports=Ut);typeof define=="function"&&define.amd&&define(function(){return Ut})});var PB=v(jt=>{"use strict";var Mre=w("fs"),kre=xB(),Ko=!1;jt.maxObjectSize=100*1e3*1e3;jt.maxObjectCount=32768;var Rre=9783072e5,Ore=jt.UID=function(t){this.UID=t},pxe=jt.parseFile=function(t,e){function r(i){var n=null,s;try{s=Nre(i)}catch(o){n=o}e(n,s)}if(Buffer.isBuffer(t))return r(t);Mre.readFile(t,function(i,n){if(i)return e(i);r(n)})},Nre=jt.parseBuffer=function(t){var e={},r=t.slice(0,6).toString("utf8");if(r!=="bplist")throw new Error("Invalid binary plist. Expected 'bplist' at offset 0.");var i=t.slice(t.length-32,t.length),n=i.readUInt8(6);Ko&&console.log("offsetSize: "+n);var s=i.readUInt8(7);Ko&&console.log("objectRefSize: "+s);var o=hA(i,8);Ko&&console.log("numObjects: "+o);var a=hA(i,16);Ko&&console.log("topObject: "+a);var u=hA(i,24);if(Ko&&console.log("offsetTableOffset: "+u),o>jt.maxObjectCount)throw new Error("maxObjectCount exceeded");for(var c=[],l=0;l<o;l++){var p=t.slice(u+l*n,u+(l+1)*n);c[l]=zr(p,0),Ko&&console.log("Offset for Object #"+l+" is "+c[l]+" ["+c[l].toString(16)+"]")}function f(g){var m=c[g],y=t[m],b=(y&240)>>4,I=y&15;switch(b){case 0:return B();case 1:return P();case 8:return D();case 2:return G();case 3:return q();case 4:return N();case 5:return M();case 6:return M(!0);case 10:return O();case 13:return S();default:throw new Error("Unhandled type 0x"+b.toString(16))}function B(){switch(I){case 0:return null;case 8:return!1;case 9:return!0;case 15:return null;default:throw new Error("Unhandled simple type 0x"+b.toString(16))}}function W($){var R="",X;for(X=0;X<$.length&&$[X]==0;X++);for(;X<$.length;X++){var L="00"+$[X].toString(16);R+=L.substr(L.length-2)}return R}function P(){var $=Math.pow(2,I);if($>4){var R=t.slice(m+1,m+1+$),X=W(R);return kre(X,16)}if($<jt.maxObjectSize)return zr(t.slice(m+1,m+1+$));throw new Error("To little heap space available! Wanted to read "+$+" bytes, but only "+jt.maxObjectSize+" are available.")}function D(){var $=I+1;if($<jt.maxObjectSize)return new Ore(zr(t.slice(m+1,m+1+$)));throw new Error("To little heap space available! Wanted to read "+$+" bytes, but only "+jt.maxObjectSize+" are available.")}function G(){var $=Math.pow(2,I);if($<jt.maxObjectSize){var R=t.slice(m+1,m+1+$);if($===4)return R.readFloatBE(0);if($===8)return R.readDoubleBE(0)}else throw new Error("To little heap space available! Wanted to read "+$+" bytes, but only "+jt.maxObjectSize+" are available.")}function q(){I!=3&&console.error("Unknown date type :"+I+". Parsing anyway...");var $=t.slice(m+1,m+9);return new Date(Rre+1e3*$.readDoubleBE(0))}function N(){var $=1,R=I;if(I==15){var X=t[m+1],L=(X&240)/16;L!=1&&console.error("0x4: UNEXPECTED LENGTH-INT TYPE! "+L);var C=X&15,te=Math.pow(2,C);$=2+te,te<3,R=zr(t.slice(m+2,m+2+te))}if(R<jt.maxObjectSize)return t.slice(m+$,m+$+R);throw new Error("To little heap space available! Wanted to read "+R+" bytes, but only "+jt.maxObjectSize+" are available.")}function M($){$=$||0;var R="utf8",X=I,L=1;if(I==15){var C=t[m+1],te=(C&240)/16;te!=1&&console.err("UNEXPECTED LENGTH-INT TYPE! "+te);var re=C&15,se=Math.pow(2,re),L=2+se;se<3,X=zr(t.slice(m+2,m+2+se))}if(X*=$+1,X<jt.maxObjectSize){var oe=new Buffer(t.slice(m+L,m+L+X));return $&&(oe=Bre(oe),R="ucs2"),oe.toString(R)}else throw new Error("To little heap space available! Wanted to read "+X+" bytes, but only "+jt.maxObjectSize+" are available.")}function O(){var $=I,R=1;if(I==15){var X=t[m+1],L=(X&240)/16;L!=1&&console.error("0xa: UNEXPECTED LENGTH-INT TYPE! "+L);var C=X&15,te=Math.pow(2,C);R=2+te,te<3,$=zr(t.slice(m+2,m+2+te))}if($*s>jt.maxObjectSize)throw new Error("To little heap space available!");for(var re=[],se=0;se<$;se++){var oe=zr(t.slice(m+R+se*s,m+R+(se+1)*s));re[se]=f(oe)}return re}function S(){var $=I,R=1;if(I==15){var X=t[m+1],L=(X&240)/16;L!=1&&console.error("0xD: UNEXPECTED LENGTH-INT TYPE! "+L);var C=X&15,te=Math.pow(2,C);R=2+te,te<3,$=zr(t.slice(m+2,m+2+te))}if($*2*s>jt.maxObjectSize)throw new Error("To little heap space available!");Ko&&console.log("Parsing dictionary #"+g);for(var re={},se=0;se<$;se++){var oe=zr(t.slice(m+R+se*s,m+R+(se+1)*s)),ie=zr(t.slice(m+R+$*s+se*s,m+R+$*s+(se+1)*s)),de=f(oe),we=f(ie);Ko&&console.log("  DICT #"+g+": Mapped "+de+" to "+we),re[de]=we}return re}}return[f(a)]};function zr(t,e){e=e||0;for(var r=0,i=e;i<t.length;i++)r<<=8,r|=t[i]&255;return r}function hA(t,e){var r=t.slice(e,e+8);return r.readUInt32BE(4,8)}function Bre(t){for(var e=t.length,r=0;r<e;r+=2){var i=t[r];t[r]=t[r+1],t[r+1]=i}return t}});var DB=v((dxe,CB)=>{"use strict";var LB=w("os");function Fre(){var t=process.env,e=t.HOME,r=t.LOGNAME||t.USER||t.LNAME||t.USERNAME;return process.platform==="win32"?t.USERPROFILE||t.HOMEDRIVE+t.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null}CB.exports=typeof LB.homedir=="function"?LB.homedir:Fre});var MB=v((hxe,$B)=>{"use strict";var Ure=DB(),TB=Ure();$B.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return TB?t.replace(/^~($|\/|\\)/,TB+"$1"):t}});var mA=v((mxe,OB)=>{"use strict";var kB=function(t,e,r){return function(){for(var i=this,n=new Array(arguments.length),s=0;s<arguments.length;s++)n[s]=arguments[s];return new e(function(o,a){n.push(function(u,c){if(u)a(u);else if(r.multiArgs){for(var l=new Array(arguments.length-1),p=1;p<arguments.length;p++)l[p-1]=arguments[p];o(l)}else o(c)}),t.apply(i,n)})}},RB=OB.exports=function(t,e,r){typeof e!="function"&&(r=e,e=Promise),r=r||{},r.exclude=r.exclude||[/.+Sync$/];var i=function(s){var o=function(a){return typeof a=="string"?s===a:a.test(s)};return r.include?r.include.some(o):!r.exclude.some(o)},n=typeof t=="function"?function(){return r.excludeMain?t.apply(this,arguments):kB(t,e,r).apply(this,arguments)}:{};return Object.keys(t).reduce(function(s,o){var a=t[o];return s[o]=typeof a=="function"&&i(o)?kB(a,e,r):a,s},n)};RB.all=RB});var BB=v((gxe,NB)=>{"use strict";var jre=w("os"),Wre=PB(),qre=MB(),Vre=mA(),Gre=Number(jre.release().split(".")[0]),Kre=qre(Gre>=14?"~/Library/Preferences/com.apple.LaunchServices/com.apple.launchservices.secure.plist":"~/Library/Preferences/com.apple.LaunchServices.plist");NB.exports=()=>{if(process.platform!=="darwin")return Promise.reject(new Error("Only OS X is supported"));let t="com.apple.Safari";return Vre(Wre.parseFile)(Kre).then(e=>{let r=e&&e[0].LSHandlers;if(!r||r.length===0)return t;for(let i of r)if(i.LSHandlerURLScheme==="http"&&i.LSHandlerRoleAll){t=i.LSHandlerRoleAll;break}return t})}});var KB=v((Hxe,GB)=>{"use strict";var HA="pending",FB="settled",dy="fulfilled",hy="rejected",zre=function(){},UB=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",Xre=typeof setImmediate>"u"?setTimeout:setImmediate,dd=[],gA;function Jre(){for(var t=0;t<dd.length;t++)dd[t][0](dd[t][1]);dd=[],gA=!1}function my(t,e){dd.push([t,e]),gA||(gA=!0,Xre(Jre,0))}function Yre(t,e){function r(n){yA(e,n)}function i(n){hd(e,n)}try{t(r,i)}catch(n){i(n)}}function jB(t){var e=t.owner,r=e._state,i=e._data,n=t[r],s=t.then;if(typeof n=="function"){r=dy;try{i=n(i)}catch(o){hd(s,o)}}WB(s,i)||(r===dy&&yA(s,i),r===hy&&hd(s,i))}function WB(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||typeof e=="object")){var i=e.then;if(typeof i=="function")return i.call(e,function(n){r||(r=!0,e===n?qB(t,n):yA(t,n))},function(n){r||(r=!0,hd(t,n))}),!0}}catch(n){return r||hd(t,n),!0}return!1}function yA(t,e){(t===e||!WB(t,e))&&qB(t,e)}function qB(t,e){t._state===HA&&(t._state=FB,t._data=e,my(Qre,t))}function hd(t,e){t._state===HA&&(t._state=FB,t._data=e,my(Zre,t))}function VB(t){t._then=t._then.forEach(jB)}function Qre(t){t._state=dy,VB(t)}function Zre(t){t._state=hy,VB(t),!t._handled&&UB&&global.process.emit("unhandledRejection",t._data,t)}function eie(t){global.process.emit("rejectionHandled",t)}function ai(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof ai))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],Yre(t,this)}ai.prototype={constructor:ai,_state:HA,_then:null,_data:void 0,_handled:!1,then:function(t,e){var r={owner:this,then:new this.constructor(zre),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===hy&&UB&&my(eie,this)),this._state===dy||this._state===hy?my(jB,r):this._then.push(r),r.then},catch:function(t){return this.then(null,t)}};ai.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new ai(function(e,r){var i=[],n=0;function s(u){return n++,function(c){i[u]=c,--n||e(i)}}for(var o=0,a;o<t.length;o++)a=t[o],a&&typeof a.then=="function"?a.then(s(o),r):i[o]=a;n||e(i)})};ai.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new ai(function(e,r){for(var i=0,n;i<t.length;i++)n=t[i],n&&typeof n.then=="function"?n.then(e,r):e(n)})};ai.resolve=function(t){return t&&typeof t=="object"&&t.constructor===ai?t:new ai(function(e){e(t)})};ai.reject=function(t){return new ai(function(e,r){r(t)})};GB.exports=ai});var XB=v((yxe,zB)=>{"use strict";zB.exports=typeof Promise=="function"?Promise:KB()});var QB=v((bxe,YB)=>{"use strict";var tie=w("child_process").execFile,JB=XB(),rie=mA();YB.exports=function(t){return process.platform!=="darwin"?JB.reject(new Error("Only OS X systems are supported")):rie(tie,JB)("osascript",["-e",t]).then(function(e){return e.trim()})}});var eF=v((vxe,ZB)=>{"use strict";var iie=QB();ZB.exports=t=>iie(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)});var nF=v((_xe,iF)=>{var tF=Object.prototype.hasOwnProperty;iF.exports=ui;function ui(t){if(!(this instanceof ui))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof ui||typeof Map=="function"&&t instanceof Map)t.forEach(function(e,r){this.set(r,e)},this);else if(Array.isArray(t))t.forEach(function(e){this.set(e[0],e[1])},this);else throw new TypeError("invalid argument")}ui.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(r){r!=="size"&&t.call(e,this._data[r].value,this._data[r].key)},this)};ui.prototype.has=function(t){return!!bA(this._data,t)};ui.prototype.get=function(t){var e=bA(this._data,t);return e&&e.value};ui.prototype.set=function(t,e){sie(this._data,t,e)};ui.prototype.delete=function(t){var e=bA(this._data,t);e&&(delete this._data[e._index],this._data.size--)};ui.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})};Object.defineProperty(ui.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0});ui.prototype.values=ui.prototype.keys=ui.prototype.entries=function(){throw new Error("iterators are not implemented in this version")};function rF(t,e){return t===e||t!==t&&e!==e}function nie(t,e,r){this.key=t,this.value=e,this._index=r}function bA(t,e){for(var r=0,i="_"+e,n=i;tF.call(t,n);n=i+r++)if(rF(t[n].key,e))return t[n]}function sie(t,e,r){for(var i=0,n="_"+e,s=n;tF.call(t,s);s=n+i++)if(rF(t[s].key,e)){t[s].value=r;return}t.size++,t[s]=new nie(e,r,s)}});var sF=v((wxe,vA)=>{process.env.npm_package_name==="pseudomap"&&process.env.npm_lifecycle_script==="test"&&(process.env.TEST_PSEUDOMAP="true");typeof Map=="function"&&!process.env.TEST_PSEUDOMAP?vA.exports=Map:vA.exports=nF()});var aF=v((Ixe,oF)=>{oF.exports=Ge;Ge.Node=md;Ge.create=Ge;function Ge(t){var e=this;if(e instanceof Ge||(e=new Ge),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}Ge.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null};Ge.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Ge.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Ge.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)oie(this,arguments[t]);return this.length};Ge.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)aie(this,arguments[t]);return this.length};Ge.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Ge.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Ge.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,i=0;r!==null;i++)t.call(e,r.value,i,this),r=r.next};Ge.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,i=this.length-1;r!==null;i--)t.call(e,r.value,i,this),r=r.prev};Ge.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Ge.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Ge.prototype.map=function(t,e){e=e||this;for(var r=new Ge,i=this.head;i!==null;)r.push(t.call(e,i.value,this)),i=i.next;return r};Ge.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Ge,i=this.tail;i!==null;)r.push(t.call(e,i.value,this)),i=i.prev;return r};Ge.prototype.reduce=function(t,e){var r,i=this.head;if(arguments.length>1)r=e;else if(this.head)i=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;i!==null;n++)r=t(r,i.value,n),i=i.next;return r};Ge.prototype.reduceReverse=function(t,e){var r,i=this.tail;if(arguments.length>1)r=e;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;i!==null;n--)r=t(r,i.value,n),i=i.prev;return r};Ge.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Ge.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Ge.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ge;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,n=this.head;n!==null&&i<t;i++)n=n.next;for(;n!==null&&i<e;i++,n=n.next)r.push(n.value);return r};Ge.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Ge;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,n=this.tail;n!==null&&i>e;i--)n=n.prev;for(;n!==null&&i>t;i--,n=n.prev)r.push(n.value);return r};Ge.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=e,this.tail=t,this};function oie(t,e){t.tail=new md(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function aie(t,e){t.head=new md(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function md(t,e,r,i){if(!(this instanceof md))return new md(t,e,r,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}});var wA=v((Axe,lF)=>{"use strict";lF.exports=ot;var uie=sF(),gd=w("util"),cie=aF(),lie=typeof Symbol=="function"&&process.env._nodeLRUCacheForceNoSymbol!=="1",on;lie?on=function(t){return Symbol(t)}:on=function(t){return"_"+t};var Ms=on("max"),ts=on("length"),hu=on("lengthCalculator"),Pl=on("allowStale"),zo=on("maxAge"),$s=on("dispose"),uF=on("noDisposeOnSet"),Wt=on("lruList"),sn=on("cache");function Hd(){return 1}function ot(t){if(!(this instanceof ot))return new ot(t);typeof t=="number"&&(t={max:t}),t||(t={});var e=this[Ms]=t.max;(!e||typeof e!="number"||e<=0)&&(this[Ms]=1/0);var r=t.length||Hd;typeof r!="function"&&(r=Hd),this[hu]=r,this[Pl]=t.stale||!1,this[zo]=t.maxAge||0,this[$s]=t.dispose,this[uF]=t.noDisposeOnSet||!1,this.reset()}Object.defineProperty(ot.prototype,"max",{set:function(t){(!t||typeof t!="number"||t<=0)&&(t=1/0),this[Ms]=t,yd(this)},get:function(){return this[Ms]},enumerable:!0});Object.defineProperty(ot.prototype,"allowStale",{set:function(t){this[Pl]=!!t},get:function(){return this[Pl]},enumerable:!0});Object.defineProperty(ot.prototype,"maxAge",{set:function(t){(!t||typeof t!="number"||t<0)&&(t=0),this[zo]=t,yd(this)},get:function(){return this[zo]},enumerable:!0});Object.defineProperty(ot.prototype,"lengthCalculator",{set:function(t){typeof t!="function"&&(t=Hd),t!==this[hu]&&(this[hu]=t,this[ts]=0,this[Wt].forEach(function(e){e.length=this[hu](e.value,e.key),this[ts]+=e.length},this)),yd(this)},get:function(){return this[hu]},enumerable:!0});Object.defineProperty(ot.prototype,"length",{get:function(){return this[ts]},enumerable:!0});Object.defineProperty(ot.prototype,"itemCount",{get:function(){return this[Wt].length},enumerable:!0});ot.prototype.rforEach=function(t,e){e=e||this;for(var r=this[Wt].tail;r!==null;){var i=r.prev;cF(this,t,r,e),r=i}};function cF(t,e,r,i){var n=r.value;bd(t,n)&&(Ll(t,r),t[Pl]||(n=void 0)),n&&e.call(i,n.value,n.key,t)}ot.prototype.forEach=function(t,e){e=e||this;for(var r=this[Wt].head;r!==null;){var i=r.next;cF(this,t,r,e),r=i}};ot.prototype.keys=function(){return this[Wt].toArray().map(function(t){return t.key},this)};ot.prototype.values=function(){return this[Wt].toArray().map(function(t){return t.value},this)};ot.prototype.reset=function(){this[$s]&&this[Wt]&&this[Wt].length&&this[Wt].forEach(function(t){this[$s](t.key,t.value)},this),this[sn]=new uie,this[Wt]=new cie,this[ts]=0};ot.prototype.dump=function(){return this[Wt].map(function(t){if(!bd(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})};ot.prototype.dumpLru=function(){return this[Wt]};ot.prototype.inspect=function(t,e){var r="LRUCache {",i=!1,n=this[Pl];n&&(r+=`
  allowStale: true`,i=!0);var s=this[Ms];s&&s!==1/0&&(i&&(r+=","),r+=`
  max: `+gd.inspect(s,e),i=!0);var o=this[zo];o&&(i&&(r+=","),r+=`
  maxAge: `+gd.inspect(o,e),i=!0);var a=this[hu];a&&a!==Hd&&(i&&(r+=","),r+=`
  length: `+gd.inspect(this[ts],e),i=!0);var u=!1;return this[Wt].forEach(function(c){u?r+=`,
  `:(i&&(r+=`,
`),u=!0,r+=`
  `);var l=gd.inspect(c.key).split(`
`).join(`
  `),p={value:c.value};c.maxAge!==o&&(p.maxAge=c.maxAge),a!==Hd&&(p.length=c.length),bd(this,c)&&(p.stale=!0),p=gd.inspect(p,e).split(`
`).join(`
  `),r+=l+" => "+p}),(u||i)&&(r+=`
`),r+="}",r};ot.prototype.set=function(t,e,r){r=r||this[zo];var i=r?Date.now():0,n=this[hu](e,t);if(this[sn].has(t)){if(n>this[Ms])return Ll(this,this[sn].get(t)),!1;var s=this[sn].get(t),o=s.value;return this[$s]&&(this[uF]||this[$s](t,o.value)),o.now=i,o.maxAge=r,o.value=e,this[ts]+=n-o.length,o.length=n,this.get(t),yd(this),!0}var a=new pie(t,e,n,i,r);return a.length>this[Ms]?(this[$s]&&this[$s](t,e),!1):(this[ts]+=a.length,this[Wt].unshift(a),this[sn].set(t,this[Wt].head),yd(this),!0)};ot.prototype.has=function(t){if(!this[sn].has(t))return!1;var e=this[sn].get(t).value;return!bd(this,e)};ot.prototype.get=function(t){return _A(this,t,!0)};ot.prototype.peek=function(t){return _A(this,t,!1)};ot.prototype.pop=function(){var t=this[Wt].tail;return t?(Ll(this,t),t.value):null};ot.prototype.del=function(t){Ll(this,this[sn].get(t))};ot.prototype.load=function(t){this.reset();for(var e=Date.now(),r=t.length-1;r>=0;r--){var i=t[r],n=i.e||0;if(n===0)this.set(i.k,i.v);else{var s=n-e;s>0&&this.set(i.k,i.v,s)}}};ot.prototype.prune=function(){var t=this;this[sn].forEach(function(e,r){_A(t,r,!1)})};function _A(t,e,r){var i=t[sn].get(e);if(i){var n=i.value;bd(t,n)?(Ll(t,i),t[Pl]||(n=void 0)):r&&t[Wt].unshiftNode(i),n&&(n=n.value)}return n}function bd(t,e){if(!e||!e.maxAge&&!t[zo])return!1;var r=!1,i=Date.now()-e.now;return e.maxAge?r=i>e.maxAge:r=t[zo]&&i>t[zo],r}function yd(t){if(t[ts]>t[Ms])for(var e=t[Wt].tail;t[ts]>t[Ms]&&e!==null;){var r=e.prev;Ll(t,e),e=r}}function Ll(t,e){if(e){var r=e.value;t[$s]&&t[$s](r.key,r.value),t[ts]-=r.length,t[sn].delete(r.key),t[Wt].removeNode(e)}}function pie(t,e,r,i,n){this.key=t,this.value=e,this.length=r,this.now=i,this.maxAge=n||0}});var HF=v((Sxe,gF)=>{gF.exports=mF;mF.sync=die;var IA=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",pF=w("path"),fie=IA?";":":",fF=zv();function dF(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function hF(t,e){var r=e.colon||fie,i=e.path||process.env.PATH||"",n=[""];i=i.split(r);var s="";return IA&&(i.unshift(process.cwd()),s=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",n=s.split(r),t.indexOf(".")!==-1&&n[0]!==""&&n.unshift("")),(t.match(/\//)||IA&&t.match(/\\/))&&(i=[""]),{env:i,ext:n,extExe:s}}function mF(t,e,r){typeof e=="function"&&(r=e,e={});var i=hF(t,e),n=i.env,s=i.ext,o=i.extExe,a=[];(function u(c,l){if(c===l)return e.all&&a.length?r(null,a):r(dF(t));var p=n[c];p.charAt(0)==='"'&&p.slice(-1)==='"'&&(p=p.slice(1,-1));var f=pF.join(p,t);!p&&/^\.[\\\/]/.test(t)&&(f=t.slice(0,2)+f),function g(m,y){if(m===y)return u(c+1,l);var b=s[m];fF(f+b,{pathExt:o},function(I,B){if(!I&&B)if(e.all)a.push(f+b);else return r(null,f+b);return g(m+1,y)})}(0,s.length)})(0,n.length)}function die(t,e){e=e||{};for(var r=hF(t,e),i=r.env,n=r.ext,s=r.extExe,o=[],a=0,u=i.length;a<u;a++){var c=i[a];c.charAt(0)==='"'&&c.slice(-1)==='"'&&(c=c.slice(1,-1));var l=pF.join(c,t);!c&&/^\.[\\\/]/.test(t)&&(l=t.slice(0,2)+l);for(var p=0,f=n.length;p<f;p++){var g=l+n[p],m;try{if(m=fF.sync(g,{pathExt:s}),m)if(e.all)o.push(g);else return g}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw dF(t)}});var _F=v((Exe,vF)=>{"use strict";var yF=w("path"),bF=HF(),hie=wA(),gy=new hie({max:50,maxAge:30*1e3}),mie=new RegExp(process.platform==="win32"?/[\/\\]/:/\//);function gie(t,e){var r;if(mie.test(t)&&(t=yF.resolve(t)),e=!!e,r=gy.get(t+"!"+e),gy.has(t))return gy.get(t);try{r=e?bF.sync(t,{pathExt:yF.delimiter+(process.env.PATHEXT||"")}):bF.sync(t)}catch{}return gy.set(t+"!"+e,r),r}vF.exports=gie});var SF=v((xxe,AF)=>{"use strict";var AA=w("fs"),Hie=wA(),wF=_F(),yie=process.platform==="win32",SA=new Hie({max:50,maxAge:30*1e3});function bie(t){var e,r,i,n;if(SA.has(t))return SA.get(t);e=new Buffer(150);try{r=AA.openSync(t,"r"),AA.readSync(r,e,0,150,0),AA.closeSync(r)}catch{}return i=e.toString().trim().match(/#!(.+)/i),i&&(n=i[1].replace(/\/usr\/bin\/env\s+/i,"")),SA.set(t,n),n}function IF(t,e){return t=""+t,e?(t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t='"'+t+'"'):t=t.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1"),t}function vie(t){return/^[a-z0-9_-]+$/i.test(t)?t:IF(t,!0)}function _ie(t,e,r){var i,n,s,o;return e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=r||{},o=t,yie&&(s=wF(t),s=s||wF(t,!0),i=s&&bie(s),i&&(e.unshift(s),t=i),n=t!=="echo",t=vie(t),e=e.map(function(a){return IF(a,n)}),e=["/s","/c",'"'+t+(e.length?" "+e.join(" "):"")+'"'],t=process.env.comspec||"cmd.exe",r.windowsVerbatimArguments=!0),{command:t,args:e,options:r,file:s,original:o}}AF.exports=_ie});var LF=v((Pxe,Hy)=>{"use strict";var EF=process.platform==="win32";function xF(t,e){var r;return r=new Error(e+" "+t+" ENOENT"),r.code=r.errno="ENOENT",r.syscall=e+" "+t,r}function wie(t,e){var r;EF&&(r=t.emit,t.emit=function(i,n){var s;return i==="exit"&&(s=PF(n,e,"spawn"),s)?r.call(t,"error",s):r.apply(t,arguments)})}function PF(t,e,r){return EF&&t===1&&!e.file?xF(e.original,r):null}Hy.exports.hookChildProcess=wie;Hy.exports.verifyENOENT=PF;Hy.exports.notFoundError=xF});var $F=v((Lxe,vd)=>{"use strict";var Iie=w("child_process"),CF=SF(),DF=LF();function TF(t,e,r){var i,n;return i=CF(t,e,r),n=Iie.spawn(i.command,i.args,i.options),DF.hookChildProcess(n,i),n}vd.exports=TF;vd.exports.spawn=TF;vd.exports._parse=CF;vd.exports._enoent=DF});var kF=v((Cxe,MF)=>{"use strict";MF.exports=function(t){var e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var NF=v((Dxe,OF)=>{"use strict";var RF=Object.getOwnPropertySymbols,Aie=Object.prototype.hasOwnProperty,Sie=Object.prototype.propertyIsEnumerable;function Eie(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function xie(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(i.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(s){n[s]=s}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}OF.exports=xie()?Object.assign:function(t,e){for(var r,i=Eie(t),n,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var o in r)Aie.call(r,o)&&(i[o]=r[o]);if(RF){n=RF(r);for(var a=0;a<n.length;a++)Sie.call(r,n[a])&&(i[n[a]]=r[n[a]])}}return i}});var EA=v((Txe,BF)=>{"use strict";BF.exports=function(t){t=t||{};var e=t.env||process.env,r=t.platform||process.platform;return r!=="win32"?"PATH":Object.keys(e).filter(function(i){return i.toUpperCase()==="PATH"})[0]||"Path"}});var UF=v(($xe,FF)=>{"use strict";var _d=w("path"),Pie=EA();FF.exports=function(t){t=t||{};for(var e,r=_d.resolve(t.cwd||"."),i=[];e!==r;)i.push(_d.join(r,"node_modules/.bin")),e=r,r=_d.resolve(r,"..");return i.push(_d.dirname(process.execPath)),i.concat(t.path||process.env[Pie()]).join(_d.delimiter)}});var WF=v((Mxe,wd)=>{"use strict";var Lie=w("child_process"),xA=$F(),Cie=kF(),PA=NF(),Die=UF(),jF=EA()(),Tie=1024*1024*10;wd.exports=function(t,e,r){return new Promise(function(i,n){var s=xA._parse(t,e,r);r=PA({maxBuffer:Tie,stripEof:!0,preferLocal:!0},s.options);var o=function(u){return r.stripEof&&(u=Cie(u)),u};r.preferLocal&&(r.env=PA({},r.env||process.env),r.env[jF]=Die({cwd:r.cwd,path:r.env[jF]}));var a=Lie.execFile(s.command,s.args,r,function(u,c,l){if(u){u.stdout=c,u.stderr=l,n(u);return}i({stdout:o(c),stderr:o(l)})});xA._enoent.hookChildProcess(a,s)})};wd.exports.shell=function(t,e){var r,i;return e=PA({},e),process.platform==="win32"?(r=process.env.comspec||"cmd.exe",i=["/s","/c",'"'+t+'"'],e.windowsVerbatimArguments=!0):(r="/bin/sh",i=["-c",t]),e.shell&&(r=e.shell),wd.exports(r,i,e)};wd.exports.spawn=xA});var VF=v((kxe,qF)=>{"use strict";qF.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}});var KF=v((Rxe,GF)=>{"use strict";var $ie=WF(),Mie=VF();GF.exports=function(){return process.platform!=="linux"?Promise.reject(new Error("Only Linux systems are supported")):$ie("xdg-mime",["query","default","x-scheme-handler/http"]).then(t=>{let e=t.stdout.trim();return{name:Mie(e.replace(/.desktop$/,"").replace("-"," ")),id:e}})}});var XF=v((Oxe,zF)=>{"use strict";var kie=BB(),Rie=eF();zF.exports=()=>process.platform==="linux"?KF()():process.platform==="darwin"?kie().then(t=>Rie(t).then(e=>({name:e,id:t}))):Promise.reject(new Error("Only macOS and Linux are supported"))});var Rs=v((nPe,CA)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?CA.exports={nextTick:Bie}:CA.exports=process;function Bie(t,e,r,i){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,s,o;switch(n){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,i)});default:for(s=new Array(n-1),o=0;o<s.length;)s[o++]=arguments[o];return process.nextTick(function(){t.apply(null,s)})}}});var DA=v((sPe,r2)=>{var Fie={}.toString;r2.exports=Array.isArray||function(t){return Fie.call(t)=="[object Array]"}});var TA=v((oPe,i2)=>{i2.exports=w("stream")});var Ns=v(($A,s2)=>{var wy=w("buffer"),Os=wy.Buffer;function n2(t,e){for(var r in t)e[r]=t[r]}Os.from&&Os.alloc&&Os.allocUnsafe&&Os.allocUnsafeSlow?s2.exports=wy:(n2(wy,$A),$A.Buffer=Dl);function Dl(t,e,r){return Os(t,e,r)}n2(Os,Dl);Dl.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Os(t,e,r)};Dl.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Os(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};Dl.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Os(t)};Dl.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return wy.SlowBuffer(t)}});var an=v(vr=>{function Uie(t){return Array.isArray?Array.isArray(t):Iy(t)==="[object Array]"}vr.isArray=Uie;function jie(t){return typeof t=="boolean"}vr.isBoolean=jie;function Wie(t){return t===null}vr.isNull=Wie;function qie(t){return t==null}vr.isNullOrUndefined=qie;function Vie(t){return typeof t=="number"}vr.isNumber=Vie;function Gie(t){return typeof t=="string"}vr.isString=Gie;function Kie(t){return typeof t=="symbol"}vr.isSymbol=Kie;function zie(t){return t===void 0}vr.isUndefined=zie;function Xie(t){return Iy(t)==="[object RegExp]"}vr.isRegExp=Xie;function Jie(t){return typeof t=="object"&&t!==null}vr.isObject=Jie;function Yie(t){return Iy(t)==="[object Date]"}vr.isDate=Yie;function Qie(t){return Iy(t)==="[object Error]"||t instanceof Error}vr.isError=Qie;function Zie(t){return typeof t=="function"}vr.isFunction=Zie;function ene(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}vr.isPrimitive=ene;vr.isBuffer=Buffer.isBuffer;function Iy(t){return Object.prototype.toString.call(t)}});var o2=v((uPe,MA)=>{typeof Object.create=="function"?MA.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:MA.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var qt=v((cPe,RA)=>{try{if(kA=w("util"),typeof kA.inherits!="function")throw"";RA.exports=kA.inherits}catch{RA.exports=o2()}var kA});var u2=v((lPe,OA)=>{"use strict";function tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a2=Ns().Buffer,Id=w("util");function rne(t,e,r){t.copy(e,r)}OA.exports=function(){function t(){tne(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},t.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n},t.prototype.concat=function(r){if(this.length===0)return a2.alloc(0);if(this.length===1)return this.head.data;for(var i=a2.allocUnsafe(r>>>0),n=this.head,s=0;n;)rne(n.data,i,s),s+=n.data.length,n=n.next;return i},t}();Id&&Id.inspect&&Id.inspect.custom&&(OA.exports.prototype[Id.inspect.custom]=function(){var t=Id.inspect({length:this.length});return this.constructor.name+" "+t})});var NA=v((pPe,p2)=>{"use strict";var c2=Rs();function ine(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&c2.nextTick(l2,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?(c2.nextTick(l2,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(s)}),this)}function nne(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l2(t,e){t.emit("error",e)}p2.exports={destroy:ine,undestroy:nne}});var Ay=v((fPe,f2)=>{f2.exports=w("util").deprecate});var FA=v((dPe,v2)=>{"use strict";var mu=Rs();v2.exports=Mt;function h2(t){var e=this;this.next=null,this.entry=null,this.finish=function(){wne(e,t)}}var sne=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:mu.nextTick,Tl;Mt.WritableState=Sd;var m2=Object.create(an());m2.inherits=qt();var one={deprecate:Ay()},g2=TA(),Ey=Ns().Buffer,ane=global.Uint8Array||function(){};function une(t){return Ey.from(t)}function cne(t){return Ey.isBuffer(t)||t instanceof ane}var H2=NA();m2.inherits(Mt,g2);function lne(){}function Sd(t,e){Tl=Tl||gu(),t=t||{};var r=e instanceof Tl;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,n=t.writableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Hne(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new h2(this)}Sd.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Sd.prototype,"buffer",{get:one.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Sy;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Sy=Function.prototype[Symbol.hasInstance],Object.defineProperty(Mt,Symbol.hasInstance,{value:function(t){return Sy.call(this,t)?!0:this!==Mt?!1:t&&t._writableState instanceof Sd}})):Sy=function(t){return t instanceof this};function Mt(t){if(Tl=Tl||gu(),!Sy.call(Mt,this)&&!(this instanceof Tl))return new Mt(t);this._writableState=new Sd(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),g2.call(this)}Mt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function pne(t,e){var r=new Error("write after end");t.emit("error",r),mu.nextTick(e,r)}function fne(t,e,r,i){var n=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),mu.nextTick(i,s),n=!1),n}Mt.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&cne(t);return s&&!Ey.isBuffer(t)&&(t=une(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=lne),i.ended?pne(this,r):(s||fne(this,i,t,r))&&(i.pendingcb++,n=hne(this,i,s,t,e,r)),n};Mt.prototype.cork=function(){var t=this._writableState;t.corked++};Mt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&y2(this,t))};Mt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function dne(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Ey.from(e,r)),e}Object.defineProperty(Mt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function hne(t,e,r,i,n,s){if(!r){var o=dne(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else BA(t,e,!1,a,i,n,s);return u}function BA(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function mne(t,e,r,i,n){--e.pendingcb,r?(mu.nextTick(n,i),mu.nextTick(Ad,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(n(i),t._writableState.errorEmitted=!0,t.emit("error",i),Ad(t,e))}function gne(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Hne(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(gne(r),e)mne(t,r,i,e,n);else{var s=b2(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&y2(t,r),i?sne(d2,t,r,s,n):d2(t,r,s,n)}}function d2(t,e,r,i){r||yne(t,e),e.pendingcb--,i(),Ad(t,e)}function yne(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function y2(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,BA(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new h2(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(BA(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Mt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Mt.prototype._writev=null;Mt.prototype.end=function(t,e,r){var i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),!i.ending&&!i.finished&&_ne(this,i,r)};function b2(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function bne(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Ad(t,e)})}function vne(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,mu.nextTick(bne,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Ad(t,e){var r=b2(e);return r&&(vne(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function _ne(t,e,r){e.ending=!0,Ad(t,e),r&&(e.finished?mu.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function wne(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(Mt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Mt.prototype.destroy=H2.destroy;Mt.prototype._undestroy=H2.undestroy;Mt.prototype._destroy=function(t,e){this.end(),e(t)}});var gu=v((hPe,A2)=>{"use strict";var _2=Rs(),Ine=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};A2.exports=Bs;var w2=Object.create(an());w2.inherits=qt();var I2=WA(),jA=FA();w2.inherits(Bs,I2);for(UA=Ine(jA.prototype),xy=0;xy<UA.length;xy++)Py=UA[xy],Bs.prototype[Py]||(Bs.prototype[Py]=jA.prototype[Py]);var UA,Py,xy;function Bs(t){if(!(this instanceof Bs))return new Bs(t);I2.call(this,t),jA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ane)}Object.defineProperty(Bs.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ane(){this.allowHalfOpen||this._writableState.ended||_2.nextTick(Sne,this)}function Sne(t){t.end()}Object.defineProperty(Bs.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Bs.prototype._destroy=function(t,e){this.push(null),this.end(),_2.nextTick(e,t)}});var GA=v(E2=>{"use strict";var VA=Ns().Buffer,S2=VA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ene(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function xne(t){var e=Ene(t);if(typeof e!="string"&&(VA.isEncoding===S2||!S2(t)))throw new Error("Unknown encoding: "+t);return e||t}E2.StringDecoder=Ed;function Ed(t){this.encoding=xne(t);var e;switch(this.encoding){case"utf16le":this.text=$ne,this.end=Mne,e=4;break;case"utf8":this.fillLast=Cne,e=4;break;case"base64":this.text=kne,this.end=Rne,e=3;break;default:this.write=One,this.end=Nne;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=VA.allocUnsafe(e)}Ed.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ed.prototype.end=Tne;Ed.prototype.text=Dne;Ed.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function qA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Pne(t,e,r){var i=e.length-1;if(i<r)return 0;var n=qA(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=qA(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=qA(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Lne(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Cne(t){var e=this.lastTotal-this.lastNeed,r=Lne(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Dne(t,e){var r=Pne(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function Tne(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function $ne(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Mne(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function kne(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Rne(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function One(t){return t.toString(this.encoding)}function Nne(t){return t&&t.length?this.write(t):""}});var WA=v((HPe,N2)=>{"use strict";var Ml=Rs();N2.exports=at;var Bne=DA(),xd;at.ReadableState=$2;var gPe=w("events").EventEmitter,C2=function(t,e){return t.listeners(e).length},YA=TA(),Pd=Ns().Buffer,Fne=global.Uint8Array||function(){};function Une(t){return Pd.from(t)}function jne(t){return Pd.isBuffer(t)||t instanceof Fne}var D2=Object.create(an());D2.inherits=qt();var KA=w("util"),We=void 0;KA&&KA.debuglog?We=KA.debuglog("stream"):We=function(){};var Wne=u2(),T2=NA(),$l;D2.inherits(at,YA);var zA=["error","close","destroy","pause","resume"];function qne(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Bne(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function $2(t,e){xd=xd||gu(),t=t||{};var r=e instanceof xd;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,n=t.readableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Wne,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&($l||($l=GA().StringDecoder),this.decoder=new $l(t.encoding),this.encoding=t.encoding)}function at(t){if(xd=xd||gu(),!(this instanceof at))return new at(t);this._readableState=new $2(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),YA.call(this)}Object.defineProperty(at.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});at.prototype.destroy=T2.destroy;at.prototype._undestroy=T2.undestroy;at.prototype._destroy=function(t,e){this.push(null),e(t)};at.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Pd.from(t,e),e=""),i=!0),M2(this,t,e,!1,i)};at.prototype.unshift=function(t){return M2(this,t,null,!0,!1)};function M2(t,e,r,i,n){var s=t._readableState;if(e===null)s.reading=!1,zne(t,s);else{var o;n||(o=Vne(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Pd.prototype&&(e=Une(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):XA(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?XA(t,s,e,!1):k2(t,s)):XA(t,s,e,!1))):i||(s.reading=!1)}return Gne(s)}function XA(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Ly(t)),k2(t,e)}function Vne(t,e){var r;return!jne(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Gne(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}at.prototype.isPaused=function(){return this._readableState.flowing===!1};at.prototype.setEncoding=function(t){return $l||($l=GA().StringDecoder),this._readableState.decoder=new $l(t),this._readableState.encoding=t,this};var x2=8388608;function Kne(t){return t>=x2?t=x2:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function P2(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Kne(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}at.prototype.read=function(t){We("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return We("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?JA(this):Ly(this),null;if(t=P2(t,e),t===0&&e.ended)return e.length===0&&JA(this),null;var i=e.needReadable;We("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,We("length less than watermark",i)),e.ended||e.reading?(i=!1,We("reading or ended",i)):i&&(We("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=P2(r,e)));var n;return t>0?n=R2(t,e):n=null,n===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&JA(this)),n!==null&&this.emit("data",n),n};function zne(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Ly(t)}}function Ly(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(We("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Ml.nextTick(L2,t):L2(t))}function L2(t){We("emit readable"),t.emit("readable"),QA(t)}function k2(t,e){e.readingMore||(e.readingMore=!0,Ml.nextTick(Xne,t,e))}function Xne(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(We("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}at.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};at.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,We("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:b;i.endEmitted?Ml.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(I,B){We("onunpipe"),I===r&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,l())}function a(){We("onend"),t.end()}var u=Jne(r);t.on("drain",u);var c=!1;function l(){We("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",f),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var p=!1;r.on("data",f);function f(I){We("ondata"),p=!1;var B=t.write(I);B===!1&&!p&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&O2(i.pipes,t)!==-1)&&!c&&(We("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(I){We("onerror",I),b(),t.removeListener("error",g),C2(t,"error")===0&&t.emit("error",I)}qne(t,"error",g);function m(){t.removeListener("finish",y),b()}t.once("close",m);function y(){We("onfinish"),t.removeListener("close",m),b()}t.once("finish",y);function b(){We("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(We("pipe resume"),r.resume()),t};function Jne(t){return function(){var e=t._readableState;We("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&C2(t,"data")&&(e.flowing=!0,QA(t))}}at.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,r);return this}var o=O2(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};at.prototype.on=function(t,e){var r=YA.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&Ly(this):Ml.nextTick(Yne,this))}return r};at.prototype.addListener=at.prototype.on;function Yne(t){We("readable nexttick read 0"),t.read(0)}at.prototype.resume=function(){var t=this._readableState;return t.flowing||(We("resume"),t.flowing=!0,Qne(this,t)),this};function Qne(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ml.nextTick(Zne,t,e))}function Zne(t,e){e.reading||(We("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),QA(t),e.flowing&&!e.reading&&t.read(0)}at.prototype.pause=function(){return We("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(We("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function QA(t){var e=t._readableState;for(We("flow",e.flowing);e.flowing&&t.read()!==null;);}at.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(We("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(We("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(o){return function(){return t[o].apply(t,arguments)}}(n));for(var s=0;s<zA.length;s++)t.on(zA[s],this.emit.bind(this,zA[s]));return this._read=function(o){We("wrapped _read",o),i&&(i=!1,t.resume())},this};Object.defineProperty(at.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});at._fromList=R2;function R2(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=ese(t,e.buffer,e.decoder),r}function ese(t,e,r){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?i=e.shift():i=r?tse(t,e):rse(t,e),i}function tse(t,e){var r=e.head,i=1,n=r.data;for(t-=n.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),t-=o,t===0){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}function rse(t,e){var r=Pd.allocUnsafe(t),i=e.head,n=1;for(i.data.copy(r),t-=i.data.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++n}return e.length-=n,r}function JA(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Ml.nextTick(ise,e,t))}function ise(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function O2(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var ZA=v((yPe,U2)=>{"use strict";U2.exports=Fs;var Cy=gu(),F2=Object.create(an());F2.inherits=qt();F2.inherits(Fs,Cy);function nse(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Fs(t){if(!(this instanceof Fs))return new Fs(t);Cy.call(this,t),this._transformState={afterTransform:nse.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",sse)}function sse(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){B2(t,e,r)}):B2(this,null,null)}Fs.prototype.push=function(t,e){return this._transformState.needTransform=!1,Cy.prototype.push.call(this,t,e)};Fs.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Fs.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Fs.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Fs.prototype._destroy=function(t,e){var r=this;Cy.prototype._destroy.call(this,t,function(i){e(i),r.emit("close")})};function B2(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var V2=v((bPe,q2)=>{"use strict";q2.exports=Ld;var j2=ZA(),W2=Object.create(an());W2.inherits=qt();W2.inherits(Ld,j2);function Ld(t){if(!(this instanceof Ld))return new Ld(t);j2.call(this,t)}Ld.prototype._transform=function(t,e,r){r(null,t)}});var G2=v((ar,Dy)=>{var rs=w("stream");process.env.READABLE_STREAM==="disable"&&rs?(Dy.exports=rs,ar=Dy.exports=rs.Readable,ar.Readable=rs.Readable,ar.Writable=rs.Writable,ar.Duplex=rs.Duplex,ar.Transform=rs.Transform,ar.PassThrough=rs.PassThrough,ar.Stream=rs):(ar=Dy.exports=WA(),ar.Stream=rs||ar,ar.Readable=ar,ar.Writable=FA(),ar.Duplex=gu(),ar.Transform=ZA(),ar.PassThrough=V2())});var X2=v((vPe,z2)=>{var K2=G2(),ose=w("util");function ase(t){return!(typeof t.pipe!="function"||!t.readable||typeof t._read!="function"||!t._readableState)}function use(t,e){if(!ase(e))throw new Error("All input streams must be readable");var r=this;e._buffer=[],e.on("readable",function(){for(var i=e.read();i;)this===t[0]?r.push(i):this._buffer.push(i),i=e.read()}),e.on("end",function(){for(var i=t[0];i&&i._readableState.ended;i=t[0]){for(;i._buffer.length;)r.push(i._buffer.shift());t.shift()}t.length||r.push(null)}),e.on("error",this.emit.bind(this,"error")),t.push(e)}function Cd(t,e){if(!(this instanceof Cd))return new Cd(t,e);if(t=t||[],e=e||{},e.objectMode=!0,K2.call(this,e),Array.isArray(t)||(t=[t]),!t.length)return this.push(null);var r=use.bind(this,[]);t.forEach(function(i){Array.isArray(i)?i.forEach(r):r(i)})}ose.inherits(Cd,K2);Cd.prototype._read=function(){};z2.exports=Cd});var eS=v((_Pe,J2)=>{J2.exports=w("stream")});var Q2=v((wPe,tS)=>{"use strict";function cse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Y2=Ns().Buffer,Dd=w("util");function lse(t,e,r){t.copy(e,r)}tS.exports=function(){function t(){cse(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length},t.prototype.unshift=function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n},t.prototype.concat=function(r){if(this.length===0)return Y2.alloc(0);if(this.length===1)return this.head.data;for(var i=Y2.allocUnsafe(r>>>0),n=this.head,s=0;n;)lse(n.data,i,s),s+=n.data.length,n=n.next;return i},t}();Dd&&Dd.inspect&&Dd.inspect.custom&&(tS.exports.prototype[Dd.inspect.custom]=function(){var t=Dd.inspect({length:this.length});return this.constructor.name+" "+t})});var rS=v((IPe,t3)=>{"use strict";var Z2=Rs();function pse(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&Z2.nextTick(e3,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?(Z2.nextTick(e3,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(s)}),this)}function fse(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function e3(t,e){t.emit("error",e)}t3.exports={destroy:pse,undestroy:fse}});var nS=v((APe,c3)=>{"use strict";var Hu=Rs();c3.exports=kt;function i3(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Cse(e,t)}}var dse=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:Hu.nextTick,kl;kt.WritableState=$d;var n3=an();n3.inherits=qt();var hse={deprecate:Ay()},s3=eS(),$y=Ns().Buffer,mse=global.Uint8Array||function(){};function gse(t){return $y.from(t)}function Hse(t){return $y.isBuffer(t)||t instanceof mse}var o3=rS();n3.inherits(kt,s3);function yse(){}function $d(t,e){kl=kl||yu(),t=t||{};var r=e instanceof kl;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,n=t.writableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Sse(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i3(this)}$d.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty($d.prototype,"buffer",{get:hse.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ty;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ty=Function.prototype[Symbol.hasInstance],Object.defineProperty(kt,Symbol.hasInstance,{value:function(t){return Ty.call(this,t)?!0:this!==kt?!1:t&&t._writableState instanceof $d}})):Ty=function(t){return t instanceof this};function kt(t){if(kl=kl||yu(),!Ty.call(kt,this)&&!(this instanceof kl))return new kt(t);this._writableState=new $d(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),s3.call(this)}kt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function bse(t,e){var r=new Error("write after end");t.emit("error",r),Hu.nextTick(e,r)}function vse(t,e,r,i){var n=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),Hu.nextTick(i,s),n=!1),n}kt.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&Hse(t);return s&&!$y.isBuffer(t)&&(t=gse(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=yse),i.ended?bse(this,r):(s||vse(this,i,t,r))&&(i.pendingcb++,n=wse(this,i,s,t,e,r)),n};kt.prototype.cork=function(){var t=this._writableState;t.corked++};kt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&a3(this,t))};kt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function _se(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=$y.from(e,r)),e}Object.defineProperty(kt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function wse(t,e,r,i,n,s){if(!r){var o=_se(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else iS(t,e,!1,a,i,n,s);return u}function iS(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function Ise(t,e,r,i,n){--e.pendingcb,r?(Hu.nextTick(n,i),Hu.nextTick(Td,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(n(i),t._writableState.errorEmitted=!0,t.emit("error",i),Td(t,e))}function Ase(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Sse(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(Ase(r),e)Ise(t,r,i,e,n);else{var s=u3(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&a3(t,r),i?dse(r3,t,r,s,n):r3(t,r,s,n)}}function r3(t,e,r,i){r||Ese(t,e),e.pendingcb--,i(),Td(t,e)}function Ese(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function a3(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,iS(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new i3(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(iS(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}kt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};kt.prototype._writev=null;kt.prototype.end=function(t,e,r){var i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),!i.ending&&!i.finished&&Lse(this,i,r)};function u3(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function xse(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Td(t,e)})}function Pse(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,Hu.nextTick(xse,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Td(t,e){var r=u3(e);return r&&(Pse(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function Lse(t,e,r){e.ending=!0,Td(t,e),r&&(e.finished?Hu.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Cse(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(kt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});kt.prototype.destroy=o3.destroy;kt.prototype._undestroy=o3.undestroy;kt.prototype._destroy=function(t,e){this.end(),e(t)}});var yu=v((SPe,d3)=>{"use strict";var l3=Rs(),Dse=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};d3.exports=Us;var p3=an();p3.inherits=qt();var f3=aS(),oS=nS();p3.inherits(Us,f3);for(sS=Dse(oS.prototype),My=0;My<sS.length;My++)ky=sS[My],Us.prototype[ky]||(Us.prototype[ky]=oS.prototype[ky]);var sS,ky,My;function Us(t){if(!(this instanceof Us))return new Us(t);f3.call(this,t),oS.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Tse)}Object.defineProperty(Us.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Tse(){this.allowHalfOpen||this._writableState.ended||l3.nextTick($se,this)}function $se(t){t.end()}Object.defineProperty(Us.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Us.prototype._destroy=function(t,e){this.push(null),this.end(),l3.nextTick(e,t)}});var lS=v(m3=>{"use strict";var cS=Ns().Buffer,h3=cS.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Mse(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function kse(t){var e=Mse(t);if(typeof e!="string"&&(cS.isEncoding===h3||!h3(t)))throw new Error("Unknown encoding: "+t);return e||t}m3.StringDecoder=Md;function Md(t){this.encoding=kse(t);var e;switch(this.encoding){case"utf16le":this.text=Use,this.end=jse,e=4;break;case"utf8":this.fillLast=Nse,e=4;break;case"base64":this.text=Wse,this.end=qse,e=3;break;default:this.write=Vse,this.end=Gse;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=cS.allocUnsafe(e)}Md.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Md.prototype.end=Fse;Md.prototype.text=Bse;Md.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function uS(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Rse(t,e,r){var i=e.length-1;if(i<r)return 0;var n=uS(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=uS(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=uS(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Ose(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Nse(t){var e=this.lastTotal-this.lastNeed,r=Ose(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Bse(t,e){var r=Rse(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function Fse(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Use(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function jse(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Wse(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function qse(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Vse(t){return t.toString(this.encoding)}function Gse(t){return t&&t.length?this.write(t):""}});var aS=v((PPe,x3)=>{"use strict";var Ol=Rs();x3.exports=ut;var Kse=DA(),kd;ut.ReadableState=w3;var xPe=w("events").EventEmitter,b3=function(t,e){return t.listeners(e).length},mS=eS(),Rd=Ns().Buffer,zse=global.Uint8Array||function(){};function Xse(t){return Rd.from(t)}function Jse(t){return Rd.isBuffer(t)||t instanceof zse}var v3=an();v3.inherits=qt();var pS=w("util"),qe=void 0;pS&&pS.debuglog?qe=pS.debuglog("stream"):qe=function(){};var Yse=Q2(),_3=rS(),Rl;v3.inherits(ut,mS);var fS=["error","close","destroy","pause","resume"];function Qse(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Kse(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function w3(t,e){kd=kd||yu(),t=t||{};var r=e instanceof kd;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,n=t.readableHighWaterMark,s=this.objectMode?16:16*1024;i||i===0?this.highWaterMark=i:r&&(n||n===0)?this.highWaterMark=n:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Yse,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Rl||(Rl=lS().StringDecoder),this.decoder=new Rl(t.encoding),this.encoding=t.encoding)}function ut(t){if(kd=kd||yu(),!(this instanceof ut))return new ut(t);this._readableState=new w3(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),mS.call(this)}Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});ut.prototype.destroy=_3.destroy;ut.prototype._undestroy=_3.undestroy;ut.prototype._destroy=function(t,e){this.push(null),e(t)};ut.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Rd.from(t,e),e=""),i=!0),I3(this,t,e,!1,i)};ut.prototype.unshift=function(t){return I3(this,t,null,!0,!1)};function I3(t,e,r,i,n){var s=t._readableState;if(e===null)s.reading=!1,roe(t,s);else{var o;n||(o=Zse(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Rd.prototype&&(e=Xse(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):dS(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?dS(t,s,e,!1):A3(t,s)):dS(t,s,e,!1))):i||(s.reading=!1)}return eoe(s)}function dS(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Ry(t)),A3(t,e)}function Zse(t,e){var r;return!Jse(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function eoe(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}ut.prototype.isPaused=function(){return this._readableState.flowing===!1};ut.prototype.setEncoding=function(t){return Rl||(Rl=lS().StringDecoder),this._readableState.decoder=new Rl(t),this._readableState.encoding=t,this};var g3=8388608;function toe(t){return t>=g3?t=g3:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function H3(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=toe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ut.prototype.read=function(t){qe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return qe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?hS(this):Ry(this),null;if(t=H3(t,e),t===0&&e.ended)return e.length===0&&hS(this),null;var i=e.needReadable;qe("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,qe("length less than watermark",i)),e.ended||e.reading?(i=!1,qe("reading or ended",i)):i&&(qe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=H3(r,e)));var n;return t>0?n=S3(t,e):n=null,n===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&hS(this)),n!==null&&this.emit("data",n),n};function roe(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Ry(t)}}function Ry(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(qe("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Ol.nextTick(y3,t):y3(t))}function y3(t){qe("emit readable"),t.emit("readable"),gS(t)}function A3(t,e){e.readingMore||(e.readingMore=!0,Ol.nextTick(ioe,t,e))}function ioe(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(qe("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}ut.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};ut.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,qe("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:b;i.endEmitted?Ol.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(I,B){qe("onunpipe"),I===r&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,l())}function a(){qe("onend"),t.end()}var u=noe(r);t.on("drain",u);var c=!1;function l(){qe("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",f),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var p=!1;r.on("data",f);function f(I){qe("ondata"),p=!1;var B=t.write(I);B===!1&&!p&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&E3(i.pipes,t)!==-1)&&!c&&(qe("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(I){qe("onerror",I),b(),t.removeListener("error",g),b3(t,"error")===0&&t.emit("error",I)}Qse(t,"error",g);function m(){t.removeListener("finish",y),b()}t.once("close",m);function y(){qe("onfinish"),t.removeListener("close",m),b()}t.once("finish",y);function b(){qe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(qe("pipe resume"),r.resume()),t};function noe(t){return function(){var e=t._readableState;qe("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&b3(t,"data")&&(e.flowing=!0,gS(t))}}ut.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,r);return this}var o=E3(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ut.prototype.on=function(t,e){var r=mS.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var i=this._readableState;!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&Ry(this):Ol.nextTick(soe,this))}return r};ut.prototype.addListener=ut.prototype.on;function soe(t){qe("readable nexttick read 0"),t.read(0)}ut.prototype.resume=function(){var t=this._readableState;return t.flowing||(qe("resume"),t.flowing=!0,ooe(this,t)),this};function ooe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Ol.nextTick(aoe,t,e))}function aoe(t,e){e.reading||(qe("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),gS(t),e.flowing&&!e.reading&&t.read(0)}ut.prototype.pause=function(){return qe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(qe("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function gS(t){var e=t._readableState;for(qe("flow",e.flowing);e.flowing&&t.read()!==null;);}ut.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(qe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(qe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(o){return function(){return t[o].apply(t,arguments)}}(n));for(var s=0;s<fS.length;s++)t.on(fS[s],this.emit.bind(this,fS[s]));return this._read=function(o){qe("wrapped _read",o),i&&(i=!1,t.resume())},this};Object.defineProperty(ut.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});ut._fromList=S3;function S3(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=uoe(t,e.buffer,e.decoder),r}function uoe(t,e,r){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?i=e.shift():i=r?coe(t,e):loe(t,e),i}function coe(t,e){var r=e.head,i=1,n=r.data;for(t-=n.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),t-=o,t===0){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}function loe(t,e){var r=Rd.allocUnsafe(t),i=e.head,n=1;for(i.data.copy(r),t-=i.data.length;i=i.next;){var s=i.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(o));break}++n}return e.length-=n,r}function hS(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Ol.nextTick(poe,e,t))}function poe(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function E3(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var HS=v((LPe,C3)=>{"use strict";C3.exports=js;var Oy=yu(),L3=an();L3.inherits=qt();L3.inherits(js,Oy);function foe(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function js(t){if(!(this instanceof js))return new js(t);Oy.call(this,t),this._transformState={afterTransform:foe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",doe)}function doe(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){P3(t,e,r)}):P3(this,null,null)}js.prototype.push=function(t,e){return this._transformState.needTransform=!1,Oy.prototype.push.call(this,t,e)};js.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};js.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};js.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};js.prototype._destroy=function(t,e){var r=this;Oy.prototype._destroy.call(this,t,function(i){e(i),r.emit("close")})};function P3(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var M3=v((CPe,$3)=>{"use strict";$3.exports=Od;var D3=HS(),T3=an();T3.inherits=qt();T3.inherits(Od,D3);function Od(t){if(!(this instanceof Od))return new Od(t);D3.call(this,t)}Od.prototype._transform=function(t,e,r){r(null,t)}});var k3=v((ur,Ny)=>{var is=w("stream");process.env.READABLE_STREAM==="disable"&&is?(Ny.exports=is,ur=Ny.exports=is.Readable,ur.Readable=is.Readable,ur.Writable=is.Writable,ur.Duplex=is.Duplex,ur.Transform=is.Transform,ur.PassThrough=is.PassThrough,ur.Stream=is):(ur=Ny.exports=aS(),ur.Stream=is||ur,ur.Readable=ur,ur.Writable=nS(),ur.Duplex=yu(),ur.Transform=HS(),ur.PassThrough=M3())});var yS=v((DPe,R3)=>{R3.exports=moe;var hoe=Object.prototype.hasOwnProperty;function moe(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)hoe.call(r,i)&&(t[i]=r[i])}return t}});var F3=v((TPe,By)=>{var O3=k3().Transform,N3=w("util").inherits,B3=yS();function Nl(t){O3.call(this,t),this._destroyed=!1}N3(Nl,O3);Nl.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};function goe(t,e,r){r(null,t)}function bS(t){return function(e,r,i){return typeof e=="function"&&(i=r,r=e,e={}),typeof r!="function"&&(r=goe),typeof i!="function"&&(i=null),t(e,r,i)}}By.exports=bS(function(t,e,r){var i=new Nl(t);return i._transform=e,r&&(i._flush=r),i});By.exports.ctor=bS(function(t,e,r){function i(n){if(!(this instanceof i))return new i(n);this.options=B3(t,n),Nl.call(this,this.options)}return N3(i,Nl),i.prototype._transform=e,r&&(i.prototype._flush=r),i});By.exports.obj=bS(function(t,e,r){var i=new Nl(B3({objectMode:!0,highWaterMark:16},t));return i._transform=e,r&&(i._flush=r),i})});var W3=v(($Pe,Nd)=>{"use strict";Nd.exports=j3;Nd.exports.ctor=vS;Nd.exports.objCtor=yoe;Nd.exports.obj=boe;var Hoe=F3(),U3=yS();function vS(t,e){typeof t=="function"&&(e=t,t={});var r=Hoe.ctor(t,function(i,n,s){this.options.wantStrings&&(i=i.toString());try{return e.call(this,i,this._index++)&&this.push(i),s()}catch(o){return s(o)}});return r.prototype._index=0,r}function yoe(t,e){return typeof t=="function"&&(e=t,t={}),t=U3({objectMode:!0,highWaterMark:16},t),vS(t,e)}function j3(t,e){return vS(t,e)()}function boe(t,e){return typeof t=="function"&&(e=t,t={}),t=U3({objectMode:!0,highWaterMark:16},t),j3(t,e)}});var V3=v((MPe,q3)=>{q3.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=e.space||"";typeof r=="number"&&(r=Array(r+1).join(" "));var i=typeof e.cycles=="boolean"?e.cycles:!1,n=e.replacer||function(a,u){return u},s=e.cmp&&function(a){return function(u){return function(c,l){var p={key:c,value:u[c]},f={key:l,value:u[l]};return a(p,f)}}}(e.cmp),o=[];return function a(u,c,l,p){var f=r?`
`+new Array(p+1).join(r):"",g=r?": ":":";if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l=n.call(u,c,l),l!==void 0){if(typeof l!="object"||l===null)return JSON.stringify(l);if(voe(l)){for(var m=[],y=0;y<l.length;y++){var b=a(l,y,l[y],p+1)||JSON.stringify(null);m.push(f+r+b)}return"["+m.join(",")+f+"]"}else{if(o.indexOf(l)!==-1){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else o.push(l);for(var I=_oe(l).sort(s&&s(l)),m=[],y=0;y<I.length;y++){var c=I[y],B=a(l,c,l[c],p+1);if(B){var W=JSON.stringify(c)+g+B;m.push(f+r+W)}}return o.splice(o.indexOf(l),1),"{"+m.join(",")+f+"}"}}}({"":t},"",t,0)};var voe=Array.isArray||function(t){return{}.toString.call(t)==="[object Array]"},_oe=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var i in t)e.call(t,i)&&r.push(i);return r}});var K3=v((kPe,G3)=>{"use strict";var woe=W3().obj,Ioe=V3(),_S;typeof global.Set=="function"?_S=global.Set:_S=function(){this.keys=[],this.has=function(t){return this.keys.indexOf(t)!==-1},this.add=function(t){this.keys.push(t)}};function Aoe(t){return function(e){return e[t]}}G3.exports=Soe;function Soe(t,e){e=e||new _S;var r=Ioe;return typeof t=="string"?r=Aoe(t):typeof t=="function"&&(r=t),woe(function(i){var n=r(i);return e.has(n)?!1:(e.add(n),!0)})}});var J3=v((RPe,X3)=>{var Eoe=Hl(),xoe=FH(),wS=w("fs"),Bd=function(){},Poe=/^v?\.0/.test(process.version),Fy=function(t){return typeof t=="function"},Loe=function(t){return!Poe||!wS?!1:(t instanceof(wS.ReadStream||Bd)||t instanceof(wS.WriteStream||Bd))&&Fy(t.close)},Coe=function(t){return t.setHeader&&Fy(t.abort)},Doe=function(t,e,r,i){i=Eoe(i);var n=!1;t.on("close",function(){n=!0}),xoe(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,Loe(t))return t.close(Bd);if(Coe(t))return t.abort();if(Fy(t.destroy))return t.destroy();i(o||new Error("stream was destroyed"))}}},z3=function(t){t()},Toe=function(t,e){return t.pipe(e)},$oe=function(){var t=Array.prototype.slice.call(arguments),e=Fy(t[t.length-1]||Bd)&&t.pop()||Bd;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,i=t.map(function(n,s){var o=s<t.length-1,a=s>0;return Doe(n,o,a,function(u){r||(r=u),u&&i.forEach(z3),!o&&(i.forEach(z3),e(r))})});return t.reduce(Toe)};X3.exports=$oe});var IS=v((OPe,Y3)=>{Y3.exports=w("stream")});var tU=v((NPe,eU)=>{"use strict";function Q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Moe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(r),!0).forEach(function(i){koe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function koe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z3(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ooe(t,e,r){return e&&Z3(t.prototype,e),r&&Z3(t,r),t}var Noe=w("buffer"),Uy=Noe.Buffer,Boe=w("util"),AS=Boe.inspect,Foe=AS&&AS.custom||"inspect";function Uoe(t,e,r){Uy.prototype.copy.call(t,e,r)}eU.exports=function(){function t(){Roe(this,t),this.head=null,this.tail=null,this.length=0}return Ooe(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Uy.alloc(0);for(var i=Uy.allocUnsafe(r>>>0),n=this.head,s=0;n;)Uoe(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=Uy.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,a),r-=a,r===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:Foe,value:function(r,i){return AS(this,Moe({},i,{depth:0,customInspect:!1}))}}]),t}()});var ES=v((BPe,iU)=>{"use strict";function joe(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(SS,this,t)):process.nextTick(SS,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(jy,r):(r._writableState.errorEmitted=!0,process.nextTick(rU,r,s)):process.nextTick(rU,r,s):e?(process.nextTick(jy,r),e(s)):process.nextTick(jy,r)}),this)}function rU(t,e){SS(t,e),jy(t)}function jy(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Woe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function SS(t,e){t.emit("error",e)}function qoe(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}iU.exports={destroy:joe,undestroy:Woe,errorOrDestroy:qoe}});var Xo=v((FPe,oU)=>{"use strict";var sU={};function ki(t,e,r){r||(r=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}class n extends r{constructor(o,a,u){super(i(o,a,u))}}n.prototype.name=r.name,n.prototype.code=t,sU[t]=n}function nU(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(i=>String(i)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function Voe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Goe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Koe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ki("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ki("ERR_INVALID_ARG_TYPE",function(t,e,r){let i;typeof e=="string"&&Voe(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";let n;if(Goe(t," argument"))n=`The ${t} ${i} ${nU(e,"type")}`;else{let s=Koe(t,".")?"property":"argument";n=`The "${t}" ${s} ${i} ${nU(e,"type")}`}return n+=`. Received type ${typeof r}`,n},TypeError);ki("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ki("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ki("ERR_STREAM_PREMATURE_CLOSE","Premature close");ki("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ki("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ki("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ki("ERR_STREAM_WRITE_AFTER_END","write after end");ki("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ki("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ki("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");oU.exports.codes=sU});var xS=v((UPe,aU)=>{"use strict";var zoe=Xo().codes.ERR_INVALID_OPT_VALUE;function Xoe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Joe(t,e,r,i){var n=Xoe(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new zoe(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}aU.exports={getHighWaterMark:Joe}});var CS=v((jPe,dU)=>{"use strict";dU.exports=bt;function cU(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Iae(e,t)}}var Bl;bt.WritableState=Ud;var Yoe={deprecate:Ay()},lU=IS(),qy=w("buffer").Buffer,Qoe=global.Uint8Array||function(){};function Zoe(t){return qy.from(t)}function eae(t){return qy.isBuffer(t)||t instanceof Qoe}var LS=ES(),tae=xS(),rae=tae.getHighWaterMark,Jo=Xo().codes,iae=Jo.ERR_INVALID_ARG_TYPE,nae=Jo.ERR_METHOD_NOT_IMPLEMENTED,sae=Jo.ERR_MULTIPLE_CALLBACK,oae=Jo.ERR_STREAM_CANNOT_PIPE,aae=Jo.ERR_STREAM_DESTROYED,uae=Jo.ERR_STREAM_NULL_VALUES,cae=Jo.ERR_STREAM_WRITE_AFTER_END,lae=Jo.ERR_UNKNOWN_ENCODING,Fl=LS.errorOrDestroy;qt()(bt,lU);function pae(){}function Ud(t,e,r){Bl=Bl||bu(),t=t||{},typeof r!="boolean"&&(r=e instanceof Bl),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=rae(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){yae(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new cU(this)}Ud.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ud.prototype,"buffer",{get:Yoe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Wy;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Wy=Function.prototype[Symbol.hasInstance],Object.defineProperty(bt,Symbol.hasInstance,{value:function(e){return Wy.call(this,e)?!0:this!==bt?!1:e&&e._writableState instanceof Ud}})):Wy=function(e){return e instanceof this};function bt(t){Bl=Bl||bu();var e=this instanceof Bl;if(!e&&!Wy.call(bt,this))return new bt(t);this._writableState=new Ud(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),lU.call(this)}bt.prototype.pipe=function(){Fl(this,new oae)};function fae(t,e){var r=new cae;Fl(t,r),process.nextTick(e,r)}function dae(t,e,r,i){var n;return r===null?n=new uae:typeof r!="string"&&!e.objectMode&&(n=new iae("chunk",["string","Buffer"],r)),n?(Fl(t,n),process.nextTick(i,n),!1):!0}bt.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&eae(t);return s&&!qy.isBuffer(t)&&(t=Zoe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=pae),i.ending?fae(this,r):(s||dae(this,i,t,r))&&(i.pendingcb++,n=mae(this,i,s,t,e,r)),n};bt.prototype.cork=function(){this._writableState.corked++};bt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&pU(this,t))};bt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new lae(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(bt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function hae(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=qy.from(e,r)),e}Object.defineProperty(bt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function mae(t,e,r,i,n,s){if(!r){var o=hae(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else PS(t,e,!1,a,i,n,s);return u}function PS(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new aae("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function gae(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(Fd,t,e),t._writableState.errorEmitted=!0,Fl(t,i)):(n(i),t._writableState.errorEmitted=!0,Fl(t,i),Fd(t,e))}function Hae(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function yae(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new sae;if(Hae(r),e)gae(t,r,i,e,n);else{var s=fU(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&pU(t,r),i?process.nextTick(uU,t,r,s,n):uU(t,r,s,n)}}function uU(t,e,r,i){r||bae(t,e),e.pendingcb--,i(),Fd(t,e)}function bae(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function pU(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,PS(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new cU(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(PS(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}bt.prototype._write=function(t,e,r){r(new nae("_write()"))};bt.prototype._writev=null;bt.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||wae(this,i,r),this};Object.defineProperty(bt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function fU(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function vae(t,e){t._final(function(r){e.pendingcb--,r&&Fl(t,r),e.prefinished=!0,t.emit("prefinish"),Fd(t,e)})}function _ae(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(vae,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Fd(t,e){var r=fU(e);if(r&&(_ae(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function wae(t,e,r){e.ending=!0,Fd(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Iae(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(bt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});bt.prototype.destroy=LS.destroy;bt.prototype._undestroy=LS.undestroy;bt.prototype._destroy=function(t,e){e(t)}});var bu=v((WPe,mU)=>{"use strict";var Aae=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};mU.exports=ns;var hU=$S(),TS=CS();qt()(ns,hU);for(DS=Aae(TS.prototype),Vy=0;Vy<DS.length;Vy++)Gy=DS[Vy],ns.prototype[Gy]||(ns.prototype[Gy]=TS.prototype[Gy]);var DS,Gy,Vy;function ns(t){if(!(this instanceof ns))return new ns(t);hU.call(this,t),TS.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Sae)))}Object.defineProperty(ns.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(ns.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(ns.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Sae(){this._writableState.ended||process.nextTick(Eae,this)}function Eae(t){t.end()}Object.defineProperty(ns.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var yU=v((MS,HU)=>{var Ky=w("buffer"),ss=Ky.Buffer;function gU(t,e){for(var r in t)e[r]=t[r]}ss.from&&ss.alloc&&ss.allocUnsafe&&ss.allocUnsafeSlow?HU.exports=Ky:(gU(Ky,MS),MS.Buffer=vu);function vu(t,e,r){return ss(t,e,r)}vu.prototype=Object.create(ss.prototype);gU(ss,vu);vu.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ss(t,e,r)};vu.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=ss(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};vu.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ss(t)};vu.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ky.SlowBuffer(t)}});var OS=v(vU=>{"use strict";var RS=yU().Buffer,bU=RS.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function xae(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Pae(t){var e=xae(t);if(typeof e!="string"&&(RS.isEncoding===bU||!bU(t)))throw new Error("Unknown encoding: "+t);return e||t}vU.StringDecoder=jd;function jd(t){this.encoding=Pae(t);var e;switch(this.encoding){case"utf16le":this.text=Mae,this.end=kae,e=4;break;case"utf8":this.fillLast=Dae,e=4;break;case"base64":this.text=Rae,this.end=Oae,e=3;break;default:this.write=Nae,this.end=Bae;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=RS.allocUnsafe(e)}jd.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};jd.prototype.end=$ae;jd.prototype.text=Tae;jd.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function kS(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Lae(t,e,r){var i=e.length-1;if(i<r)return 0;var n=kS(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=kS(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=kS(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Cae(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Dae(t){var e=this.lastTotal-this.lastNeed,r=Cae(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Tae(t,e){var r=Lae(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function $ae(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Mae(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function kae(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Rae(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Oae(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Nae(t){return t.toString(this.encoding)}function Bae(t){return t&&t.length?this.write(t):""}});var zy=v((VPe,IU)=>{"use strict";var _U=Xo().codes.ERR_STREAM_PREMATURE_CLOSE;function Fae(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function Uae(){}function jae(t){return t.setHeader&&typeof t.abort=="function"}function wU(t,e,r){if(typeof e=="function")return wU(t,null,e);e||(e={}),r=Fae(r||Uae);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){n=!1,o=!0,i||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){i=!1,u=!0,n||r.call(t)},l=function(m){r.call(t,m)},p=function(){var m;if(i&&!u)return(!t._readableState||!t._readableState.ended)&&(m=new _U),r.call(t,m);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(m=new _U),r.call(t,m)},f=function(){t.req.on("finish",a)};return jae(t)?(t.on("complete",a),t.on("abort",p),t.req?f():t.on("request",f)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",p)}}IU.exports=wU});var SU=v((GPe,AU)=>{"use strict";var Xy;function Yo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wae=zy(),Qo=Symbol("lastResolve"),_u=Symbol("lastReject"),Wd=Symbol("error"),Jy=Symbol("ended"),wu=Symbol("lastPromise"),NS=Symbol("handlePromise"),Iu=Symbol("stream");function Zo(t,e){return{value:t,done:e}}function qae(t){var e=t[Qo];if(e!==null){var r=t[Iu].read();r!==null&&(t[wu]=null,t[Qo]=null,t[_u]=null,e(Zo(r,!1)))}}function Vae(t){process.nextTick(qae,t)}function Gae(t,e){return function(r,i){t.then(function(){if(e[Jy]){r(Zo(void 0,!0));return}e[NS](r,i)},i)}}var Kae=Object.getPrototypeOf(function(){}),zae=Object.setPrototypeOf((Xy={get stream(){return this[Iu]},next:function(){var e=this,r=this[Wd];if(r!==null)return Promise.reject(r);if(this[Jy])return Promise.resolve(Zo(void 0,!0));if(this[Iu].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[Wd]?a(e[Wd]):o(Zo(void 0,!0))})});var i=this[wu],n;if(i)n=new Promise(Gae(i,this));else{var s=this[Iu].read();if(s!==null)return Promise.resolve(Zo(s,!1));n=new Promise(this[NS])}return this[wu]=n,n}},Yo(Xy,Symbol.asyncIterator,function(){return this}),Yo(Xy,"return",function(){var e=this;return new Promise(function(r,i){e[Iu].destroy(null,function(n){if(n){i(n);return}r(Zo(void 0,!0))})})}),Xy),Kae),Xae=function(e){var r,i=Object.create(zae,(r={},Yo(r,Iu,{value:e,writable:!0}),Yo(r,Qo,{value:null,writable:!0}),Yo(r,_u,{value:null,writable:!0}),Yo(r,Wd,{value:null,writable:!0}),Yo(r,Jy,{value:e._readableState.endEmitted,writable:!0}),Yo(r,NS,{value:function(s,o){var a=i[Iu].read();a?(i[wu]=null,i[Qo]=null,i[_u]=null,s(Zo(a,!1))):(i[Qo]=s,i[_u]=o)},writable:!0}),r));return i[wu]=null,Wae(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[_u];s!==null&&(i[wu]=null,i[Qo]=null,i[_u]=null,s(n)),i[Wd]=n;return}var o=i[Qo];o!==null&&(i[wu]=null,i[Qo]=null,i[_u]=null,o(Zo(void 0,!0))),i[Jy]=!0}),e.on("readable",Vae.bind(null,i)),i};AU.exports=Xae});var LU=v((KPe,PU)=>{"use strict";function EU(t,e,r,i,n,s,o){try{var a=t[s](o),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(i,n)}function Jae(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var s=t.apply(e,r);function o(u){EU(s,i,n,o,a,"next",u)}function a(u){EU(s,i,n,o,a,"throw",u)}o(void 0)})}}function xU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Yae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xU(Object(r),!0).forEach(function(i){Qae(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Qae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Zae=Xo().codes.ERR_INVALID_ARG_TYPE;function eue(t,e,r){var i;if(e&&typeof e.next=="function")i=e;else if(e&&e[Symbol.asyncIterator])i=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])i=e[Symbol.iterator]();else throw new Zae("iterable",["Iterable"],e);var n=new t(Yae({objectMode:!0},r)),s=!1;n._read=function(){s||(s=!0,o())};function o(){return a.apply(this,arguments)}function a(){return a=Jae(function*(){try{var u=yield i.next(),c=u.value,l=u.done;l?n.push(null):n.push(yield c)?o():s=!1}catch(p){n.destroy(p)}}),a.apply(this,arguments)}return n}PU.exports=eue});var $S=v((XPe,BU)=>{"use strict";BU.exports=Me;var Ul;Me.ReadableState=$U;var zPe=w("events").EventEmitter,TU=function(e,r){return e.listeners(r).length},Vd=IS(),Yy=w("buffer").Buffer,tue=global.Uint8Array||function(){};function rue(t){return Yy.from(t)}function iue(t){return Yy.isBuffer(t)||t instanceof tue}var BS=w("util"),Ee;BS&&BS.debuglog?Ee=BS.debuglog("stream"):Ee=function(){};var nue=tU(),GS=ES(),sue=xS(),oue=sue.getHighWaterMark,Qy=Xo().codes,aue=Qy.ERR_INVALID_ARG_TYPE,uue=Qy.ERR_STREAM_PUSH_AFTER_EOF,cue=Qy.ERR_METHOD_NOT_IMPLEMENTED,lue=Qy.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,jl,FS,US;qt()(Me,Vd);var qd=GS.errorOrDestroy,jS=["error","close","destroy","pause","resume"];function pue(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function $U(t,e,r){Ul=Ul||bu(),t=t||{},typeof r!="boolean"&&(r=e instanceof Ul),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=oue(this,t,"readableHighWaterMark",r),this.buffer=new nue,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(jl||(jl=OS().StringDecoder),this.decoder=new jl(t.encoding),this.encoding=t.encoding)}function Me(t){if(Ul=Ul||bu(),!(this instanceof Me))return new Me(t);var e=this instanceof Ul;this._readableState=new $U(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Vd.call(this)}Object.defineProperty(Me.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Me.prototype.destroy=GS.destroy;Me.prototype._undestroy=GS.undestroy;Me.prototype._destroy=function(t,e){e(t)};Me.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Yy.from(t,e),e=""),i=!0),MU(this,t,e,!1,i)};Me.prototype.unshift=function(t){return MU(this,t,null,!0,!1)};function MU(t,e,r,i,n){Ee("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,hue(t,s);else{var o;if(n||(o=fue(s,e)),o)qd(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Yy.prototype&&(e=rue(e)),i)s.endEmitted?qd(t,new lue):WS(t,s,e,!0);else if(s.ended)qd(t,new uue);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?WS(t,s,e,!1):VS(t,s)):WS(t,s,e,!1)}else i||(s.reading=!1,VS(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function WS(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Zy(t)),VS(t,e)}function fue(t,e){var r;return!iue(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new aue("chunk",["string","Buffer","Uint8Array"],e)),r}Me.prototype.isPaused=function(){return this._readableState.flowing===!1};Me.prototype.setEncoding=function(t){jl||(jl=OS().StringDecoder);var e=new jl(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var CU=1073741824;function due(t){return t>=CU?t=CU:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function DU(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=due(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Me.prototype.read=function(t){Ee("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ee("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?qS(this):Zy(this),null;if(t=DU(t,e),t===0&&e.ended)return e.length===0&&qS(this),null;var i=e.needReadable;Ee("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,Ee("length less than watermark",i)),e.ended||e.reading?(i=!1,Ee("reading or ended",i)):i&&(Ee("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=DU(r,e)));var n;return t>0?n=OU(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&qS(this)),n!==null&&this.emit("data",n),n};function hue(t,e){if(Ee("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Zy(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,kU(t)))}}function Zy(t){var e=t._readableState;Ee("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ee("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(kU,t))}function kU(t){var e=t._readableState;Ee("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,KS(t)}function VS(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(mue,t,e))}function mue(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Ee("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Me.prototype._read=function(t){qd(this,new cue("_read()"))};Me.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,Ee("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=n?a:y;i.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(b,I){Ee("onunpipe"),b===r&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,l())}function a(){Ee("onend"),t.end()}var u=gue(r);t.on("drain",u);var c=!1;function l(){Ee("cleanup"),t.removeListener("close",g),t.removeListener("finish",m),t.removeListener("drain",u),t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",y),r.removeListener("data",p),c=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",p);function p(b){Ee("ondata");var I=t.write(b);Ee("dest.write",I),I===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&NU(i.pipes,t)!==-1)&&!c&&(Ee("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(b){Ee("onerror",b),y(),t.removeListener("error",f),TU(t,"error")===0&&qd(t,b)}pue(t,"error",f);function g(){t.removeListener("finish",m),y()}t.once("close",g);function m(){Ee("onfinish"),t.removeListener("close",g),y()}t.once("finish",m);function y(){Ee("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(Ee("pipe resume"),r.resume()),t};function gue(t){return function(){var r=t._readableState;Ee("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&TU(t,"data")&&(r.flowing=!0,KS(t))}}Me.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=NU(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Me.prototype.on=function(t,e){var r=Vd.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,Ee("on readable",i.length,i.reading),i.length?Zy(this):i.reading||process.nextTick(Hue,this)),r};Me.prototype.addListener=Me.prototype.on;Me.prototype.removeListener=function(t,e){var r=Vd.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(RU,this),r};Me.prototype.removeAllListeners=function(t){var e=Vd.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(RU,this),e};function RU(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Hue(t){Ee("readable nexttick read 0"),t.read(0)}Me.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ee("resume"),t.flowing=!t.readableListening,yue(this,t)),t.paused=!1,this};function yue(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(bue,t,e))}function bue(t,e){Ee("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),KS(t),e.flowing&&!e.reading&&t.read(0)}Me.prototype.pause=function(){return Ee("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ee("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function KS(t){var e=t._readableState;for(Ee("flow",e.flowing);e.flowing&&t.read()!==null;);}Me.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(Ee("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ee("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(a){return function(){return t[a].apply(t,arguments)}}(n));for(var s=0;s<jS.length;s++)t.on(jS[s],this.emit.bind(this,jS[s]));return this._read=function(o){Ee("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(Me.prototype[Symbol.asyncIterator]=function(){return FS===void 0&&(FS=SU()),FS(this)});Object.defineProperty(Me.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Me.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Me.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Me._fromList=OU;Object.defineProperty(Me.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function OU(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function qS(t){var e=t._readableState;Ee("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(vue,e,t))}function vue(t,e){if(Ee("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Me.from=function(t,e){return US===void 0&&(US=LU()),US(Me,t,e)});function NU(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var zS=v((JPe,UU)=>{"use strict";UU.exports=Ws;var eb=Xo().codes,_ue=eb.ERR_METHOD_NOT_IMPLEMENTED,wue=eb.ERR_MULTIPLE_CALLBACK,Iue=eb.ERR_TRANSFORM_ALREADY_TRANSFORMING,Aue=eb.ERR_TRANSFORM_WITH_LENGTH_0,tb=bu();qt()(Ws,tb);function Sue(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new wue);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Ws(t){if(!(this instanceof Ws))return new Ws(t);tb.call(this,t),this._transformState={afterTransform:Sue.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Eue)}function Eue(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){FU(t,e,r)}):FU(this,null,null)}Ws.prototype.push=function(t,e){return this._transformState.needTransform=!1,tb.prototype.push.call(this,t,e)};Ws.prototype._transform=function(t,e,r){r(new _ue("_transform()"))};Ws.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Ws.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ws.prototype._destroy=function(t,e){tb.prototype._destroy.call(this,t,function(r){e(r)})};function FU(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Aue;if(t._transformState.transforming)throw new Iue;return t.push(null)}});var qU=v((YPe,WU)=>{"use strict";WU.exports=Gd;var jU=zS();qt()(Gd,jU);function Gd(t){if(!(this instanceof Gd))return new Gd(t);jU.call(this,t)}Gd.prototype._transform=function(t,e,r){r(null,t)}});var XU=v((QPe,zU)=>{"use strict";var XS;function xue(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var KU=Xo().codes,Pue=KU.ERR_MISSING_ARGS,Lue=KU.ERR_STREAM_DESTROYED;function VU(t){if(t)throw t}function Cue(t){return t.setHeader&&typeof t.abort=="function"}function Due(t,e,r,i){i=xue(i);var n=!1;t.on("close",function(){n=!0}),XS===void 0&&(XS=zy()),XS(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,Cue(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new Lue("pipe"))}}}function GU(t){t()}function Tue(t,e){return t.pipe(e)}function $ue(t){return!t.length||typeof t[t.length-1]!="function"?VU:t.pop()}function Mue(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=$ue(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Pue("streams");var n,s=e.map(function(o,a){var u=a<e.length-1,c=a>0;return Due(o,u,c,function(l){n||(n=l),l&&s.forEach(GU),!u&&(s.forEach(GU),i(n))})});return e.reduce(Tue)}zU.exports=Mue});var JS=v((Ri,zd)=>{var Kd=w("stream");process.env.READABLE_STREAM==="disable"&&Kd?(zd.exports=Kd.Readable,Object.assign(zd.exports,Kd),zd.exports.Stream=Kd):(Ri=zd.exports=$S(),Ri.Stream=Kd||Ri,Ri.Readable=Ri,Ri.Writable=CS(),Ri.Duplex=bu(),Ri.Transform=zS(),Ri.PassThrough=qU(),Ri.finished=zy(),Ri.pipeline=XU())});var YU=v((ZPe,JU)=>{JU.exports=kue;function kue(t){var e=t._readableState;return e?e.objectMode?t.read():t.read(Rue(e)):null}function Rue(t){return t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length}});var rj=v((eLe,tj)=>{var rb=JS(),QU=FH(),Oue=qt(),Nue=YU(),ZU=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),YS=function(t,e){t._corked?t.once("uncork",e):e()},Bue=function(t,e){t._autoDestroy&&t.destroy(e)},ej=function(t,e){return function(r){r?Bue(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},Fue=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},Uue=function(){},jue=function(t){return new rb.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},cr=function(t,e,r){if(!(this instanceof cr))return new cr(t,e,r);rb.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};Oue(cr,rb.Duplex);cr.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new cr(t,e,r)};cr.prototype.cork=function(){++this._corked===1&&this.emit("cork")};cr.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};cr.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=QU(t,{writable:!0,readable:!1},ej(this,this._forwardEnd)),i=function(){var s=e._ondrain;e._ondrain=null,s&&s()},n=function(){e._writable.removeListener("drain",i),r()};this._unwrite&&process.nextTick(i),this._writable=t,this._writable.on("drain",i),this._unwrite=n,this.uncork()};cr.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=QU(t,{writable:!1,readable:!0},ej(this)),i=function(){e._forward()},n=function(){e.push(null)},s=function(){e._readable2.removeListener("readable",i),e._readable2.removeListener("end",n),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:jue(t),this._readable2.on("readable",i),this._readable2.on("end",n),this._unread=s,this._forward()};cr.prototype._read=function(){this._drained=!0,this._forward()};cr.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=Nue(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};cr.prototype.destroy=function(t,e){if(e||(e=Uue),this.destroyed)return e(null);this.destroyed=!0;var r=this;process.nextTick(function(){r._destroy(t),e(null)})};cr.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};cr.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return YS(this,this._write.bind(this,t,e,r));if(t===ZU)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:this.destroyed||r()}};cr.prototype._finish=function(t){var e=this;this.emit("preend"),YS(this,function(){Fue(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),YS(e,t)})})};cr.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(ZU),rb.Writable.prototype.end.call(this,r))};tj.exports=cr});var sj=v((tLe,ib)=>{var Wue=J3(),que=qt(),ij=rj(),nj=function(t){return t.length?Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t):[]},QS=function(t){var e=function(){var r=nj(arguments);if(!(this instanceof e))return new e(r);ij.call(this,null,null,t),r.length&&this.setPipeline(r)};return que(e,ij),e.prototype.setPipeline=function(){var r=nj(arguments),i=this,n=!1,s=r[0],o=r[r.length-1];o=o.readable?o:null,s=s.writable?s:null;var a=function(){r[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",function(){n||i.cork()}),Wue(r,function(u){if(i.removeListener("close",a),u)return i.destroy(u.message==="premature close"?null:u);n=!0,i._autoDestroy===!1&&(i._autoDestroy=!0),i.uncork()}),this.destroyed)return a();this.setWritable(s),this.setReadable(o)},e};ib.exports=QS({autoDestroy:!1,destroy:!1});ib.exports.obj=QS({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16});ib.exports.ctor=QS});var ZS=v((rLe,oj)=>{"use strict";oj.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");var e={negated:!1,pattern:t,original:t};return t.charAt(0)==="!"&&t.charAt(1)!=="("&&(e.negated=!0,e.pattern=t.slice(1)),e}});var eE=v((iLe,hj)=>{"use strict";var nb=Object.prototype.hasOwnProperty,dj=Object.prototype.toString,aj=Object.defineProperty,uj=Object.getOwnPropertyDescriptor,cj=function(e){return typeof Array.isArray=="function"?Array.isArray(e):dj.call(e)==="[object Array]"},lj=function(e){if(!e||dj.call(e)!=="[object Object]")return!1;var r=nb.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&nb.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;var n;for(n in e);return typeof n>"u"||nb.call(e,n)},pj=function(e,r){aj&&r.name==="__proto__"?aj(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},fj=function(e,r){if(r==="__proto__")if(nb.call(e,r)){if(uj)return uj(e,r).value}else return;return e[r]};hj.exports=function t(){var e,r,i,n,s,o,a=arguments[0],u=1,c=arguments.length,l=!1;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(e=arguments[u],e!=null)for(r in e)i=fj(a,r),n=fj(e,r),a!==n&&(l&&n&&(lj(n)||(s=cj(n)))?(s?(s=!1,o=i&&cj(i)?i:[]):o=i&&lj(i)?i:{},pj(a,{name:r,newValue:t(l,o,n)})):typeof n<"u"&&pj(a,{name:r,newValue:n}));return a}});var mj=v(tE=>{var Au=w("path"),ta=process.platform==="win32",ea=w("fs"),Vue=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Gue(){var t;if(Vue){var e=new Error;t=r}else t=i;return t;function r(n){n&&(e.message=n.message,n=e,i(n))}function i(n){if(n){if(process.throwDeprecation)throw n;if(!process.noDeprecation){var s="fs: missing callback "+(n.stack||n.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function Kue(t){return typeof t=="function"?t:Gue()}var nLe=Au.normalize;ta?qs=/(.*?)(?:[\/\\]+|$)/g:qs=/(.*?)(?:[\/]+|$)/g;var qs;ta?Xd=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Xd=/^[\/]*/;var Xd;tE.realpathSync=function(e,r){if(e=Au.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var i=e,n={},s={},o,a,u,c;l();function l(){var b=Xd.exec(e);o=b[0].length,a=b[0],u=b[0],c="",ta&&!s[u]&&(ea.lstatSync(u),s[u]=!0)}for(;o<e.length;){qs.lastIndex=o;var p=qs.exec(e);if(c=a,a+=p[0],u=c+p[1],o=qs.lastIndex,!(s[u]||r&&r[u]===u)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,u))f=r[u];else{var g=ea.lstatSync(u);if(!g.isSymbolicLink()){s[u]=!0,r&&(r[u]=u);continue}var m=null;if(!ta){var y=g.dev.toString(32)+":"+g.ino.toString(32);n.hasOwnProperty(y)&&(m=n[y])}m===null&&(ea.statSync(u),m=ea.readlinkSync(u)),f=Au.resolve(c,m),r&&(r[u]=f),ta||(n[y]=m)}e=Au.resolve(f,e.slice(o)),l()}}return r&&(r[i]=e),e};tE.realpath=function(e,r,i){if(typeof i!="function"&&(i=Kue(r),r=null),e=Au.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(i.bind(null,null,r[e]));var n=e,s={},o={},a,u,c,l;p();function p(){var b=Xd.exec(e);a=b[0].length,u=b[0],c=b[0],l="",ta&&!o[c]?ea.lstat(c,function(I){if(I)return i(I);o[c]=!0,f()}):process.nextTick(f)}function f(){if(a>=e.length)return r&&(r[n]=e),i(null,e);qs.lastIndex=a;var b=qs.exec(e);return l=u,u+=b[0],c=l+b[1],a=qs.lastIndex,o[c]||r&&r[c]===c?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,c)?y(r[c]):ea.lstat(c,g)}function g(b,I){if(b)return i(b);if(!I.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(f);if(!ta){var B=I.dev.toString(32)+":"+I.ino.toString(32);if(s.hasOwnProperty(B))return m(null,s[B],c)}ea.stat(c,function(W){if(W)return i(W);ea.readlink(c,function(P,D){ta||(s[B]=D),m(P,D)})})}function m(b,I,B){if(b)return i(b);var W=Au.resolve(l,I);r&&(r[B]=W),y(W)}function y(b){e=Au.resolve(b,e.slice(a)),p()}}});var sE=v((oLe,bj)=>{bj.exports=ra;ra.realpath=ra;ra.sync=nE;ra.realpathSync=nE;ra.monkeypatch=Xue;ra.unmonkeypatch=Jue;var Wl=w("fs"),rE=Wl.realpath,iE=Wl.realpathSync,zue=process.version,gj=/^v[0-5]\./.test(zue),Hj=mj();function yj(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function ra(t,e,r){if(gj)return rE(t,e,r);typeof e=="function"&&(r=e,e=null),rE(t,e,function(i,n){yj(i)?Hj.realpath(t,e,r):r(i,n)})}function nE(t,e){if(gj)return iE(t,e);try{return iE(t,e)}catch(r){if(yj(r))return Hj.realpathSync(t,e);throw r}}function Xue(){Wl.realpath=ra,Wl.realpathSync=nE}function Jue(){Wl.realpath=rE,Wl.realpathSync=iE}});var _j=v((aLe,vj)=>{vj.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var n=e(t[i],i);Yue(n)?r.push.apply(r,n):r.push(n)}return r};var Yue=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Ej=v((uLe,Sj)=>{"use strict";Sj.exports=Ij;function Ij(t,e,r){t instanceof RegExp&&(t=wj(t,r)),e instanceof RegExp&&(e=wj(e,r));var i=Aj(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function wj(t,e){var r=e.match(t);return r?r[0]:null}Ij.range=Aj;function Aj(t,e,r){var i,n,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),l=u;if(u>=0&&c>0){for(i=[],s=r.length;l>=0&&!a;)l==u?(i.push(l),u=r.indexOf(t,l+1)):i.length==1?a=[i.pop(),c]:(n=i.pop(),n<s&&(s=n,o=c),c=r.indexOf(e,l+1)),l=u<c&&u>=0?u:c;i.length&&(a=[s,o])}return a}});var Mj=v((cLe,$j)=>{var Que=_j(),xj=Ej();$j.exports=tce;var Pj="\0SLASH"+Math.random()+"\0",Lj="\0OPEN"+Math.random()+"\0",aE="\0CLOSE"+Math.random()+"\0",Cj="\0COMMA"+Math.random()+"\0",Dj="\0PERIOD"+Math.random()+"\0";function oE(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Zue(t){return t.split("\\\\").join(Pj).split("\\{").join(Lj).split("\\}").join(aE).split("\\,").join(Cj).split("\\.").join(Dj)}function ece(t){return t.split(Pj).join("\\").split(Lj).join("{").split(aE).join("}").split(Cj).join(",").split(Dj).join(".")}function Tj(t){if(!t)return[""];var e=[],r=xj("{","}",t);if(!r)return t.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=Tj(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function tce(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),ql(Zue(t),!0).map(ece)):[]}function rce(t){return"{"+t+"}"}function ice(t){return/^-?0\d/.test(t)}function nce(t,e){return t<=e}function sce(t,e){return t>=e}function ql(t,e){var r=[],i=xj("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),o=n||s,a=i.body.indexOf(",")>=0;if(!o&&!a)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+aE+i.post,ql(t)):[t];var u;if(o)u=i.body.split(/\.\./);else if(u=Tj(i.body),u.length===1&&(u=ql(u[0],!1).map(rce),u.length===1)){var l=i.post.length?ql(i.post,!1):[""];return l.map(function(S){return i.pre+u[0]+S})}var c=i.pre,l=i.post.length?ql(i.post,!1):[""],p;if(o){var f=oE(u[0]),g=oE(u[1]),m=Math.max(u[0].length,u[1].length),y=u.length==3?Math.abs(oE(u[2])):1,b=nce,I=g<f;I&&(y*=-1,b=sce);var B=u.some(ice);p=[];for(var W=f;b(W,g);W+=y){var P;if(s)P=String.fromCharCode(W),P==="\\"&&(P="");else if(P=String(W),B){var D=m-P.length;if(D>0){var G=new Array(D+1).join("0");W<0?P="-"+G+P.slice(1):P=G+P}}p.push(P)}}else p=Que(u,function(O){return ql(O,!1)});for(var q=0;q<p.length;q++)for(var N=0;N<l.length;N++){var M=c+p[q]+l[N];(!e||o||M)&&r.push(M)}return r}});var ab=v((lLe,Bj)=>{Bj.exports=ci;ci.Minimatch=lr;var Jd=function(){try{return w("path")}catch{}}()||{sep:"/"};ci.sep=Jd.sep;var lE=ci.GLOBSTAR=lr.GLOBSTAR={},oce=Mj(),kj={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},uE="[^/]",cE=uE+"*?",ace="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",uce="(?:(?!(?:\\/|^)\\.).)*?",Rj=cce("().*{}+?[]^$\\!");function cce(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var Oj=/\/+/;ci.filter=lce;function lce(t,e){return e=e||{},function(r,i,n){return ci(r,t,e)}}function ia(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(i){r[i]=t[i]}),Object.keys(e).forEach(function(i){r[i]=e[i]}),r}ci.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return ci;var e=ci,r=function(n,s,o){return e(n,s,ia(t,o))};return r.Minimatch=function(n,s){return new e.Minimatch(n,ia(t,s))},r.Minimatch.defaults=function(n){return e.defaults(ia(t,n)).Minimatch},r.filter=function(n,s){return e.filter(n,ia(t,s))},r.defaults=function(n){return e.defaults(ia(t,n))},r.makeRe=function(n,s){return e.makeRe(n,ia(t,s))},r.braceExpand=function(n,s){return e.braceExpand(n,ia(t,s))},r.match=function(i,n,s){return e.match(i,n,ia(t,s))},r};lr.defaults=function(t){return ci.defaults(t).Minimatch};function ci(t,e,r){return ob(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new lr(e,r).match(t)}function lr(t,e){if(!(this instanceof lr))return new lr(t,e);ob(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&Jd.sep!=="/"&&(t=t.split(Jd.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}lr.prototype.debug=function(){};lr.prototype.make=pce;function pce(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(i){return i.split(Oj)}),this.debug(this.pattern,r),r=r.map(function(i,n,s){return i.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(i){return i.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}lr.prototype.parseNegate=fce;function fce(){var t=this.pattern,e=!1,r=this.options,i=0;if(!r.nonegate){for(var n=0,s=t.length;n<s&&t.charAt(n)==="!";n++)e=!e,i++;i&&(this.pattern=t.substr(i)),this.negate=e}}ci.braceExpand=function(t,e){return Nj(t,e)};lr.prototype.braceExpand=Nj;function Nj(t,e){return e||(this instanceof lr?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,ob(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:oce(t)}var dce=1024*64,ob=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>dce)throw new TypeError("pattern is too long")};lr.prototype.parse=hce;var sb={};function hce(t,e){ob(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return lE;if(t==="")return"";var i="",n=!!r.nocase,s=!1,o=[],a=[],u,c=!1,l=-1,p=-1,f=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=this;function m(){if(u){switch(u){case"*":i+=cE,n=!0;break;case"?":i+=uE,n=!0;break;default:i+="\\"+u;break}g.debug("clearStateChar %j %j",u,i),u=!1}}for(var y=0,b=t.length,I;y<b&&(I=t.charAt(y));y++){if(this.debug("%s	%s %s %j",t,y,i,I),s&&Rj[I]){i+="\\"+I,s=!1;continue}switch(I){case"/":return!1;case"\\":m(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,y,i,I),c){this.debug("  in class"),I==="!"&&y===p+1&&(I="^"),i+=I;continue}g.debug("call clearStateChar %j",u),m(),u=I,r.noext&&m();continue;case"(":if(c){i+="(";continue}if(!u){i+="\\(";continue}o.push({type:u,start:y-1,reStart:i.length,open:kj[u].open,close:kj[u].close}),i+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,i),u=!1;continue;case")":if(c||!o.length){i+="\\)";continue}m(),n=!0;var B=o.pop();i+=B.close,B.type==="!"&&a.push(B),B.reEnd=i.length;continue;case"|":if(c||!o.length||s){i+="\\|",s=!1;continue}m(),i+="|";continue;case"[":if(m(),c){i+="\\"+I;continue}c=!0,p=y,l=i.length,i+=I;continue;case"]":if(y===p+1||!c){i+="\\"+I,s=!1;continue}var W=t.substring(p+1,y);try{RegExp("["+W+"]")}catch{var P=this.parse(W,sb);i=i.substr(0,l)+"\\["+P[0]+"\\]",n=n||P[1],c=!1;continue}n=!0,c=!1,i+=I;continue;default:m(),s?s=!1:Rj[I]&&!(I==="^"&&c)&&(i+="\\"),i+=I}}for(c&&(W=t.substr(p+1),P=this.parse(W,sb),i=i.substr(0,l)+"\\["+P[0],n=n||P[1]),B=o.pop();B;B=o.pop()){var D=i.slice(B.reStart+B.open.length);this.debug("setting tail",i,B),D=D.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(oe,ie,de){return de||(de="\\"),ie+ie+de+"|"}),this.debug(`tail=%j
   %s`,D,D,B,i);var G=B.type==="*"?cE:B.type==="?"?uE:"\\"+B.type;n=!0,i=i.slice(0,B.reStart)+G+"\\("+D}m(),s&&(i+="\\\\");var q=!1;switch(i.charAt(0)){case"[":case".":case"(":q=!0}for(var N=a.length-1;N>-1;N--){var M=a[N],O=i.slice(0,M.reStart),S=i.slice(M.reStart,M.reEnd-8),$=i.slice(M.reEnd-8,M.reEnd),R=i.slice(M.reEnd);$+=R;var X=O.split("(").length-1,L=R;for(y=0;y<X;y++)L=L.replace(/\)[+*?]?/,"");R=L;var C="";R===""&&e!==sb&&(C="$");var te=O+S+R+C+$;i=te}if(i!==""&&n&&(i="(?=.)"+i),q&&(i=f+i),e===sb)return[i,n];if(!n)return gce(t);var re=r.nocase?"i":"";try{var se=new RegExp("^"+i+"$",re)}catch{return new RegExp("$.")}return se._glob=t,se._src=i,se}ci.makeRe=function(t,e){return new lr(t,e||{}).makeRe()};lr.prototype.makeRe=mce;function mce(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?cE:e.dot?ace:uce,i=e.nocase?"i":"",n=t.map(function(s){return s.map(function(o){return o===lE?r:typeof o=="string"?Hce(o):o._src}).join("\\/")}).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch{this.regexp=!1}return this.regexp}ci.match=function(t,e,r){r=r||{};var i=new lr(e,r);return t=t.filter(function(n){return i.match(n)}),i.options.nonull&&!t.length&&t.push(e),t};lr.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var i=this.options;Jd.sep!=="/"&&(e=e.split(Jd.sep).join("/")),e=e.split(Oj),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<n.length;o++){var a=n[o],u=e;i.matchBase&&a.length===1&&(u=[s]);var c=this.matchOne(u,a,r);if(c)return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate};lr.prototype.matchOne=function(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var n=0,s=0,o=t.length,a=e.length;n<o&&s<a;n++,s++){this.debug("matchOne loop");var u=e[s],c=t[n];if(this.debug(e,u,c),u===!1)return!1;if(u===lE){this.debug("GLOBSTAR",[e,u,c]);var l=n,p=s+1;if(p===a){for(this.debug("** at the end");n<o;n++)if(t[n]==="."||t[n]===".."||!i.dot&&t[n].charAt(0)===".")return!1;return!0}for(;l<o;){var f=t[l];if(this.debug(`
globstar while`,t,l,e,p,f),this.matchOne(t.slice(l),e.slice(p),r))return this.debug("globstar found match!",l,o,f),!0;if(f==="."||f===".."||!i.dot&&f.charAt(0)==="."){this.debug("dot detected!",t,l,e,p);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,l,e,p),l===o))}var g;if(typeof u=="string"?(g=c===u,this.debug("string match",u,c,g)):(g=c.match(u),this.debug("pattern match",u,c,g)),!g)return!1}if(n===o&&s===a)return!0;if(n===o)return r;if(s===a)return n===o-1&&t[n]==="";throw new Error("wtf?")};function gce(t){return t.replace(/\\(.)/g,"$1")}function Hce(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var cb=v((pLe,ub)=>{"use strict";function Fj(t){return t.charAt(0)==="/"}function Uj(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),i=r[1]||"",n=Boolean(i&&i.charAt(1)!==":");return Boolean(r[2]||n)}ub.exports=process.platform==="win32"?Uj:Fj;ub.exports.posix=Fj;ub.exports.win32=Uj});var fE=v(na=>{na.setopts=Ice;na.ownProp=jj;na.makeAbs=Yd;na.finish=Ace;na.mark=Sce;na.isIgnored=qj;na.childrenIgnored=Ece;function jj(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var yce=w("fs"),Vl=w("path"),bce=ab(),Wj=cb(),pE=bce.Minimatch;function vce(t,e){return t.localeCompare(e,"en")}function _ce(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(wce))}function wce(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new pE(r,{dot:!0})}return{matcher:new pE(t,{dot:!0}),gmatcher:e}}function Ice(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||yce,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),_ce(t,r),t.changedCwd=!1;var i=process.cwd();jj(r,"cwd")?(t.cwd=Vl.resolve(r.cwd),t.changedCwd=t.cwd!==i):t.cwd=i,t.root=r.root||Vl.resolve(t.cwd,"/"),t.root=Vl.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=Wj(t.cwd)?t.cwd:Yd(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new pE(e,r),t.options=t.minimatch.options}function Ace(t){for(var e=t.nounique,r=e?[]:Object.create(null),i=0,n=t.matches.length;i<n;i++){var s=t.matches[i];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[i];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(vce)),t.mark){for(var i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),l=t.cache[u]||t.cache[Yd(t,u)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}t.ignore.length&&(r=r.filter(function(u){return!qj(t,u)})),t.found=r}function Sce(t,e){var r=Yd(t,e),i=t.cache[r],n=e;if(i){var s=i==="DIR"||Array.isArray(i),o=e.slice(-1)==="/";if(s&&!o?n+="/":!s&&o&&(n=n.slice(0,-1)),n!==e){var a=Yd(t,n);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return n}function Yd(t,e){var r=e;return e.charAt(0)==="/"?r=Vl.join(t.root,e):Wj(e)||e===""?r=e:t.changedCwd?r=Vl.resolve(t.cwd,e):r=Vl.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function qj(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function Ece(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var Xj=v((gLe,zj)=>{zj.exports=Kj;Kj.GlobSync=Vt;var xce=sE(),Vj=ab(),dLe=Vj.Minimatch,hLe=mE().Glob,mLe=w("util"),dE=w("path"),Gj=w("assert"),lb=cb(),Su=fE(),Pce=Su.setopts,hE=Su.ownProp,Lce=Su.childrenIgnored,Cce=Su.isIgnored;function Kj(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Vt(t,e).found}function Vt(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Vt))return new Vt(t,e);if(Pce(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}Vt.prototype._finish=function(){if(Gj(this instanceof Vt),this.realpath){var t=this;this.matches.forEach(function(e,r){var i=t.matches[r]=Object.create(null);for(var n in e)try{n=t._makeAbs(n);var s=xce.realpathSync(n,t.realpathCache);i[s]=!0}catch(o){if(o.syscall==="stat")i[t._makeAbs(n)]=!0;else throw o}})}Su.finish(this)};Vt.prototype._process=function(t,e,r){Gj(this instanceof Vt);for(var i=0;typeof t[i]=="string";)i++;var n;switch(i){case t.length:this._processSimple(t.join("/"),e);return;case 0:n=null;break;default:n=t.slice(0,i).join("/");break}var s=t.slice(i),o;n===null?o=".":((lb(n)||lb(t.join("/")))&&(!n||!lb(n))&&(n="/"+n),o=n);var a=this._makeAbs(o);if(!Lce(this,o)){var u=s[0]===Vj.GLOBSTAR;u?this._processGlobStar(n,o,a,s,e,r):this._processReaddir(n,o,a,s,e,r)}};Vt.prototype._processReaddir=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(o){for(var a=i[0],u=!!this.minimatch.negate,c=a._glob,l=this.dot||c.charAt(0)===".",p=[],f=0;f<o.length;f++){var g=o[f];if(g.charAt(0)!=="."||l){var m;u&&!t?m=!g.match(a):m=g.match(a),m&&p.push(g)}}var y=p.length;if(y!==0){if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var f=0;f<y;f++){var g=p[f];t&&(t.slice(-1)!=="/"?g=t+"/"+g:g=t+g),g.charAt(0)==="/"&&!this.nomount&&(g=dE.join(this.root,g)),this._emitMatch(n,g)}return}i.shift();for(var f=0;f<y;f++){var g=p[f],b;t?b=[t,g]:b=[g],this._process(b.concat(i),n,s)}}}};Vt.prototype._emitMatch=function(t,e){if(!Cce(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};Vt.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,i;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,!n&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};Vt.prototype._readdir=function(t,e){var r;if(e&&!hE(this.symlinks,t))return this._readdirInGlobStar(t);if(hE(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(n){return this._readdirError(t,n),null}};Vt.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e};Vt.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};Vt.prototype._processGlobStar=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(o){var a=i.slice(1),u=t?[t]:[],c=u.concat(a);this._process(c,n,!1);var l=o.length,p=this.symlinks[r];if(!(p&&s))for(var f=0;f<l;f++){var g=o[f];if(!(g.charAt(0)==="."&&!this.dot)){var m=u.concat(o[f],a);this._process(m,n,!0);var y=u.concat(o[f],i);this._process(y,n,!0)}}}};Vt.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&lb(t)&&!this.nomount){var i=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=dE.join(this.root,t):(t=dE.resolve(this.root,t),i&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};Vt.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&hE(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var i,n=this.statCache[e];if(!n){var s;try{s=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{n=this.fs.statSync(e)}catch{n=s}else n=s}this.statCache[e]=n;var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};Vt.prototype._mark=function(t){return Su.mark(this,t)};Vt.prototype._makeAbs=function(t){return Su.makeAbs(this,t)}});var Yj=v((HLe,Jj)=>{var Dce=gI(),Qd=Object.create(null),Tce=Hl();Jj.exports=Dce($ce);function $ce(t,e){return Qd[t]?(Qd[t].push(e),null):(Qd[t]=[e],Mce(t))}function Mce(t){return Tce(function e(){var r=Qd[t],i=r.length,n=kce(arguments);try{for(var s=0;s<i;s++)r[s].apply(null,n)}finally{r.length>i?(r.splice(0,i),process.nextTick(function(){e.apply(null,n)})):delete Qd[t]}})}function kce(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i]=t[i];return r}});var mE=v((vLe,Zj)=>{Zj.exports=Eu;var Rce=sE(),Qj=ab(),yLe=Qj.Minimatch,Oce=qt(),Nce=w("events").EventEmitter,gE=w("path"),HE=w("assert"),Zd=cb(),bE=Xj(),xu=fE(),Bce=xu.setopts,yE=xu.ownProp,vE=Yj(),bLe=w("util"),Fce=xu.childrenIgnored,Uce=xu.isIgnored,jce=Hl();function Eu(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return bE(t,e)}return new Ke(t,e,r)}Eu.sync=bE;var Wce=Eu.GlobSync=bE.GlobSync;Eu.glob=Eu;function qce(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}Eu.hasMagic=function(t,e){var r=qce({},e);r.noprocess=!0;var i=new Ke(t,r),n=i.minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var s=0;s<n[0].length;s++)if(typeof n[0][s]!="string")return!0;return!1};Eu.Glob=Ke;Oce(Ke,Nce);function Ke(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Wce(t,e)}if(!(this instanceof Ke))return new Ke(t,e,r);Bce(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),typeof r=="function"&&(r=jce(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(i===0)return a();for(var s=!0,o=0;o<i;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--n._processing,n._processing<=0&&(s?process.nextTick(function(){n._finish()}):n._finish())}}Ke.prototype._finish=function(){if(HE(this instanceof Ke),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();xu.finish(this),this.emit("end",this.found)}};Ke.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i);function i(){--t===0&&e._finish()}};Ke.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),n=this,s=i.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);i.forEach(function(a,u){a=n._makeAbs(a),Rce.realpath(a,n.realpathCache,function(c,l){c?c.syscall==="stat"?o[a]=!0:n.emit("error",c):o[l]=!0,--s===0&&(n.matches[t]=o,e())})})};Ke.prototype._mark=function(t){return xu.mark(this,t)};Ke.prototype._makeAbs=function(t){return xu.makeAbs(this,t)};Ke.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Ke.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Ke.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<i.length;e++){var n=i[e];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}};Ke.prototype._process=function(t,e,r,i){if(HE(this instanceof Ke),HE(typeof i=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,i]);return}for(var n=0;typeof t[n]=="string";)n++;var s;switch(n){case t.length:this._processSimple(t.join("/"),e,i);return;case 0:s=null;break;default:s=t.slice(0,n).join("/");break}var o=t.slice(n),a;s===null?a=".":((Zd(s)||Zd(t.join("/")))&&(!s||!Zd(s))&&(s="/"+s),a=s);var u=this._makeAbs(a);if(Fce(this,a))return i();var c=o[0]===Qj.GLOBSTAR;c?this._processGlobStar(s,a,u,o,e,r,i):this._processReaddir(s,a,u,o,e,r,i)}};Ke.prototype._processReaddir=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(u,c){return a._processReaddir2(t,e,r,i,n,s,c,o)})};Ke.prototype._processReaddir2=function(t,e,r,i,n,s,o,a){if(!o)return a();for(var u=i[0],c=!!this.minimatch.negate,l=u._glob,p=this.dot||l.charAt(0)===".",f=[],g=0;g<o.length;g++){var m=o[g];if(m.charAt(0)!=="."||p){var y;c&&!t?y=!m.match(u):y=m.match(u),y&&f.push(m)}}var b=f.length;if(b===0)return a();if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var g=0;g<b;g++){var m=f[g];t&&(t!=="/"?m=t+"/"+m:m=t+m),m.charAt(0)==="/"&&!this.nomount&&(m=gE.join(this.root,m)),this._emitMatch(n,m)}return a()}i.shift();for(var g=0;g<b;g++){var m=f[g],I;t&&(t!=="/"?m=t+"/"+m:m=t+m),this._process([m].concat(i),n,s,a)}a()};Ke.prototype._emitMatch=function(t,e){if(!this.aborted&&!Uce(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=Zd(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0;var n=this.statCache[r];n&&this.emit("stat",e,n),this.emit("match",e)}}};Ke.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,i=this,n=vE(r,s);n&&i.fs.lstat(t,n);function s(o,a){if(o&&o.code==="ENOENT")return e();var u=a&&a.isSymbolicLink();i.symlinks[t]=u,!u&&a&&!a.isDirectory()?(i.cache[t]="FILE",e()):i._readdir(t,!1,e)}};Ke.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=vE("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!yE(this.symlinks,t))return this._readdirInGlobStar(t,r);if(yE(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var n=this;n.fs.readdir(t,Vce(this,t,r))}};function Vce(t,e,r){return function(i,n){i?t._readdirError(e,i,r):t._readdirEntries(e,n,r)}}Ke.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var n=e[i];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,r(null,e)}};Ke.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=e.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};Ke.prototype._processGlobStar=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(u,c){a._processGlobStar2(t,e,r,i,n,s,c,o)})};Ke.prototype._processGlobStar2=function(t,e,r,i,n,s,o,a){if(!o)return a();var u=i.slice(1),c=t?[t]:[],l=c.concat(u);this._process(l,n,!1,a);var p=this.symlinks[r],f=o.length;if(p&&s)return a();for(var g=0;g<f;g++){var m=o[g];if(!(m.charAt(0)==="."&&!this.dot)){var y=c.concat(o[g],u);this._process(y,n,!0,a);var b=c.concat(o[g],i);this._process(b,n,!0,a)}}a()};Ke.prototype._processSimple=function(t,e,r){var i=this;this._stat(t,function(n,s){i._processSimple2(t,e,n,s,r)})};Ke.prototype._processSimple2=function(t,e,r,i,n){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return n();if(t&&Zd(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=gE.join(this.root,t):(t=gE.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),n()};Ke.prototype._stat=function(t,e){var r=this._makeAbs(t),i=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&yE(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!i||n==="DIR")return e(null,n);if(i&&n==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return i&&a==="FILE"?e():e(null,a,o)}var u=this,c=vE("stat\0"+r,l);c&&u.fs.lstat(r,c);function l(p,f){if(f&&f.isSymbolicLink())return u.fs.stat(r,function(g,m){g?u._stat2(t,r,null,f,e):u._stat2(t,r,g,m,e)});u._stat2(t,r,p,f,e)}};Ke.prototype._stat2=function(t,e,r,i,n){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,n();var s=t.slice(-1)==="/";if(this.statCache[e]=i,e.slice(-1)==="/"&&i&&!i.isDirectory())return n(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?n():n(null,o,i)}});var tW=v((_Le,eW)=>{eW.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var nW=v((wLe,iW)=>{var Gce=tW(),rW={"{":"}","(":")","[":"]"},Kce=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,i=-2,n=-2,s=-2,o=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||i!==-1&&t[e]==="["&&t[e+1]!=="]"&&(i<e&&(i=t.indexOf("]",e)),i>e&&(o===-1||o>i||(o=t.indexOf("\\",e),o===-1||o>i)))||n!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(n=t.indexOf("}",e),n>e&&(o=t.indexOf("\\",e),o===-1||o>n))||s!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(s=t.indexOf(")",e),s>e&&(o=t.indexOf("\\",e),o===-1||o>s))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(s=t.indexOf(")",r),s>r&&(o=t.indexOf("\\",r),o===-1||o>s))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var u=rW[a];if(u){var c=t.indexOf(u,e);c!==-1&&(e=c+1)}if(t[e]==="!")return!0}else e++}return!1},zce=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var i=rW[r];if(i){var n=t.indexOf(i,e);n!==-1&&(e=n+1)}if(t[e]==="!")return!0}else e++}return!1};iW.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Gce(e))return!0;var i=Kce;return r&&r.strict===!1&&(i=zce),i(e)}});var oW=v((ILe,sW)=>{"use strict";var Xce=nW(),Jce=w("path").posix.dirname,Yce=w("os").platform()==="win32",pb="/",Qce=/\\/g,Zce=/\\([!*?|[\](){}])/g;sW.exports=function(e,r){var i=Object.assign({flipBackslashes:!0},r);i.flipBackslashes&&Yce&&e.indexOf(pb)<0&&(e=e.replace(Qce,pb)),ele(e)&&(e+=pb),e+="a";do e=Jce(e);while(tle(e));return e.replace(Zce,"$1")};function ele(t){var e=t.slice(-1),r;switch(e){case"}":r="{";break;case"]":r="[";break;default:return!1}var i=t.indexOf(r);return i<0?!1:t.slice(i+1,-1).includes(pb)}function tle(t){return/\([^()]+$/.test(t)||t[0]==="{"||t[0]==="["||/[^\\][{[]/.test(t)?!0:Xce(t)}});var uW=v((ALe,aW)=>{"use strict";aW.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}});var lW=v((SLe,cW)=>{"use strict";var rle=uW()();cW.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");return rle.test(t)}});var fW=v((ELe,pW)=>{"use strict";var ile=lW();pW.exports=function(e){if(typeof e!="string")throw new TypeError("expected filepath to be a string");return!ile(e)&&!/^([a-z]:)?[\\\/]/i.test(e)}});var dW=v((_E,wE)=>{(function(t){_E&&typeof _E=="object"&&typeof wE<"u"?wE.exports=t():typeof define=="function"&&define.amd?define([],t):typeof window<"u"?window.isWindows=t():typeof global<"u"?global.isWindows=t():typeof self<"u"?self.isWindows=t():this.isWindows=t()})(function(){"use strict";return function(){return process&&(process.platform==="win32"||/^(msys|cygwin)$/.test(process.env.OSTYPE))}})});var mW=v((xLe,hW)=>{"use strict";var nle=fW(),sle=dW();hW.exports=eh;function eh(t){if(typeof t!="string")throw new TypeError("isAbsolute expects a string.");return sle()?eh.win32(t):eh.posix(t)}eh.posix=function(e){return e.charAt(0)==="/"};eh.win32=function(e){return/[a-z]/i.test(e.charAt(0))&&e.charAt(1)===":"&&e.charAt(2)==="\\"||e.slice(0,2)==="\\\\"?!0:!nle(e)}});var AE=v((PLe,bW)=>{"use strict";var gW=w("path"),ole=ZS(),HW=mW();bW.exports=function(t,e){var r=e||{},i=gW.resolve(r.cwd?r.cwd:process.cwd());i=IE(i);var n=r.root;n&&(n=IE(n),(process.platform==="win32"||!HW(n))&&(n=IE(gW.resolve(n)))),t.slice(0,2)==="./"&&(t=t.slice(2)),t.length===1&&t==="."&&(t="");var s=t.slice(-1),o=ole(t);return t=o.pattern,n&&t.charAt(0)==="/"?t=yW(n,t):(!HW(t)||t.slice(0,1)==="\\")&&(t=yW(i,t)),s==="/"&&t.slice(-1)!=="/"&&(t+="/"),o.negated?"!"+t:t};function IE(t){return t.replace(/\\/g,"/")}function yW(t,e){return t.charAt(t.length-1)==="/"&&(t=t.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),e?t+"/"+e:t}});var _W=v((LLe,vW)=>{var ale=process.platform==="win32";vW.exports=function(t){var e=t.length-1;if(e<2)return t;for(;ule(t,e);)e--;return t.substr(0,e+1)};function ule(t,e){var r=t[e];return e>0&&(r==="/"||ale&&r==="\\")}});var AW=v((CLe,IW)=>{"use strict";var cle=w("util").inherits,lle=mE(),ple=eE(),wW=JS().Readable,fle=oW(),SE=AE(),dle=_W(),hle="File not found with singular glob: ",mle=" (if this was purposeful, use `allowEmpty` option)";function gle(t,e){return fle(SE(t,e))}function Hle(t){var e=t.minimatch.set;return e.length!==1?!1:e[0].every(function(i){return typeof i=="string"})}function Gl(t,e,r){if(!(this instanceof Gl))return new Gl(t,e,r);var i=ple({},r);wW.call(this,{objectMode:!0,highWaterMark:i.highWaterMark||16}),delete i.highWaterMark;var n=this;function s(g){return SE(g,i)}var o=e.map(s);i.ignore=o;var a=i.cwd,u=i.allowEmpty||!1,c=i.base||gle(t,i);t=SE(t,i),delete i.root;var l=new lle.Glob(t,i);this._globber=l;var p=!1;l.on("match",function(g){p=!0;var m={cwd:a,base:c,path:dle(g)};n.push(m)||l.pause()}),l.once("end",function(){if(u!==!0&&!p&&Hle(l)){var g=new Error(hle+t+mle);return n.destroy(g)}n.push(null)});function f(g){n.destroy(g)}l.once("error",f)}cle(Gl,wW);Gl.prototype._read=function(){this._globber.resume()};Gl.prototype.destroy=function(t){var e=this;this._globber.abort(),process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})};IW.exports=Gl});var EW=v((DLe,SW)=>{"use strict";var yle=X2(),ble=K3(),vle=sj(),_le=ZS(),wle=eE(),Ile=AW();function Ale(t,e){e||(e={});var r=wle({},e),i=r.ignore;r.cwd=typeof r.cwd=="string"?r.cwd:process.cwd(),r.dot=typeof r.dot=="boolean"?r.dot:!1,r.silent=typeof r.silent=="boolean"?r.silent:!0,r.cwdbase=typeof r.cwdbase=="boolean"?r.cwdbase:!1,r.uniqueBy=typeof r.uniqueBy=="string"||typeof r.uniqueBy=="function"?r.uniqueBy:"path",r.cwdbase&&(r.base=r.cwd),typeof i=="string"&&(i=[i]),Array.isArray(i)||(i=[]),Array.isArray(t)||(t=[t]);var n=[],s=[];t.forEach(o);function o(p,f){if(typeof p!="string")throw new Error("Invalid glob at index "+f);var g=_le(p),m=g.negated?s:n;m.push({index:f,glob:g.pattern})}if(n.length===0)throw new Error("Missing positive glob");var a=n.map(l),u=new yle(a),c=ble(r.uniqueBy);return vle.obj(u,c);function l(p){var f=s.filter(Sle(p.index)).map(Ele).concat(i);return new Ile(p.glob,f,r)}}function Sle(t){return function(e){return e.index>t}}function Ele(t){return t.glob}SW.exports=Ale});var bb=v((ICe,OW)=>{"use strict";var{Transform:Dle}=w("stream"),{StringDecoder:Tle}=w("string_decoder"),ua=Symbol("last"),yb=Symbol("decoder");function $le(t,e,r){let i;if(this.overflow){if(i=this[yb].write(t).split(this.matcher),i.length===1)return r();i.shift(),this.overflow=!1}else this[ua]+=this[yb].write(t),i=this[ua].split(this.matcher);this[ua]=i.pop();for(let n=0;n<i.length;n++)try{RW(this,this.mapper(i[n]))}catch(s){return r(s)}if(this.overflow=this[ua].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function Mle(t){if(this[ua]+=this[yb].end(),this[ua])try{RW(this,this.mapper(this[ua]))}catch(e){return t(e)}t()}function RW(t,e){e!==void 0&&t.push(e)}function kW(t){return t}function kle(t,e,r){switch(t=t||/\r?\n/,e=e||kW,r=r||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(r=t,t=/\r?\n/);break;case 2:typeof t=="function"?(r=e,e=t,t=/\r?\n/):typeof e=="object"&&(r=e,e=kW)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=$le,r.flush=Mle,r.readableObjectMode=!0;let i=new Dle(r);return i[ua]="",i[yb]=new Tle("utf8"),i.matcher=t,i.mapper=e,i.maxLength=r.maxLength,i.skipOverflow=r.skipOverflow||!1,i.overflow=!1,i._destroy=function(n,s){this._writableState.errorEmitted=!1,s(n)},i}OW.exports=kle});var sq,nq=B8(()=>{sq="./w32appcontainertokens-XTRA77NA.node"});var aq=v((JTe,oq)=>{nq();try{oq.exports=w(sq)}catch{}});var cq=v(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.getAppContainerProcessTokens=void 0;var Ule=w("path"),uq,jle=()=>{if(process.platform==="win32")return uq??=aq(),uq},Wle=t=>{var e;return(e=jle())==null?void 0:e.getAppContainerProcessTokens().map(r=>(0,Ule.join)(r,t))};Eb.getAppContainerProcessTokens=Wle});var Pq=v((XMe,Nb)=>{var Yle=w("fs"),xq=w("path"),Qle=w("os"),Zle=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function epe(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let i;for(;(i=Zle.exec(r))!=null;){let n=i[1],s=i[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),e[n]=s}return e}function FE(t){console.log(`[dotenv][DEBUG] ${t}`)}function tpe(t){return t[0]==="~"?xq.join(Qle.homedir(),t.slice(1)):t}function rpe(t){let e=xq.resolve(process.cwd(),".env"),r="utf8",i=Boolean(t&&t.debug),n=Boolean(t&&t.override);t&&(t.path!=null&&(e=tpe(t.path)),t.encoding!=null&&(r=t.encoding));try{let s=Ob.parse(Yle.readFileSync(e,{encoding:r}));return Object.keys(s).forEach(function(o){Object.prototype.hasOwnProperty.call(process.env,o)?(n===!0&&(process.env[o]=s[o]),i&&FE(n===!0?`"${o}" is already defined in \`process.env\` and WAS overwritten`:`"${o}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[o]=s[o]}),{parsed:s}}catch(s){return i&&FE(`Failed to load ${e} ${s.message}`),{error:s}}}var Ob={config:rpe,parse:epe};Nb.exports.config=Ob.config;Nb.exports.parse=Ob.parse;Nb.exports=Ob});var nv=F(vt()),T8=F(w("fs")),$8=F(w("net")),M8=F(w("os")),sv=F(w("path"));var nx;(function(t){(function(e){var r=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=n(t);typeof r.Reflect>"u"?r.Reflect=t:i=n(r.Reflect,i),e(i);function n(s,o){return function(a,u){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:u}),o&&o(a,u)}}})(function(e){var r=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",n=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,u=!o&&!a,c={create:o?function(){return ji(Object.create(null))}:a?function(){return ji({__proto__:null})}:function(){return ji({})},has:u?function(d,H){return r.call(d,H)}:function(d,H){return H in d},get:u?function(d,H){return r.call(d,H)?d[H]:void 0}:function(d,H){return d[H]}},l=Object.getPrototypeOf(Function),p=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",f=!p&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:hh(),g=!p&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ov(),m=!p&&typeof WeakMap=="function"?WeakMap:ve(),y=new m;function b(d,H,_,A){if(ie(_)){if(!Ce(d))throw new TypeError;if(!He(H))throw new TypeError;return O(d,H)}else{if(!Ce(d))throw new TypeError;if(!ge(H))throw new TypeError;if(!ge(A)&&!ie(A)&&!de(A))throw new TypeError;return de(A)&&(A=void 0),_=Q(_),S(d,H,_,A)}}e("decorate",b);function I(d,H){function _(A,T){if(!ge(A))throw new TypeError;if(!ie(T)&&!Ue(T))throw new TypeError;te(d,H,A,T)}return _}e("metadata",I);function B(d,H,_,A){if(!ge(_))throw new TypeError;return ie(A)||(A=Q(A)),te(d,H,_,A)}e("defineMetadata",B);function W(d,H,_){if(!ge(H))throw new TypeError;return ie(_)||(_=Q(_)),R(d,H,_)}e("hasMetadata",W);function P(d,H,_){if(!ge(H))throw new TypeError;return ie(_)||(_=Q(_)),X(d,H,_)}e("hasOwnMetadata",P);function D(d,H,_){if(!ge(H))throw new TypeError;return ie(_)||(_=Q(_)),L(d,H,_)}e("getMetadata",D);function G(d,H,_){if(!ge(H))throw new TypeError;return ie(_)||(_=Q(_)),C(d,H,_)}e("getOwnMetadata",G);function q(d,H){if(!ge(d))throw new TypeError;return ie(H)||(H=Q(H)),re(d,H)}e("getMetadataKeys",q);function N(d,H){if(!ge(d))throw new TypeError;return ie(H)||(H=Q(H)),se(d,H)}e("getOwnMetadataKeys",N);function M(d,H,_){if(!ge(H))throw new TypeError;ie(_)||(_=Q(_));var A=$(H,_,!1);if(ie(A)||!A.delete(d))return!1;if(A.size>0)return!0;var T=y.get(H);return T.delete(_),T.size>0||y.delete(H),!0}e("deleteMetadata",M);function O(d,H){for(var _=d.length-1;_>=0;--_){var A=d[_],T=A(H);if(!ie(T)&&!de(T)){if(!He(T))throw new TypeError;H=T}}return H}function S(d,H,_,A){for(var T=d.length-1;T>=0;--T){var k=d[T],j=k(H,_,A);if(!ie(j)&&!de(j)){if(!ge(j))throw new TypeError;A=j}}return A}function $(d,H,_){var A=y.get(d);if(ie(A)){if(!_)return;A=new f,y.set(d,A)}var T=A.get(H);if(ie(T)){if(!_)return;T=new f,A.set(H,T)}return T}function R(d,H,_){var A=X(d,H,_);if(A)return!0;var T=Fu(H);return de(T)?!1:R(d,T,_)}function X(d,H,_){var A=$(H,_,!1);return ie(A)?!1:_r(A.has(d))}function L(d,H,_){var A=X(d,H,_);if(A)return C(d,H,_);var T=Fu(H);if(!de(T))return L(d,T,_)}function C(d,H,_){var A=$(H,_,!1);if(!ie(A))return A.get(d)}function te(d,H,_,A){var T=$(_,A,!0);T.set(d,H)}function re(d,H){var _=se(d,H),A=Fu(d);if(A===null)return _;var T=re(A,H);if(T.length<=0)return _;if(_.length<=0)return T;for(var k=new g,j=[],V=0,U=_;V<U.length;V++){var ne=U[V],le=k.has(ne);le||(k.add(ne),j.push(ne))}for(var me=0,Te=T;me<Te.length;me++){var ne=Te[me],le=k.has(ne);le||(k.add(ne),j.push(ne))}return j}function se(d,H){var _=[],A=$(d,H,!1);if(ie(A))return _;for(var T=A.keys(),k=gt(T),j=0;;){var V=Ys(k);if(!V)return _.length=j,_;var U=Js(V);try{_[j]=U}catch(ne){try{va(k)}finally{throw ne}}j++}}function oe(d){if(d===null)return 1;switch(typeof d){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return d===null?1:6;default:return 6}}function ie(d){return d===void 0}function de(d){return d===null}function we(d){return typeof d=="symbol"}function ge(d){return typeof d=="object"?d!==null:typeof d=="function"}function Pt(d,H){switch(oe(d)){case 0:return d;case 1:return d;case 2:return d;case 3:return d;case 4:return d;case 5:return d}var _=H===3?"string":H===5?"number":"default",A=ct(d,n);if(A!==void 0){var T=A.call(d,_);if(ge(T))throw new TypeError;return T}return be(d,_==="default"?"number":_)}function be(d,H){if(H==="string"){var _=d.toString;if(Y(_)){var A=_.call(d);if(!ge(A))return A}var T=d.valueOf;if(Y(T)){var A=T.call(d);if(!ge(A))return A}}else{var T=d.valueOf;if(Y(T)){var A=T.call(d);if(!ge(A))return A}var k=d.toString;if(Y(k)){var A=k.call(d);if(!ge(A))return A}}throw new TypeError}function _r(d){return!!d}function Xr(d){return""+d}function Q(d){var H=Pt(d,3);return we(H)?H:Xr(H)}function Ce(d){return Array.isArray?Array.isArray(d):d instanceof Object?d instanceof Array:Object.prototype.toString.call(d)==="[object Array]"}function Y(d){return typeof d=="function"}function He(d){return typeof d=="function"}function Ue(d){switch(oe(d)){case 3:return!0;case 4:return!0;default:return!1}}function ct(d,H){var _=d[H];if(_!=null){if(!Y(_))throw new TypeError;return _}}function gt(d){var H=ct(d,s);if(!Y(H))throw new TypeError;var _=H.call(d);if(!ge(_))throw new TypeError;return _}function Js(d){return d.value}function Ys(d){var H=d.next();return H.done?!1:H}function va(d){var H=d.return;H&&H.call(d)}function Fu(d){var H=Object.getPrototypeOf(d);if(typeof d!="function"||d===l||H!==l)return H;var _=d.prototype,A=_&&Object.getPrototypeOf(_);if(A==null||A===Object.prototype)return H;var T=A.constructor;return typeof T!="function"||T===d?H:T}function hh(){var d={},H=[],_=function(){function j(V,U,ne){this._index=0,this._keys=V,this._values=U,this._selector=ne}return j.prototype["@@iterator"]=function(){return this},j.prototype[s]=function(){return this},j.prototype.next=function(){var V=this._index;if(V>=0&&V<this._keys.length){var U=this._selector(this._keys[V],this._values[V]);return V+1>=this._keys.length?(this._index=-1,this._keys=H,this._values=H):this._index++,{value:U,done:!1}}return{value:void 0,done:!0}},j.prototype.throw=function(V){throw this._index>=0&&(this._index=-1,this._keys=H,this._values=H),V},j.prototype.return=function(V){return this._index>=0&&(this._index=-1,this._keys=H,this._values=H),{value:V,done:!0}},j}();return function(){function j(){this._keys=[],this._values=[],this._cacheKey=d,this._cacheIndex=-2}return Object.defineProperty(j.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),j.prototype.has=function(V){return this._find(V,!1)>=0},j.prototype.get=function(V){var U=this._find(V,!1);return U>=0?this._values[U]:void 0},j.prototype.set=function(V,U){var ne=this._find(V,!0);return this._values[ne]=U,this},j.prototype.delete=function(V){var U=this._find(V,!1);if(U>=0){for(var ne=this._keys.length,le=U+1;le<ne;le++)this._keys[le-1]=this._keys[le],this._values[le-1]=this._values[le];return this._keys.length--,this._values.length--,V===this._cacheKey&&(this._cacheKey=d,this._cacheIndex=-2),!0}return!1},j.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=d,this._cacheIndex=-2},j.prototype.keys=function(){return new _(this._keys,this._values,A)},j.prototype.values=function(){return new _(this._keys,this._values,T)},j.prototype.entries=function(){return new _(this._keys,this._values,k)},j.prototype["@@iterator"]=function(){return this.entries()},j.prototype[s]=function(){return this.entries()},j.prototype._find=function(V,U){return this._cacheKey!==V&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=V)),this._cacheIndex<0&&U&&(this._cacheIndex=this._keys.length,this._keys.push(V),this._values.push(void 0)),this._cacheIndex},j}();function A(j,V){return j}function T(j,V){return V}function k(j,V){return[j,V]}}function ov(){return function(){function d(){this._map=new f}return Object.defineProperty(d.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),d.prototype.has=function(H){return this._map.has(H)},d.prototype.add=function(H){return this._map.set(H,H),this},d.prototype.delete=function(H){return this._map.delete(H)},d.prototype.clear=function(){this._map.clear()},d.prototype.keys=function(){return this._map.keys()},d.prototype.values=function(){return this._map.values()},d.prototype.entries=function(){return this._map.entries()},d.prototype["@@iterator"]=function(){return this.keys()},d.prototype[s]=function(){return this.keys()},d}()}function ve(){var d=16,H=c.create(),_=A();return function(){function U(){this._key=A()}return U.prototype.has=function(ne){var le=T(ne,!1);return le!==void 0?c.has(le,this._key):!1},U.prototype.get=function(ne){var le=T(ne,!1);return le!==void 0?c.get(le,this._key):void 0},U.prototype.set=function(ne,le){var me=T(ne,!0);return me[this._key]=le,this},U.prototype.delete=function(ne){var le=T(ne,!1);return le!==void 0?delete le[this._key]:!1},U.prototype.clear=function(){this._key=A()},U}();function A(){var U;do U="@@WeakMap@@"+V();while(c.has(H,U));return H[U]=!0,U}function T(U,ne){if(!r.call(U,_)){if(!ne)return;Object.defineProperty(U,_,{value:c.create()})}return U[_]}function k(U,ne){for(var le=0;le<ne;++le)U[le]=Math.random()*255|0;return U}function j(U){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(U)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(U)):k(new Uint8Array(U),U):k(new Array(U),U)}function V(){var U=j(d);U[6]=U[6]&79|64,U[8]=U[8]&191|128;for(var ne="",le=0;le<d;++le){var me=U[le];(le===4||le===6||le===8)&&(ne+="-"),me<16&&(ne+="0"),ne+=me.toString(16).toLowerCase()}return ne}}function ji(d){return d.__=void 0,delete d.__,d}})})(nx||(nx={}));var Li=F(vt());var tr=t=>!!t,ju=t=>Hh(t,e=>e!==null),sx=t=>Hh(t,e=>e!==void 0),_a=t=>e=>e instanceof t,gh=(t,e)=>{debugger;throw new Error(e.replace("{value}",JSON.stringify(t)))};function Hh(t,e){let r={};for(let i of Object.keys(t)){let n=t[i];e(n,i)&&(r[i]=n)}return r}function fs(t,e){let r={};for(let i of Object.keys(t)){let n=t[i];r[i]=e(n,i)}return r}function ox(t,e){let r={};for(let i of Object.keys(t))e(i,t[i])&&(r[i]=t[i]);return r}function ax(...t){if(t.length===0)return{};let e={},r=Object.create(null);for(let i of t)if(i)for(let n of Object.keys(i)){let s=n.toLowerCase();r[s]?e[r[s]]=i[n]:(r[s]=n,e[n]=i[n])}return e}function ux(t,e){if(t.hasOwnProperty(e))return t[e];let r=e.toLowerCase();for(let i of Object.keys(t))if(i.toLowerCase()===r)return t[i]}var lv=Symbol("unset");function Ae(t){let e=lv,r=(...i)=>(e===lv&&(r.value=e=t(...i)),e);return r.forget=()=>{e=lv,r.value=void 0},r.value=void 0,r}function wa(t){let e=new Map,r=i=>{if(e.has(i))return e.get(i);let n=t(i);return e.set(i,n),n};return r.clear=()=>e.clear(),r}function cx(t){let e,r=i=>((e==null?void 0:e.arg)===i||(e={arg:i,val:t(i)}),e.val);return r.clear=()=>e=void 0,r}function lx(t,e){let r,i=()=>{r!==void 0&&clearTimeout(r),r=setTimeout(()=>{r=void 0,e()},t)};return i.clear=()=>{r&&(clearTimeout(r),r=void 0)},i}function px(t,e){let r,i=()=>{r===void 0&&(r=setTimeout(()=>{r=void 0,e()},t))};return i.queued=()=>!!r,i.clear=()=>{r&&(clearTimeout(r),r=void 0)},i}async function fx(t,e){let r=[],i=[];for(let n of t)await e(n)?r.push(n):i.push(n);return[r,i]}function Ia(t){let e=[];for(let r of t)e=e.concat(r);return e}var iV=2**31-1,yh=()=>{let t=0;return()=>t++&iV};var Wu={dispose:()=>{}},Qe=class{constructor(e){this.disposed=!1;this.items=[];e&&(this.items=e.slice())}get isDisposed(){return this.disposed}callback(...e){for(let r of e)this.push({dispose:r})}push(...e){return this.disposed?(e.forEach(r=>r.dispose()),e[0]):(this.items.push(...e),e[0])}disposeObject(e){this.items=this.items.filter(r=>r!==e),e.dispose()}dispose(){let e=Promise.all(this.items.map(r=>r.dispose()));return this.items=[],this.disposed=!0,e}};var hx=w("crypto"),mx=w("os"),gx=F(w("path"));var Ap=w("fs"),dx=w("path"),vh=w("zlib"),nV=(t,e)=>e instanceof Error?{message:e.message,stack:e.stack}:typeof e=="bigint"?e.toString():e,bh=class{constructor(e,r){this.file=e;this.dap=r;try{(0,Ap.mkdirSync)((0,dx.dirname)(e),{recursive:!0})}catch{}e.endsWith(".gz")?(this.stream=(0,vh.createGzip)(),this.stream.pipe((0,Ap.createWriteStream)(e))):this.stream=(0,Ap.createWriteStream)(e)}async setup(){var e;(e=this.dap)==null||e.output({category:"console",output:`Verbose logs are written to:
${this.file}
`})}dispose(){this.stream&&(this.stream.end(),this.stream=void 0)}write(e){var r,i;this.stream&&(this.stream.write(JSON.stringify(e,nV)+`
`),(i=(r=this.stream).flush)==null||i.call(r,vh.constants.Z_SYNC_FLUSH))}};var sV={["runtime"]:null,["runtime.sourcecreate"]:null,["runtime.assertion"]:null,["runtime.launch"]:null,["runtime.target"]:null,["runtime.welcome"]:null,["runtime.exception"]:null,["runtime.sourcemap"]:null,["runtime.breakpoints"]:null,["sourcemap.parsing"]:null,["perf.function"]:null,["cdp.send"]:null,["cdp.receive"]:null,["dap.send"]:null,["dap.receive"]:null,["internal"]:null,["proxyActivity"]:null},Mpe=Object.keys(sV),ae=Symbol("ILogger");function oV(t,e=(0,mx.tmpdir)()){if(t===!1)return{stdio:!1,logFile:null};let r={stdio:!0,logFile:gx.join(e,`vscode-debugadapter-${(0,hx.randomBytes)(4).toString("hex")}.json.gz`)};return t===!0?r:{...r,...t}}function Hx(t,e){let r=oV(e),i={sinks:[]};return r.logFile&&i.sinks.push(new bh(r.logFile,t)),i}var rr=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return this}get base1(){return new Ot(this.lineNumber+1,this.columnNumber+1)}get base01(){return new Qs(this.lineNumber,this.columnNumber+1)}compare(e){let r=e.base0;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber}},Ot=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new rr(this.lineNumber-1,this.columnNumber-1)}get base1(){return this}get base01(){return new Qs(this.lineNumber-1,this.columnNumber)}compare(e){let r=e.base1;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber||0}},Qs=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new rr(this.lineNumber-1,this.columnNumber)}get base1(){return new Ot(this.lineNumber,this.columnNumber+1)}get base01(){return this}compare(e){let r=e.base01;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber}},Zs=class{constructor(e,r){this.begin=e;this.end=r}static simplify(e){if(e.length===0)return[];let r=e.slice().sort((s,o)=>s.begin.compare(o.begin)),i=[],n=r[0];for(let s=1;s<r.length;s++){let o=r[s];n.end.compare(o.begin)>=0?n=new Zs(n.begin,o.end):(i.push(n),n=o)}return i.push(n),i}toString(){let e=this.begin.base0,r=this.end.base0;return`Range[${e.lineNumber}:${e.columnNumber} -> ${r.lineNumber}:${r.columnNumber}]`}};var ke=t=>isFinite(t)?new Promise(e=>setTimeout(e,t)):new Promise(()=>{}),yx=(t,e)=>{let r=setTimeout(t,e);return{dispose:()=>clearTimeout(r)}};function qu(t){return new Promise((e,r)=>{let i=t.length;for(let n of t)n.then(s=>{s?(e(s),i=-1):--i===0&&e(void 0)}).catch(r)})}function je(){let t=null,e=null,r=!1,i,n=new Promise((s,o)=>{t=a=>{r=!0,i=a,s(a)},e=a=>{r=!0,o(a)}});return{resolve:t,reject:e,promise:n,get settledValue(){return i},hasSettled:()=>r}}var mf=F(pe());var FT=F(vt()),UT=w("path"),jT=w("url");var iL=w("path"),nL=w("worker_threads");var xa=F(eL()),qv=w("fs"),Vv=w("worker_threads");var n9=Buffer.from("(function (exports, require, module, __filename, __dirname) { "),s9=Buffer.from(`
});`),o9=Buffer.from("(function (exports, require, module, __filename, __dirname, process, global, Buffer) { return function (exports, require, module, __filename, __dirname) { "),a9=Buffer.from(`
}.call(this, exports, require, module, __filename, __dirname); });`),u9=Buffer.from("#!"),c9=Buffer.from("\r")[0],l9=Buffer.from(`
`)[0],p9=(t,e)=>t.slice(0,e.length).equals(e),tL=(t,e,r)=>{let i=e.length===64?xa.shaHash:xa.hash;if(i(t)===e)return!0;if(r){if(p9(t,u9)){let n=t.indexOf(l9);return t[n-1]===c9&&n--,i(t.slice(n))===e}if(i(Buffer.concat([n9,t,s9]))===e)return!0}return i(Buffer.concat([o9,t,a9]))===e},rL=t=>t instanceof Buffer?t:Buffer.from(t,"utf-8");async function f9(t){switch(t.type){case 0:try{let e=await qv.promises.readFile(t.file);return{id:t.id,hash:t.mode===0?(0,xa.hash)(e):(0,xa.shaHash)(e)}}catch{return{id:t.id}}case 1:try{return{id:t.id,hash:(0,xa.hash)(rL(t.data))}}catch{return{id:t.id}}case 2:try{let e=await qv.promises.readFile(t.file);return{id:t.id,matches:tL(e,t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}case 3:try{return{id:t.id,matches:tL(rL(t.data),t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}}}function d9(t){t.on("message",e=>{f9(e).then(r=>t.postMessage(r))})}Vv.parentPort&&d9(Vv.parentPort);var nm=class{constructor(e=3,r=(0,iL.join)(__dirname,"hash.js")){this.maxFailures=e;this.hasherScriptPath=r;this.idCounter=0;this.failureCount=0;this.deferredMap=new Map;this.deferCleanup=lx(3e4,()=>this.cleanup())}async hashBytes(e,r){return(await this.send({type:1,data:r,mode:e,id:this.idCounter++})).hash}async hashFile(e,r){return(await this.send({type:0,file:r,mode:e,id:this.idCounter++})).hash}async verifyBytes(e,r,i){return(await this.send({type:3,data:e,id:this.idCounter++,expected:r,checkNode:i})).matches}async verifyFile(e,r,i){return(await this.send({type:2,file:e,id:this.idCounter++,expected:r,checkNode:i})).matches}dispose(){this.cleanup(),this.deferCleanup.clear()}send(e){let r=this.getProcess();if(!r)throw new Error("hash.js process unexpectedly exited");this.deferCleanup();let i=je();return this.deferredMap.set(e.id,{deferred:i,request:e}),r.postMessage(e),i.promise}cleanup(){this.instance&&(this.instance.removeAllListeners("exit"),this.instance.terminate(),this.instance=void 0,this.failureCount=0)}getProcess(){if(this.instance)return this.instance;if(this.failureCount>this.maxFailures)return;let e=this.instance=new nL.Worker(this.hasherScriptPath);return e.setMaxListeners(1/0),e.on("message",r=>{let i=r,n=this.deferredMap.get(i.id);n&&(n.deferred.resolve(i),this.deferredMap.delete(i.id))}),e.on("exit",()=>{this.instance=void 0,this.failureCount++;let r=this.getProcess();if(r){this.deferCleanup();for(let{request:i}of this.deferredMap.values())r.postMessage(i)}else{for(let{deferred:i}of this.deferredMap.values())i.reject(new Error("hash.js process unexpectedly exited"));this.deferredMap.clear(),this.deferCleanup.clear()}}),e}};var ms=F(w("fs")),sL=F(w("util"));async function Zu({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}async function ro({stat:t},e){if(e)try{return await t(e)}catch{return}}function oL(t){return new Promise(e=>{ms.readFile(t,"utf8",async(r,i)=>{e(r?"":i)})})}var Jfe=sL.promisify(ms.writeFile);var Fr=Symbol("FsUtils"),Ki=class{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,ms.constants.F_OK),!0}catch{return!1}}readFile(e){return this.fs.readFile(e)}},Gv=class{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{let{doesExists:r}=await this.dap.remoteFileExistsRequest({localFilePath:e});return r}catch{return!1}}readFile(){throw new Error("not implemented")}},sm=class{constructor(e,r,i){this.remoteFilePrefix=e;this.localFsUtils=r;this.remoteFsUtils=i}static create(e,r,i){let n=new Ki(r);return e!==void 0?new this(e.toLowerCase(),n,new Gv(i)):n}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}};var WC=w("crypto"),qC=F(h_()),VC=w("os"),Re=F(w("path"));var pz=process.platform==="win32"?"\\\\.\\pipe\\":(0,VC.tmpdir)(),fz=0,GC=()=>Re.join(pz,`node-cdp.${process.pid}-${(0,WC.randomBytes)(4).toString("hex")}-${fz++}.sock`);async function Hm(t,e,r){let i;if(process.platform==="win32"){let n=r.WINDIR||"C:\\Windows";i=Re.join(n,"System32","where.exe")}else i="/usr/bin/which";try{if(await ro(t,i)){let s=(await(0,qC.default)(i,[e],{env:ju(r)})).stdout.split(/\r?\n/);if(process.platform==="win32"){let o=String(r.PATHEXT||".exe").toUpperCase().split(";");for(let a of s){let u=Re.extname(a).toUpperCase();if(u&&o.includes(u))return a}}else if(s.length>0)return s[0];return}return e}catch{}}async function KC(t,e,r){if(e){if(process.platform==="win32"&&!Re.extname(e)){let i=r.lookup("PATHEXT");if(i){let n=i.split(";");for(let s of n){let o=e+s;if(await ro(t,o))return o}}}if(await ro(t,e))return e}}var zC=t=>t.includes(`.asar${Re.sep}`);function io(...t){return Re.posix.isAbsolute(t[0])?lt(Re.posix.join(...t)):Re.win32.isAbsolute(t[0])?Re.win32.join(...t):Re.join(...t)}function Yr(...t){return Re.posix.isAbsolute(t[0])?Re.posix.resolve(...t):Re.win32.isAbsolute(t[0])?Re.win32.resolve(...t):Re.resolve(...t)}function Bp(t,e){return Re.posix.isAbsolute(t)?Re.posix.relative(t,e):Re.win32.isAbsolute(t)?Re.win32.relative(t,e):Re.relative(t,e)}var dz=/\/|\\/,Np="file:///",XC=t=>t.startsWith(Np)&&t[Np.length+1]===":",m_=t=>t.split(dz);function g_(t,e=!1){if(!t)return t;if(XC(t)){let r=Np.length;t=Np+t[r].toLowerCase()+t.substr(r+1)}else ym(t)&&(t=(e?t[0].toUpperCase():t[0].toLowerCase())+t.substr(1));return t}function _t(t,e=!1){if(!t)return t;if(t=g_(t,e),XC(t)){let r=Np.length;t=t.substr(0,r+1)+t.substr(r+1).replace(/\//g,"\\")}else ym(t)&&(t=t.replace(/\//g,"\\"));return t}function lt(t){return t.replace(/\\\//g,"/").replace(/\\/g,"/")}var JC=(t,e)=>{let r=Re.relative(t,e);return r.length&&!Re.isAbsolute(r)&&!r.startsWith("..")},YC=(t,e)=>{let r=Re.relative(t,e);return!Re.isAbsolute(r)&&!r.startsWith("..")},H_=t=>t.startsWith("\\\\"),ym=t=>/^[A-Za-z]:/.test(t)||H_(t);var ZC=w("fs"),QC=new nm;async function eD(t,e,r){return!t||zC(t)?void 0:e?(typeof r=="string"?await QC.verifyBytes(r,e,!0):await QC.verifyFile(t,e,!0))?t:void 0:await new Ki(ZC.promises).exists(t)?t:void 0}var y_={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},b_="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",mz={5:b_,"5module":b_+" export import",6:b_+" const class extends export import super"},gz=/^in(stanceof)?$/,I_="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",sD="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Hz=new RegExp("["+I_+"]"),yz=new RegExp("["+I_+sD+"]");I_=sD=null;var oD=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],bz=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239];function __(t,e){for(var r=65536,i=0;i<e.length;i+=2){if(r+=e[i],r>t)return!1;if(r+=e[i+1],r>=t)return!0}}function Hs(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&Hz.test(String.fromCharCode(t)):e===!1?!1:__(t,oD)}function oc(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&yz.test(String.fromCharCode(t)):e===!1?!1:__(t,oD)||__(t,bz)}var $e=function(e,r){r===void 0&&(r={}),this.label=e,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function gi(t,e){return new $e(t,{beforeExpr:!0,binop:e})}var Hi={beforeExpr:!0},Ur={startsExpr:!0},A_={};function Le(t,e){return e===void 0&&(e={}),e.keyword=t,A_[t]=new $e(t,e)}var h={num:new $e("num",Ur),regexp:new $e("regexp",Ur),string:new $e("string",Ur),name:new $e("name",Ur),privateId:new $e("privateId",Ur),eof:new $e("eof"),bracketL:new $e("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new $e("]"),braceL:new $e("{",{beforeExpr:!0,startsExpr:!0}),braceR:new $e("}"),parenL:new $e("(",{beforeExpr:!0,startsExpr:!0}),parenR:new $e(")"),comma:new $e(",",Hi),semi:new $e(";",Hi),colon:new $e(":",Hi),dot:new $e("."),question:new $e("?",Hi),questionDot:new $e("?."),arrow:new $e("=>",Hi),template:new $e("template"),invalidTemplate:new $e("invalidTemplate"),ellipsis:new $e("...",Hi),backQuote:new $e("`",Ur),dollarBraceL:new $e("${",{beforeExpr:!0,startsExpr:!0}),eq:new $e("=",{beforeExpr:!0,isAssign:!0}),assign:new $e("_=",{beforeExpr:!0,isAssign:!0}),incDec:new $e("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new $e("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:gi("||",1),logicalAND:gi("&&",2),bitwiseOR:gi("|",3),bitwiseXOR:gi("^",4),bitwiseAND:gi("&",5),equality:gi("==/!=/===/!==",6),relational:gi("</>/<=/>=",7),bitShift:gi("<</>>/>>>",8),plusMin:new $e("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:gi("%",10),star:gi("*",10),slash:gi("/",10),starstar:new $e("**",{beforeExpr:!0}),coalesce:gi("??",1),_break:Le("break"),_case:Le("case",Hi),_catch:Le("catch"),_continue:Le("continue"),_debugger:Le("debugger"),_default:Le("default",Hi),_do:Le("do",{isLoop:!0,beforeExpr:!0}),_else:Le("else",Hi),_finally:Le("finally"),_for:Le("for",{isLoop:!0}),_function:Le("function",Ur),_if:Le("if"),_return:Le("return",Hi),_switch:Le("switch"),_throw:Le("throw",Hi),_try:Le("try"),_var:Le("var"),_const:Le("const"),_while:Le("while",{isLoop:!0}),_with:Le("with"),_new:Le("new",{beforeExpr:!0,startsExpr:!0}),_this:Le("this",Ur),_super:Le("super",Ur),_class:Le("class",Ur),_extends:Le("extends",Hi),_export:Le("export"),_import:Le("import",Ur),_null:Le("null",Ur),_true:Le("true",Ur),_false:Le("false",Ur),_in:Le("in",{beforeExpr:!0,binop:7}),_instanceof:Le("instanceof",{beforeExpr:!0,binop:7}),_typeof:Le("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Le("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Le("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},jr=/\r\n?|\n|\u2028|\u2029/,Am=new RegExp(jr.source,"g");function Tn(t){return t===10||t===13||t===8232||t===8233}function aD(t,e,r){r===void 0&&(r=t.length);for(var i=e;i<r;i++){var n=t.charCodeAt(i);if(Tn(n))return i<r-1&&n===13&&t.charCodeAt(i+1)===10?i+2:i+1}return-1}var uD=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,yi=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,cD=Object.prototype,vz=cD.hasOwnProperty,_z=cD.toString,qp=Object.hasOwn||function(t,e){return vz.call(t,e)},tD=Array.isArray||function(t){return _z.call(t)==="[object Array]"};function Pa(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}var wz=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Up=function(e,r){this.line=e,this.column=r};Up.prototype.offset=function(e){return new Up(this.line,this.column+e)};var La=function(e,r,i){this.start=r,this.end=i,e.sourceFile!==null&&(this.source=e.sourceFile)};function ac(t,e){for(var r=1,i=0;;){var n=aD(t,i,e);if(n<0)return new Up(r,e-i);++r,i=n}}var jp={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},rD=!1;function Iz(t){var e={};for(var r in jp)e[r]=t&&qp(t,r)?t[r]:jp[r];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!rD&&typeof console=="object"&&console.warn&&(rD=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),tD(e.onToken)){var i=e.onToken;e.onToken=function(n){return i.push(n)}}return tD(e.onComment)&&(e.onComment=Az(e,e.onComment)),e}function Az(t,e){return function(r,i,n,s,o,a){var u={type:r?"Block":"Line",value:i,start:n,end:s};t.locations&&(u.loc=new La(this,o,a)),t.ranges&&(u.range=[n,s]),e.push(u)}}var Wp=1,uc=2,S_=4,lD=8,pD=16,fD=32,E_=64,dD=128,Vp=256,x_=Wp|uc|Vp;function P_(t,e){return uc|(t?S_:0)|(e?lD:0)}var vm=0,L_=1,gs=2,hD=3,mD=4,gD=5,pt=function(e,r,i){this.options=e=Iz(e),this.sourceFile=e.sourceFile,this.keywords=Pa(mz[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var n="";e.allowReserved!==!0&&(n=y_[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(n+=" await")),this.reservedWords=Pa(n);var s=(n?n+" ":"")+y_.strict;this.reservedWordsStrict=Pa(s),this.reservedWordsStrictBind=Pa(s+" "+y_.strictBind),this.input=String(r),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf(`
`,i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(jr).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Wp),this.regexpState=null,this.privateNameStack=[]},$n={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};pt.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};$n.inFunction.get=function(){return(this.currentVarScope().flags&uc)>0};$n.inGenerator.get=function(){return(this.currentVarScope().flags&lD)>0&&!this.currentVarScope().inClassFieldInit};$n.inAsync.get=function(){return(this.currentVarScope().flags&S_)>0&&!this.currentVarScope().inClassFieldInit};$n.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Vp)return!1;if(e.flags&uc)return(e.flags&S_)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};$n.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,r=t.inClassFieldInit;return(e&E_)>0||r||this.options.allowSuperOutsideMethod};$n.allowDirectSuper.get=function(){return(this.currentThisScope().flags&dD)>0};$n.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};$n.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,r=t.inClassFieldInit;return(e&(uc|Vp))>0||r};$n.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Vp)>0};pt.extend=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var i=this,n=0;n<e.length;n++)i=e[n](i);return i};pt.parse=function(e,r){return new this(r,e).parse()};pt.parseExpressionAt=function(e,r,i){var n=new this(i,e,r);return n.nextToken(),n.parseExpression()};pt.tokenizer=function(e,r){return new this(r,e)};Object.defineProperties(pt.prototype,$n);var Ar=pt.prototype,Sz=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ar.strictDirective=function(t){for(;;){yi.lastIndex=t,t+=yi.exec(this.input)[0].length;var e=Sz.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){yi.lastIndex=t+e[0].length;var r=yi.exec(this.input),i=r.index+r[0].length,n=this.input.charAt(i);return n===";"||n==="}"||jr.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||n==="!"&&this.input.charAt(i+1)==="=")}t+=e[0].length,yi.lastIndex=t,t+=yi.exec(this.input)[0].length,this.input[t]===";"&&t++}};Ar.eat=function(t){return this.type===t?(this.next(),!0):!1};Ar.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};Ar.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Ar.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Ar.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||jr.test(this.input.slice(this.lastTokEnd,this.start))};Ar.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Ar.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};Ar.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Ar.expect=function(t){this.eat(t)||this.unexpected()};Ar.unexpected=function(t){this.raise(t??this.start,"Unexpected token")};function Sm(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}Ar.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var r=e?t.parenthesizedAssign:t.parenthesizedBind;r>-1&&this.raiseRecoverable(r,"Parenthesized pattern")}};Ar.checkExpressionErrors=function(t,e){if(!t)return!1;var r=t.shorthandAssign,i=t.doubleProto;if(!e)return r>=0||i>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")};Ar.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Ar.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var ye=pt.prototype;ye.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var r=this.parseStatement(null,!0,e);t.body.push(r)}if(this.inModule)for(var i=0,n=Object.keys(this.undefinedExports);i<n.length;i+=1){var s=n[i];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var C_={kind:"loop"},Ez={kind:"switch"};ye.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;yi.lastIndex=this.pos;var e=yi.exec(this.input),r=this.pos+e[0].length,i=this.input.charCodeAt(r);if(i===91||i===92||i>55295&&i<56320)return!0;if(t)return!1;if(i===123)return!0;if(Hs(i,!0)){for(var n=r+1;oc(i=this.input.charCodeAt(n),!0);)++n;if(i===92||i>55295&&i<56320)return!0;var s=this.input.slice(r,n);if(!gz.test(s))return!0}return!1};ye.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;yi.lastIndex=this.pos;var t=yi.exec(this.input),e=this.pos+t[0].length,r;return!jr.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(oc(r=this.input.charCodeAt(e+8))||r>55295&&r<56320))};ye.parseStatement=function(t,e,r){var i=this.type,n=this.startNode(),s;switch(this.isLet(t)&&(i=h._var,s="let"),i){case h._break:case h._continue:return this.parseBreakContinueStatement(n,i.keyword);case h._debugger:return this.parseDebuggerStatement(n);case h._do:return this.parseDoStatement(n);case h._for:return this.parseForStatement(n);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(n,!0);case h._if:return this.parseIfStatement(n);case h._return:return this.parseReturnStatement(n);case h._switch:return this.parseSwitchStatement(n);case h._throw:return this.parseThrowStatement(n);case h._try:return this.parseTryStatement(n);case h._const:case h._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(n,s);case h._while:return this.parseWhileStatement(n);case h._with:return this.parseWithStatement(n);case h.braceL:return this.parseBlock(!0,n);case h.semi:return this.parseEmptyStatement(n);case h._export:case h._import:if(this.options.ecmaVersion>10&&i===h._import){yi.lastIndex=this.pos;var o=yi.exec(this.input),a=this.pos+o[0].length,u=this.input.charCodeAt(a);if(u===40||u===46)return this.parseExpressionStatement(n,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===h._import?this.parseImport(n):this.parseExport(n,r);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(n,!0,!t);var c=this.value,l=this.parseExpression();return i===h.name&&l.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(n,c,l,t):this.parseExpressionStatement(n,l)}};ye.parseBreakContinueStatement=function(t,e){var r=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var n=this.labels[i];if((t.label==null||n.name===t.label.name)&&(n.kind!=null&&(r||n.kind==="loop")||t.label&&r))break}return i===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,r?"BreakStatement":"ContinueStatement")};ye.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};ye.parseDoStatement=function(t){return this.next(),this.labels.push(C_),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};ye.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(C_),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var r=this.isLet();if(this.type===h._var||this.type===h._const||r){var i=this.startNode(),n=r?"let":this.value;return this.next(),this.parseVar(i,!0,n),this.finishNode(i,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&i.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,i)):(e>-1&&this.unexpected(e),this.parseFor(t,i))}var s=this.isContextual("let"),o=!1,a=new Sm,u=this.parseExpression(e>-1?"await":!0,a);return this.type===h._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&o&&this.raise(u.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(u,!1,a),this.checkLValPattern(u),this.parseForIn(t,u)):(this.checkExpressionErrors(a,!0),e>-1&&this.unexpected(e),this.parseFor(t,u))};ye.parseFunctionStatement=function(t,e,r){return this.next(),this.parseFunction(t,Fp|(r?0:w_),!1,e)};ye.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};ye.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};ye.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(Ez),this.enterScope(0);for(var e,r=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var i=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),i?e.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};ye.parseThrowStatement=function(t){return this.next(),jr.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var xz=[];ye.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();if(this.next(),this.eat(h.parenL)){e.param=this.parseBindingAtom();var r=e.param.type==="Identifier";this.enterScope(r?fD:0),this.checkLValPattern(e.param,r?mD:gs),this.expect(h.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};ye.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")};ye.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(C_),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};ye.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};ye.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};ye.parseLabeledStatement=function(t,e,r,i){for(var n=0,s=this.labels;n<s.length;n+=1){var o=s[n];o.name===e&&this.raise(r.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===h._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var c=this.labels[u];if(c.statementStart===t.start)c.statementStart=this.start,c.kind=a;else break}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(i?i.indexOf("label")===-1?i+"label":i:"label"),this.labels.pop(),t.label=r,this.finishNode(t,"LabeledStatement")};ye.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};ye.parseBlock=function(t,e,r){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var i=this.parseStatement(null);e.body.push(i)}return r&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};ye.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};ye.parseForIn=function(t,e){var r=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,r?"ForInStatement":"ForOfStatement")};ye.parseVar=function(t,e,r){for(t.declarations=[],t.kind=r;;){var i=this.startNode();if(this.parseVarId(i,r),this.eat(h.eq)?i.init=this.parseMaybeAssign(e):r==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():i.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(h.comma))break}return t};ye.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?L_:gs,!1)};var Fp=1,w_=2,HD=4;ye.parseFunction=function(t,e,r,i,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===h.star&&e&w_&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!i),e&Fp&&(t.id=e&HD&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&w_)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?L_:gs:hD));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(P_(t.async,t.generator)),e&Fp||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,r,!1,n),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(t,e&Fp?"FunctionDeclaration":"FunctionExpression")};ye.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};ye.parseClass=function(t,e){this.next();var r=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var i=this.enterClassBody(),n=this.startNode(),s=!1;for(n.body=[],this.expect(h.braceL);this.type!==h.braceR;){var o=this.parseClassElement(t.superClass!==null);o&&(n.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raise(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&Pz(i,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=r,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};ye.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,r=this.startNode(),i="",n=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===h.star?a=!0:i="static"}if(r.static=a,!i&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?s=!0:i="async"),!i&&(e>=9||!s)&&this.eat(h.star)&&(n=!0),!i&&!s&&!n){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:i=u)}if(i?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=i,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),e<13||this.type===h.parenL||o!=="method"||n||s){var c=!r.static&&_m(r,"constructor"),l=c&&t;c&&o!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=c?"constructor":o,this.parseClassMethod(r,n,s,l)}else this.parseClassField(r);return r};ye.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};ye.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};ye.parseClassMethod=function(t,e,r,i){var n=t.key;t.kind==="constructor"?(e&&this.raise(n.start,"Constructor can't be a generator"),r&&this.raise(n.start,"Constructor can't be an async method")):t.static&&_m(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,r,i);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};ye.parseClassField=function(t){if(_m(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&_m(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),r=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=r}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};ye.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Vp|E_);this.type!==h.braceR;){var r=this.parseStatement(null);t.body.push(r)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};ye.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,gs,!1)):(e===!0&&this.unexpected(),t.id=null)};ye.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(!1):null};ye.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};ye.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,r=t.used,i=this.privateNameStack.length,n=i===0?null:this.privateNameStack[i-1],s=0;s<r.length;++s){var o=r[s];qp(e,o.name)||(n?n.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function Pz(t,e){var r=e.key.name,i=t[r],n="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(n=(e.static?"s":"i")+e.kind),i==="iget"&&n==="iset"||i==="iset"&&n==="iget"||i==="sget"&&n==="sset"||i==="sset"&&n==="sget"?(t[r]="true",!1):i?!0:(t[r]=n,!1)}function _m(t,e){var r=t.computed,i=t.key;return!r&&(i.type==="Identifier"&&i.name===e||i.type==="Literal"&&i.value===e)}ye.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported.name,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(h._default)){this.checkExport(e,"default",this.lastTokStart);var r;if(this.type===h._function||(r=this.isAsyncFunction())){var i=this.startNode();this.next(),r&&this.next(),t.declaration=this.parseFunction(i,Fp|HD,!1,r)}else if(this.type===h._class){var n=this.startNode();t.declaration=this.parseClass(n,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var s=0,o=t.specifiers;s<o.length;s+=1){var a=o[s];this.checkUnreserved(a.local),this.checkLocalExport(a.local),a.local.type==="Literal"&&this.raise(a.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};ye.checkExport=function(t,e,r){t&&(qp(t,e)&&this.raiseRecoverable(r,"Duplicate export '"+e+"'"),t[e]=!0)};ye.checkPatternExport=function(t,e){var r=e.type;if(r==="Identifier")this.checkExport(t,e.name,e.start);else if(r==="ObjectPattern")for(var i=0,n=e.properties;i<n.length;i+=1){var s=n[i];this.checkPatternExport(t,s)}else if(r==="ArrayPattern")for(var o=0,a=e.elements;o<a.length;o+=1){var u=a[o];u&&this.checkPatternExport(t,u)}else r==="Property"?this.checkPatternExport(t,e.value):r==="AssignmentPattern"?this.checkPatternExport(t,e.left):r==="RestElement"?this.checkPatternExport(t,e.argument):r==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};ye.checkVariableExport=function(t,e){if(t)for(var r=0,i=e;r<i.length;r+=1){var n=i[r];this.checkPatternExport(t,n.id)}};ye.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};ye.parseExportSpecifiers=function(t){var e=[],r=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(r)r=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var i=this.startNode();i.local=this.parseModuleExportName(),i.exported=this.eatContextual("as")?this.parseModuleExportName():i.local,this.checkExport(t,i.exported[i.exported.type==="Identifier"?"name":"value"],i.exported.start),e.push(this.finishNode(i,"ExportSpecifier"))}return e};ye.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=xz,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};ye.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name){var r=this.startNode();if(r.local=this.parseIdent(),this.checkLValSimple(r.local,gs),t.push(this.finishNode(r,"ImportDefaultSpecifier")),!this.eat(h.comma))return t}if(this.type===h.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,gs),t.push(this.finishNode(i,"ImportNamespaceSpecifier")),t}for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;var n=this.startNode();n.imported=this.parseModuleExportName(),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLValSimple(n.local,gs),t.push(this.finishNode(n,"ImportSpecifier"))}return t};ye.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return wz.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};ye.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};ye.isDirectiveCandidate=function(t){return t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Xi=pt.prototype;Xi.toAssignable=function(t,e,r){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var i=0,n=t.properties;i<n.length;i+=1){var s=n[i];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,r);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return t};Xi.toAssignableList=function(t,e){for(var r=t.length,i=0;i<r;i++){var n=t[i];n&&this.toAssignable(n,e)}if(r){var s=t[r-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};Xi.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Xi.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Xi.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Xi.parseBindingList=function(t,e,r){for(var i=[],n=!0;!this.eat(t);)if(n?n=!1:this.expect(h.comma),e&&this.type===h.comma)i.push(null);else{if(r&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else{var o=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(o),i.push(o)}}return i};Xi.parseBindingListItem=function(t){return t};Xi.parseMaybeDefault=function(t,e,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return r;var i=this.startNodeAt(t,e);return i.left=r,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")};Xi.checkLValSimple=function(t,e,r){e===void 0&&(e=vm);var i=e!==vm;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(i?"Binding ":"Assigning to ")+t.name+" in strict mode"),i&&(e===gs&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),r&&(qp(r,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),r[t.name]=!0),e!==gD&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,r);default:this.raise(t.start,(i?"Binding":"Assigning to")+" rvalue")}};Xi.checkLValPattern=function(t,e,r){switch(e===void 0&&(e=vm),t.type){case"ObjectPattern":for(var i=0,n=t.properties;i<n.length;i+=1){var s=n[i];this.checkLValInnerPattern(s,e,r)}break;case"ArrayPattern":for(var o=0,a=t.elements;o<a.length;o+=1){var u=a[o];u&&this.checkLValInnerPattern(u,e,r)}break;default:this.checkLValSimple(t,e,r)}};Xi.checkLValInnerPattern=function(t,e,r){switch(e===void 0&&(e=vm),t.type){case"Property":this.checkLValInnerPattern(t.value,e,r);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,r);break;case"RestElement":this.checkLValPattern(t.argument,e,r);break;default:this.checkLValPattern(t,e,r)}};var zi=function(e,r,i,n,s){this.token=e,this.isExpr=!!r,this.preserveSpace=!!i,this.override=n,this.generator=!!s},Ze={b_stat:new zi("{",!1),b_expr:new zi("{",!0),b_tmpl:new zi("${",!1),p_stat:new zi("(",!1),p_expr:new zi("(",!0),q_tmpl:new zi("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new zi("function",!1),f_expr:new zi("function",!0),f_expr_gen:new zi("function",!0,!1,null,!0),f_gen:new zi("function",!1,!1,null,!0)},cc=pt.prototype;cc.initialContext=function(){return[Ze.b_stat]};cc.curContext=function(){return this.context[this.context.length-1]};cc.braceIsBlock=function(t){var e=this.curContext();return e===Ze.f_expr||e===Ze.f_stat?!0:t===h.colon&&(e===Ze.b_stat||e===Ze.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?jr.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===Ze.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};cc.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};cc.updateContext=function(t){var e,r=this.type;r.keyword&&t===h.dot?this.exprAllowed=!1:(e=r.updateContext)?e.call(this,t):this.exprAllowed=r.beforeExpr};cc.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Ze.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Ze.b_stat:Ze.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(Ze.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?Ze.p_stat:Ze.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==Ze.p_stat)&&!(t===h._return&&jr.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===Ze.b_stat)?this.context.push(Ze.f_expr):this.context.push(Ze.f_stat),this.exprAllowed=!1};h.backQuote.updateContext=function(){this.curContext()===Ze.q_tmpl?this.context.pop():this.context.push(Ze.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===Ze.f_expr?this.context[e]=Ze.f_expr_gen:this.context[e]=Ze.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Ie=pt.prototype;Ie.checkPropClash=function(t,e,r){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var i=t.key,n;switch(i.type){case"Identifier":n=i.name;break;case"Literal":n=String(i.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){n==="__proto__"&&s==="init"&&(e.proto&&(r?r.doubleProto<0&&(r.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),e.proto=!0);return}n="$"+n;var o=e[n];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(i.start,"Redefinition of property")}else o=e[n]={init:!1,get:!1,set:!1};o[s]=!0}};Ie.parseExpression=function(t,e){var r=this.start,i=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===h.comma){var s=this.startNodeAt(r,i);for(s.expressions=[n];this.eat(h.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return n};Ie.parseMaybeAssign=function(t,e,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var i=!1,n=-1,s=-1,o=-1;e?(n=e.parenthesizedAssign,s=e.trailingComma,o=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Sm,i=!0);var a=this.start,u=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var c=this.parseMaybeConditional(t,e);if(r&&(c=r.call(this,c,a,u)),this.type.isAssign){var l=this.startNodeAt(a,u);return l.operator=this.value,this.type===h.eq&&(c=this.toAssignable(c,!1,e)),i||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=c.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(c):this.checkLValSimple(c),l.left=c,this.next(),l.right=this.parseMaybeAssign(t),o>-1&&(e.doubleProto=o),this.finishNode(l,"AssignmentExpression")}else i&&this.checkExpressionErrors(e,!0);return n>-1&&(e.parenthesizedAssign=n),s>-1&&(e.trailingComma=s),c};Ie.parseMaybeConditional=function(t,e){var r=this.start,i=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(h.question)){var s=this.startNodeAt(r,i);return s.test=n,s.consequent=this.parseMaybeAssign(),this.expect(h.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return n};Ie.parseExprOps=function(t,e){var r=this.start,i=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===r&&n.type==="ArrowFunctionExpression"?n:this.parseExprOp(n,r,i,-1,t)};Ie.parseExprOp=function(t,e,r,i,n){var s=this.type.binop;if(s!=null&&(!n||this.type!==h._in)&&s>i){var o=this.type===h.logicalOR||this.type===h.logicalAND,a=this.type===h.coalesce;a&&(s=h.logicalAND.binop);var u=this.value;this.next();var c=this.start,l=this.startLoc,p=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),c,l,s,n),f=this.buildBinary(e,r,t,p,u,o||a);return(o&&this.type===h.coalesce||a&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,e,r,i,n)}return t};Ie.buildBinary=function(t,e,r,i,n,s){i.type==="PrivateIdentifier"&&this.raise(i.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(t,e);return o.left=r,o.operator=n,o.right=i,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};Ie.parseMaybeUnary=function(t,e,r,i){var n=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(i),e=!0;else if(this.type.prefix){var a=this.startNode(),u=this.type===h.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,u,i),this.checkExpressionErrors(t,!0),u?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&a.argument.type==="Identifier"?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&yD(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):e=!0,o=this.finishNode(a,u?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(i||this.privateNameStack.length===0)&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(o=this.parseExprSubscripts(t,i),this.checkExpressionErrors(t))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(n,s);c.operator=this.value,c.prefix=!1,c.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(c,"UpdateExpression")}}if(!r&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(n,s,o,this.parseMaybeUnary(null,!1,!1,i),"**",!1);else return o};function yD(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&yD(t.expression)}Ie.parseExprSubscripts=function(t,e){var r=this.start,i=this.startLoc,n=this.parseExprAtom(t,e);if(n.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return n;var s=this.parseSubscripts(n,r,i,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};Ie.parseSubscripts=function(t,e,r,i,n){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,o=!1;;){var a=this.parseSubscript(t,e,r,i,s,o,n);if(a.optional&&(o=!0),a===t||a.type==="ArrowFunctionExpression"){if(o){var u=this.startNodeAt(e,r);u.expression=a,a=this.finishNode(u,"ChainExpression")}return a}t=a}};Ie.parseSubscript=function(t,e,r,i,n,s,o){var a=this.options.ecmaVersion>=11,u=a&&this.eat(h.questionDot);i&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(h.bracketL);if(c||u&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var l=this.startNodeAt(e,r);l.object=t,c?(l.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?l.property=this.parsePrivateIdent():l.property=this.parseIdent(this.options.allowReserved!=="never"),l.computed=!!c,a&&(l.optional=u),t=this.finishNode(l,"MemberExpression")}else if(!i&&this.eat(h.parenL)){var p=new Sm,f=this.yieldPos,g=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var y=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,p);if(n&&!u&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=g,this.awaitIdentPos=m,this.parseArrowExpression(this.startNodeAt(e,r),y,!0,o);this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=g||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var b=this.startNodeAt(e,r);b.callee=t,b.arguments=y,a&&(b.optional=u),t=this.finishNode(b,"CallExpression")}else if(this.type===h.backQuote){(u||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var I=this.startNodeAt(e,r);I.tag=t,I.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(I,"TaggedTemplateExpression")}return t};Ie.parseExprAtom=function(t,e){this.type===h.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(r,"Super");case h._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case h.name:var n=this.start,s=this.startLoc,o=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&a.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(Ze.f_expr),this.parseFunction(this.startNodeAt(n,s),0,!1,!0,e);if(i&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(n,s),[a],!1,e);if(this.options.ecmaVersion>=8&&a.name==="async"&&this.type===h.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return a=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(n,s),[a],!0,e)}return a;case h.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return r=this.startNode(),r.value=this.type===h._null?null:this.type===h._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case h.parenL:var c=this.start,l=this.parseParenAndDistinguishExpression(i,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(t.parenthesizedAssign=c),t.parenthesizedBind<0&&(t.parenthesizedBind=c)),l;case h.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case h.braceL:return this.overrideContext(Ze.b_expr),this.parseObj(!1,t);case h._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};Ie.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case h.parenL:return this.parseDynamicImport(t);case h.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}};Ie.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};Ie.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};Ie.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};Ie.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};Ie.parseParenAndDistinguishExpression=function(t,e){var r=this.start,i=this.startLoc,n,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,u=[],c=!0,l=!1,p=new Sm,f=this.yieldPos,g=this.awaitPos,m;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(c?c=!1:this.expect(h.comma),s&&this.afterTrailingComma(h.parenR,!0)){l=!0;break}else if(this.type===h.ellipsis){m=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else u.push(this.parseMaybeAssign(!1,p,this.parseParenItem));var y=this.lastTokEnd,b=this.lastTokEndLoc;if(this.expect(h.parenR),t&&!this.canInsertSemicolon()&&this.eat(h.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=g,this.parseParenArrowList(r,i,u,e);(!u.length||l)&&this.unexpected(this.lastTokStart),m&&this.unexpected(m),this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=g||this.awaitPos,u.length>1?(n=this.startNodeAt(o,a),n.expressions=u,this.finishNodeAt(n,"SequenceExpression",y,b)):n=u[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var I=this.startNodeAt(r,i);return I.expression=n,this.finishNode(I,"ParenthesizedExpression")}else return n};Ie.parseParenItem=function(t){return t};Ie.parseParenArrowList=function(t,e,r,i){return this.parseArrowExpression(this.startNodeAt(t,e),r,!1,i)};var Lz=[];Ie.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot)){t.meta=e;var r=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var i=this.start,n=this.startLoc,s=this.type===h._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),i,n,!0,!1),s&&t.callee.type==="ImportExpression"&&this.raise(i,"Cannot use new with import()"),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=Lz,this.finishNode(t,"NewExpression")};Ie.parseTemplateElement=function(t){var e=t.isTagged,r=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value,cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===h.backQuote,this.finishNode(r,"TemplateElement")};Ie.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var r=this.startNode();this.next(),r.expressions=[];var i=this.parseTemplateElement({isTagged:e});for(r.quasis=[i];!i.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(h.braceR),r.quasis.push(i=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(r,"TemplateLiteral")};Ie.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!jr.test(this.input.slice(this.lastTokEnd,this.start))};Ie.parseObj=function(t,e){var r=this.startNode(),i=!0,n={};for(r.properties=[],this.next();!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,n,e),r.properties.push(s)}return this.finishNode(r,t?"ObjectPattern":"ObjectExpression")};Ie.parseProperty=function(t,e){var r=this.startNode(),i,n,s,o;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(r.argument=this.parseIdent(!1),this.type===h.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(this.type===h.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0&&(e.parenthesizedBind=this.start)),r.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(t||e)&&(s=this.start,o=this.startLoc),t||(i=this.eat(h.star)));var a=this.containsEsc;return this.parsePropertyName(r),!t&&!a&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(r)?(n=!0,i=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(r,e)):n=!1,this.parsePropertyValue(r,t,i,n,s,o,e,a),this.finishNode(r,"Property")};Ie.parsePropertyValue=function(t,e,r,i,n,s,o,a){if((r||i)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===h.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(r,i);else if(!e&&!a&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq){(r||i)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var u=t.kind==="get"?0:1;if(t.value.params.length!==u){var c=t.value.start;t.kind==="get"?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((r||i)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=n),t.kind="init",e?t.value=this.parseMaybeDefault(n,s,this.copyNode(t.key)):this.type===h.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};Ie.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Ie.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};Ie.parseMethod=function(t,e,r){var i=this.startNode(),n=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=t),this.options.ecmaVersion>=8&&(i.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(P_(e,i.generator)|E_|(r?dD:0)),this.expect(h.parenL),i.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=n,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(i,"FunctionExpression")};Ie.parseArrowExpression=function(t,e,r,i){var n=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(P_(r,!1)|pD),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,i),this.yieldPos=n,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(t,"ArrowFunctionExpression")};Ie.parseFunctionBody=function(t,e,r,i){var n=e&&this.type!==h.braceL,s=this.strict,o=!1;if(n)t.body=this.parseMaybeAssign(i),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(t,!s&&!o&&!e&&!r&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,gD),t.body=this.parseBlock(!1,void 0,o&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=u}this.exitScope()};Ie.isSimpleParamList=function(t){for(var e=0,r=t;e<r.length;e+=1){var i=r[e];if(i.type!=="Identifier")return!1}return!0};Ie.checkParams=function(t,e){for(var r=Object.create(null),i=0,n=t.params;i<n.length;i+=1){var s=n[i];this.checkLValInnerPattern(s,L_,e?null:r)}};Ie.parseExprList=function(t,e,r,i){for(var n=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var o=void 0;r&&this.type===h.comma?o=null:this.type===h.ellipsis?(o=this.parseSpread(i),i&&this.type===h.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):o=this.parseMaybeAssign(!1,i),n.push(o)}return n};Ie.checkUnreserved=function(t){var e=t.start,r=t.end,i=t.name;if(this.inGenerator&&i==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&i==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&i==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(i==="arguments"||i==="await")&&this.raise(e,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(e,"Unexpected keyword '"+i+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,r).indexOf("\\")!==-1)){var n=this.strict?this.reservedWordsStrict:this.reservedWords;n.test(i)&&(!this.inAsync&&i==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+i+"' is reserved"))}};Ie.parseIdent=function(t,e){var r=this.startNode();return this.type===h.name?r.name=this.value:this.type.keyword?(r.name=this.type.keyword,(r.name==="class"||r.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(r,"Identifier"),t||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r};Ie.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t};Ie.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};Ie.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var wm=pt.prototype;wm.raise=function(t,e){var r=ac(this.input,t);e+=" ("+r.line+":"+r.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=r,i.raisedAt=this.pos,i};wm.raiseRecoverable=wm.raise;wm.curPosition=function(){if(this.options.locations)return new Up(this.curLine,this.pos-this.lineStart)};var no=pt.prototype,Cz=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};no.enterScope=function(t){this.scopeStack.push(new Cz(t))};no.exitScope=function(){this.scopeStack.pop()};no.treatFunctionsAsVarInScope=function(t){return t.flags&uc||!this.inModule&&t.flags&Wp};no.declareName=function(t,e,r){var i=!1;if(e===gs){var n=this.currentScope();i=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&n.flags&Wp&&delete this.undefinedExports[t]}else if(e===mD){var s=this.currentScope();s.lexical.push(t)}else if(e===hD){var o=this.currentScope();this.treatFunctionsAsVar?i=o.lexical.indexOf(t)>-1:i=o.lexical.indexOf(t)>-1||o.var.indexOf(t)>-1,o.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var u=this.scopeStack[a];if(u.lexical.indexOf(t)>-1&&!(u.flags&fD&&u.lexical[0]===t)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(t)>-1){i=!0;break}if(u.var.push(t),this.inModule&&u.flags&Wp&&delete this.undefinedExports[t],u.flags&x_)break}i&&this.raiseRecoverable(r,"Identifier '"+t+"' has already been declared")};no.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};no.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};no.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&x_)return e}};no.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&x_&&!(e.flags&pD))return e}};var so=function(e,r,i){this.type="",this.start=r,this.end=0,e.options.locations&&(this.loc=new La(e,i)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[r,0])},Gp=pt.prototype;Gp.startNode=function(){return new so(this,this.start,this.startLoc)};Gp.startNodeAt=function(t,e){return new so(this,t,e)};function bD(t,e,r,i){return t.type=e,t.end=r,this.options.locations&&(t.loc.end=i),this.options.ranges&&(t.range[1]=r),t}Gp.finishNode=function(t,e){return bD.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Gp.finishNodeAt=function(t,e,r,i){return bD.call(this,t,e,r,i)};Gp.copyNode=function(t){var e=new so(this,t.start,this.startLoc);for(var r in t)e[r]=t[r];return e};var vD="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",_D=vD+" Extended_Pictographic",wD=_D,ID=wD+" EBase EComp EMod EPres ExtPict",Dz=ID,Tz={9:vD,10:_D,11:wD,12:ID,13:Dz},iD="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",AD="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",SD=AD+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ED=SD+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",xD=ED+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",$z=xD+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Mz={9:AD,10:SD,11:ED,12:xD,13:$z},PD={};function kz(t){var e=PD[t]={binary:Pa(Tz[t]+" "+iD),nonBinary:{General_Category:Pa(iD),Script:Pa(Mz[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(bm=0,v_=[9,10,11,12,13];bm<v_.length;bm+=1)nD=v_[bm],kz(nD);var nD,bm,v_,he=pt.prototype,ys=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=PD[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};ys.prototype.reset=function(e,r,i){var n=i.indexOf("u")!==-1;this.start=e|0,this.source=r+"",this.flags=i,this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchN=n&&this.parser.options.ecmaVersion>=9};ys.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)};ys.prototype.at=function(e,r){r===void 0&&(r=!1);var i=this.source,n=i.length;if(e>=n)return-1;var s=i.charCodeAt(e);if(!(r||this.switchU)||s<=55295||s>=57344||e+1>=n)return s;var o=i.charCodeAt(e+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};ys.prototype.nextIndex=function(e,r){r===void 0&&(r=!1);var i=this.source,n=i.length;if(e>=n)return n;var s=i.charCodeAt(e),o;return!(r||this.switchU)||s<=55295||s>=57344||e+1>=n||(o=i.charCodeAt(e+1))<56320||o>57343?e+1:e+2};ys.prototype.current=function(e){return e===void 0&&(e=!1),this.at(this.pos,e)};ys.prototype.lookahead=function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)};ys.prototype.advance=function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)};ys.prototype.eat=function(e,r){return r===void 0&&(r=!1),this.current(r)===e?(this.advance(r),!0):!1};function Im(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}he.validateRegExpFlags=function(t){for(var e=t.validFlags,r=t.flags,i=0;i<r.length;i++){var n=r.charAt(i);e.indexOf(n)===-1&&this.raise(t.start,"Invalid regular expression flag"),r.indexOf(n,i+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}};he.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};he.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,r=t.backReferenceNames;e<r.length;e+=1){var i=r[e];t.groupNames.indexOf(i)===-1&&t.raise("Invalid named capture referenced")}};he.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};he.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};he.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};he.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!r,!0}return t.pos=e,!1};he.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};he.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};he.regexp_eatBracedQuantifier=function(t,e){var r=t.pos;if(t.eat(123)){var i=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return n!==-1&&n<i&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=r}return!1};he.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};he.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};he.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};he.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};he.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};he.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};he.regexp_eatSyntaxCharacter=function(t){var e=t.current();return LD(e)?(t.lastIntValue=e,t.advance(),!0):!1};function LD(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}he.regexp_eatPatternCharacters=function(t){for(var e=t.pos,r=0;(r=t.current())!==-1&&!LD(r);)t.advance();return t.pos!==e};he.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};he.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};he.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};he.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Im(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Im(t.lastIntValue);return!0}return!1};he.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,r=this.options.ecmaVersion>=11,i=t.current(r);return t.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,r)&&(i=t.lastIntValue),Rz(i)?(t.lastIntValue=i,!0):(t.pos=e,!1)};function Rz(t){return Hs(t,!0)||t===36||t===95}he.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,r=this.options.ecmaVersion>=11,i=t.current(r);return t.advance(r),i===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,r)&&(i=t.lastIntValue),Oz(i)?(t.lastIntValue=i,!0):(t.pos=e,!1)};function Oz(t){return oc(t,!0)||t===36||t===95||t===8204||t===8205}he.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};he.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var r=t.lastIntValue;if(t.switchU)return r>t.maxBackReference&&(t.maxBackReference=r),!0;if(r<=t.numCapturingParens)return!0;t.pos=e}return!1};he.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};he.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};he.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};he.regexp_eatZero=function(t){return t.current()===48&&!Em(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};he.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};he.regexp_eatControlLetter=function(t){var e=t.current();return CD(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function CD(t){return t>=65&&t<=90||t>=97&&t<=122}he.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var r=t.pos,i=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(i&&n>=55296&&n<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(o>=56320&&o<=57343)return t.lastIntValue=(n-55296)*1024+(o-56320)+65536,!0}t.pos=s,t.lastIntValue=n}return!0}if(i&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&Nz(t.lastIntValue))return!0;i&&t.raise("Invalid unicode escape"),t.pos=r}return!1};function Nz(t){return t>=0&&t<=1114111}he.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};he.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};he.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(Bz(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(e===80||e===112)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1};function Bz(t){return t===100||t===68||t===115||t===83||t===119||t===87}he.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var r=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,r,i),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n),!0}return!1};he.regexp_validateUnicodePropertyNameAndValue=function(t,e,r){qp(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(r)||t.raise("Invalid property value")};he.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")};he.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";DD(e=t.current());)t.lastStringValue+=Im(e),t.advance();return t.lastStringValue!==""};function DD(t){return CD(t)||t===95}he.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";Fz(e=t.current());)t.lastStringValue+=Im(e),t.advance();return t.lastStringValue!==""};function Fz(t){return DD(t)||Em(t)}he.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};he.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1};he.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var r=t.lastIntValue;t.switchU&&(e===-1||r===-1)&&t.raise("Invalid character class"),e!==-1&&r!==-1&&e>r&&t.raise("Range out of order in character class")}}};he.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var r=t.current();(r===99||MD(r))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var i=t.current();return i!==93?(t.lastIntValue=i,t.advance(),!0):!1};he.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};he.regexp_eatClassControlLetter=function(t){var e=t.current();return Em(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};he.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};he.regexp_eatDecimalDigits=function(t){var e=t.pos,r=0;for(t.lastIntValue=0;Em(r=t.current());)t.lastIntValue=10*t.lastIntValue+(r-48),t.advance();return t.pos!==e};function Em(t){return t>=48&&t<=57}he.regexp_eatHexDigits=function(t){var e=t.pos,r=0;for(t.lastIntValue=0;TD(r=t.current());)t.lastIntValue=16*t.lastIntValue+$D(r),t.advance();return t.pos!==e};function TD(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function $D(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}he.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var r=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+r*8+t.lastIntValue:t.lastIntValue=e*8+r}else t.lastIntValue=e;return!0}return!1};he.regexp_eatOctalDigit=function(t){var e=t.current();return MD(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function MD(t){return t>=48&&t<=55}he.regexp_eatFixedHexDigits=function(t,e){var r=t.pos;t.lastIntValue=0;for(var i=0;i<e;++i){var n=t.current();if(!TD(n))return t.pos=r,!1;t.lastIntValue=16*t.lastIntValue+$D(n),t.advance()}return!0};var Kp=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new La(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Pe=pt.prototype;Pe.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Kp(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Pe.getToken=function(){return this.next(),new Kp(this)};typeof Symbol<"u"&&(Pe[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});Pe.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Pe.readToken=function(t){return Hs(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Pe.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Pe.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var i=void 0,n=e;(i=aD(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,r),e,this.pos,t,this.curPosition())};Pe.skipLineComment=function(t){for(var e=this.pos,r=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Tn(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,r,this.curPosition())};Pe.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&uD.test(String.fromCharCode(t)))++this.pos;else break e}}};Pe.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=t,this.value=e,this.updateContext(r)};Pe.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};Pe.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};Pe.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),r=1,i=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++r,i=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,r+1):this.finishOp(i,r)};Pe.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};Pe.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};Pe.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||jr.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};Pe.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),r=1;return e===t?(r=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(h.assign,r+1):this.finishOp(h.bitShift,r)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(r=2),this.finishOp(h.relational,r))};Pe.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};Pe.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};Pe.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Hs(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+xm(e)+"'")};Pe.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+xm(t)+"'")};Pe.finishOp=function(t,e){var r=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,r)};Pe.readRegexp=function(){for(var t,e,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(jr.test(i)&&this.raise(r,"Unterminated regular expression"),t)t=!1;else{if(i==="[")e=!0;else if(i==="]"&&e)e=!1;else if(i==="/"&&!e)break;t=i==="\\"}++this.pos}var n=this.input.slice(r,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new ys(this));a.reset(r,n,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var u=null;try{u=new RegExp(n,o)}catch{}return this.finishToken(h.regexp,{pattern:n,flags:o,value:u})};Pe.readInt=function(t,e,r){for(var i=this.options.ecmaVersion>=12&&e===void 0,n=r&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,u=0,c=e??1/0;u<c;++u,++this.pos){var l=this.input.charCodeAt(this.pos),p=void 0;if(i&&l===95){n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),u===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=l;continue}if(l>=97?p=l-97+10:l>=65?p=l-65+10:l>=48&&l<=57?p=l-48:p=1/0,p>=t)break;a=l,o=o*t+p}return i&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:o};function Uz(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function kD(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}Pe.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var r=this.readInt(t);return r==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=kD(this.input.slice(e,this.pos)),++this.pos):Hs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,r)};Pe.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var r=this.pos-e>=2&&this.input.charCodeAt(e)===48;r&&this.strict&&this.raise(e,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!r&&!t&&this.options.ecmaVersion>=11&&i===110){var n=kD(this.input.slice(e,this.pos));return++this.pos,Hs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,n)}r&&/[89]/.test(this.input.slice(e,this.pos))&&(r=!1),i===46&&!r&&(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),(i===69||i===101)&&!r&&(i=this.input.charCodeAt(++this.pos),(i===43||i===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Hs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=Uz(this.input.slice(e,this.pos),r);return this.finishToken(h.num,s)};Pe.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else e=this.readHexChar(4);return e};function xm(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}Pe.readString=function(t){for(var e="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===t)break;i===92?(e+=this.input.slice(r,this.pos),e+=this.readEscapedChar(!1),r=this.pos):i===8232||i===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Tn(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(r,this.pos++),this.finishToken(h.string,e)};var RD={};Pe.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===RD)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Pe.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw RD;this.raise(t,e)};Pe.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(r===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Tn(r)){switch(t+=this.input.slice(e,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Pe.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Pe.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return xm(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var r=this.pos-1;return this.invalidStringToken(r,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(i,8);return n>255&&(i=i.slice(0,-1),n=parseInt(i,8)),this.pos+=i.length-1,e=this.input.charCodeAt(this.pos),(i!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-i.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return Tn(e)?"":String.fromCharCode(e)}};Pe.readHexChar=function(t){var e=this.pos,r=this.readInt(16,t);return r===null&&this.invalidStringToken(e,"Bad character escape sequence"),r};Pe.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,r=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(oc(n,i))this.pos+=n<=65535?1:2;else if(n===92){this.containsEsc=!0,t+=this.input.slice(r,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(e?Hs:oc)(o,i)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=xm(o),r=this.pos}else break;e=!1}return t+this.input.slice(r,this.pos)};Pe.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=A_[t]),this.finishToken(e,t)};var jz="8.7.0";pt.acorn={Parser:pt,version:jz,defaultOptions:jp,Position:Up,SourceLocation:La,getLineInfo:ac,Node:so,TokenType:$e,tokTypes:h,keywordTypes:A_,TokContext:zi,tokContexts:Ze,isIdentifierChar:oc,isIdentifierStart:Hs,Token:Kp,isNewLine:Tn,lineBreak:jr,lineBreakG:Am,nonASCIIwhitespace:uD};function OD(t,e){return pt.parse(t,e)}function Pm(t,e,r){return pt.parseExpressionAt(t,e,r)}var{stringify:Wz}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var Lm={"||":3,"&&":4,"|":5,"??":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Ji=17,qz={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:Ji,ClassExpression:Ji,FunctionExpression:Ji,ObjectExpression:Ji,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function lc(t,e){let{generator:r}=t;if(t.write("("),e!=null&&e.length>0){r[e[0].type](e[0],t);let{length:i}=e;for(let n=1;n<i;n++){let s=e[n];t.write(", "),r[s.type](s,t)}}t.write(")")}function qD(t,e,r,i){let n=t.expressionsPrecedence[e.type];if(n===Ji)return!0;let s=t.expressionsPrecedence[r.type];return n!==s?!i&&n===15&&s===14&&r.operator==="**"||n<s:n!==13&&n!==14?!1:e.operator==="**"&&r.operator==="**"?!i:i?Lm[e.operator]<=Lm[r.operator]:Lm[e.operator]<Lm[r.operator]}function Cm(t,e,r,i){let{generator:n}=t;qD(t,e,r,i)?(t.write("("),n[e.type](e,t),t.write(")")):n[e.type](e,t)}function Vz(t,e,r,i){let n=e.split(`
`),s=n.length-1;if(t.write(n[0].trim()),s>0){t.write(i);for(let o=1;o<s;o++)t.write(r+n[o].trim()+i);t.write(r+n[s].trim())}}function Sr(t,e,r,i){let{length:n}=e;for(let s=0;s<n;s++){let o=e[s];t.write(r),o.type[0]==="L"?t.write("// "+o.value.trim()+`
`,o):(t.write("/*"),Vz(t,o.value,r,i),t.write("*/"+i))}}function Gz(t){let e=t;for(;e!=null;){let{type:r}=e;if(r[0]==="C"&&r[1]==="a")return!0;if(r[0]==="M"&&r[1]==="e"&&r[2]==="m")e=e.object;else return!1}}function D_(t,e){let{generator:r}=t,{declarations:i}=e;t.write(e.kind+" ");let{length:n}=i;if(n>0){r.VariableDeclarator(i[0],t);for(let s=1;s<n;s++)t.write(", "),r.VariableDeclarator(i[s],t)}}var ND,BD,FD,UD,jD,WD,Kz={Program(t,e){let r=e.indent.repeat(e.indentLevel),{lineEnd:i,writeComments:n}=e;n&&t.comments!=null&&Sr(e,t.comments,r,i);let s=t.body,{length:o}=s;for(let a=0;a<o;a++){let u=s[a];n&&u.comments!=null&&Sr(e,u.comments,r,i),e.write(r),this[u.type](u,e),e.write(i)}n&&t.trailingComments!=null&&Sr(e,t.trailingComments,r,i)},BlockStatement:WD=function(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:i,writeComments:n}=e,s=r+e.indent;e.write("{");let o=t.body;if(o!=null&&o.length>0){e.write(i),n&&t.comments!=null&&Sr(e,t.comments,s,i);let{length:a}=o;for(let u=0;u<a;u++){let c=o[u];n&&c.comments!=null&&Sr(e,c.comments,s,i),e.write(s),this[c.type](c,e),e.write(i)}e.write(r)}else n&&t.comments!=null&&(e.write(i),Sr(e,t.comments,s,i),e.write(r));n&&t.trailingComments!=null&&Sr(e,t.trailingComments,s,i),e.write("}"),e.indentLevel--},ClassBody:WD,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){let r=e.expressionsPrecedence[t.expression.type];r===Ji||r===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:i,writeComments:n}=e;e.indentLevel++;let s=r+e.indent,o=s+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+i);let{cases:a}=t,{length:u}=a;for(let c=0;c<u;c++){let l=a[c];n&&l.comments!=null&&Sr(e,l.comments,s,i),l.test?(e.write(s+"case "),this[l.test.type](l.test,e),e.write(":"+i)):e.write(s+"default:"+i);let{consequent:p}=l,{length:f}=p;for(let g=0;g<f;g++){let m=p[g];n&&m.comments!=null&&Sr(e,m.comments,o,i),e.write(o),this[m.type](m,e),e.write(i)}}e.indentLevel-=2,e.write(r+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){let{handler:r}=t;r.param==null?e.write(" catch "):(e.write(" catch ("),this[r.param.type](r.param,e),e.write(") ")),this[r.body.type](r.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){let{init:r}=t;r.type[0]==="V"?D_(e,r):this[r.type](r,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:ND=function(t,e){e.write(`for ${t.await?"await ":""}(`);let{left:r}=t;r.type[0]==="V"?D_(e,r):this[r.type](r,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:ND,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:BD=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),lc(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:BD,VariableDeclaration(t,e){D_(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");let{superClass:r}=t,{type:i}=r,n=e.expressionsPrecedence[i];(i[0]!=="C"||i[1]!=="l"||i[5]!=="E")&&(n===Ji||n<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");let{specifiers:r}=t,{length:i}=r,n=0;if(i>0){for(;n<i;){n>0&&e.write(", ");let s=r[n],o=s.type[6];if(o==="D")e.write(s.local.name,s),n++;else if(o==="N")e.write("* as "+s.local.name,s),n++;else break}if(n<i){for(e.write("{");;){let s=r[n],{name:o}=s.imported;if(e.write(o,s),o!==s.local.name&&e.write(" as "+s.local.name),++n<i)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(t.source,e),e.write(";")},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");let{specifiers:r}=t,{length:i}=r;if(i>0)for(let n=0;;){let s=r[n],{name:o}=s.local;if(e.write(o,s),o!==s.exported.name&&e.write(" as "+s.exported.name),++n<i)e.write(", ");else break}e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),e.write(";")}},ExportAllDeclaration(t,e){t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");let r=t.kind[0];(r==="g"||r==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),lc(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);let{params:r}=t;r!=null&&(r.length===1&&r[0].type[0]==="I"?e.write(r[0].name,r[0]):lc(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:FD=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:FD,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),Cm(e,t.argument,t)},TemplateLiteral(t,e){let{quasis:r,expressions:i}=t;e.write("`");let{length:n}=i;for(let o=0;o<n;o++){let a=i[o],u=r[o];e.write(u.value.raw,u),e.write("${"),this[a.type](a,e),e.write("}")}let s=r[r.length-1];e.write(s.value.raw,s),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){Cm(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:jD=function(t,e){if(e.write("["),t.elements.length>0){let{elements:r}=t,{length:i}=r;for(let n=0;;){let s=r[n];if(s!=null&&this[s.type](s,e),++n<i)e.write(", ");else{s==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:jD,ObjectExpression(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:i,writeComments:n}=e,s=r+e.indent;if(e.write("{"),t.properties.length>0){e.write(i),n&&t.comments!=null&&Sr(e,t.comments,s,i);let o=","+i,{properties:a}=t,{length:u}=a;for(let c=0;;){let l=a[c];if(n&&l.comments!=null&&Sr(e,l.comments,s,i),e.write(s),this[l.type](l,e),++c<u)e.write(o);else break}e.write(i),n&&t.trailingComments!=null&&Sr(e,t.trailingComments,s,i),e.write(r+"}")}else n?t.comments!=null?(e.write(i),Sr(e,t.comments,s,i),t.trailingComments!=null&&Sr(e,t.trailingComments,s,i),e.write(r+"}")):t.trailingComments!=null?(e.write(i),Sr(e,t.trailingComments,s,i),e.write(r+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){t.static&&e.write("static "),this[t.key.type](t.key,e),e.write(" = "),this[t.value.type](t.value,e)},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){let{properties:r}=t,{length:i}=r;for(let n=0;this[r[n].type](r[n],e),++n<i;)e.write(", ")}e.write("}")},SequenceExpression(t,e){lc(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){let{operator:r,argument:i,argument:{type:n}}=t;e.write(r);let s=qD(e,i,t);!s&&(r.length>1||n[0]==="U"&&(n[1]==="n"||n[1]==="p")&&i.prefix&&i.operator[0]===r&&(r==="+"||r==="-"))&&e.write(" "),s?(e.write(r.length>1?" (":"("),this[n](i,e),e.write(")")):this[n](i,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:UD=function(t,e){let r=t.operator==="in";r&&e.write("("),Cm(e,t.left,t,!1),e.write(" "+t.operator+" "),Cm(e,t.right,t,!0),r&&e.write(")")},LogicalExpression:UD,ConditionalExpression(t,e){let{test:r}=t,i=e.expressionsPrecedence[r.type];i===Ji||i<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[r.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");let r=e.expressionsPrecedence[t.callee.type];r===Ji||r<e.expressionsPrecedence.CallExpression||Gz(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),lc(e,t.arguments)},CallExpression(t,e){let r=e.expressionsPrecedence[t.callee.type];r===Ji||r<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),lc(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){let r=e.expressionsPrecedence[t.object.type];r===Ji||r<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(Wz(t.value),t)},RegExpLiteral(t,e){let{regex:r}=t;e.write(`/${r.pattern}/${r.flags}`,t)}},zz={};var T_=class{constructor(e){let r=e??zz;this.output="",r.output!=null?(this.output=r.output,this.write=this.writeToStream):this.output="",this.generator=r.generator!=null?r.generator:Kz,this.expressionsPrecedence=r.expressionsPrecedence!=null?r.expressionsPrecedence:qz,this.indent=r.indent!=null?r.indent:"  ",this.lineEnd=r.lineEnd!=null?r.lineEnd:`
`,this.indentLevel=r.startingIndentLevel!=null?r.startingIndentLevel:0,this.writeComments=r.comments?r.comments:!1,r.sourceMap!=null&&(this.write=r.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=r.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:r.sourceMap.file||r.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,r){this.output+=e,this.map(e,r)}writeToStreamAndMap(e,r){this.output.write(e),this.map(e,r)}map(e,r){if(r!=null){let{type:s}=r;if(s[0]==="L"&&s[2]==="n"){this.column=0,this.line++;return}if(r.loc!=null){let{mapping:o}=this;o.original=r.loc.start,o.name=r.name,this.sourceMap.addMapping(o)}if(s[0]==="T"&&s[8]==="E"||s[0]==="L"&&s[1]==="i"&&typeof r.value=="string"){let{length:o}=e,{column:a,line:u}=this;for(let c=0;c<o;c++)e[c]===`
`?(a=0,u++):a++;this.column=a,this.line=u;return}}let{length:i}=e,{lineEnd:n}=this;i>0&&(this.lineEndSize>0&&(n.length===1?e[i-1]===n:e.endsWith(n))?(this.line+=this.lineEndSize,this.column=0):this.column+=i)}toString(){return this.output}};function bs(t,e){let r=new T_(e);return r.generator[t.type](t,r),r.output}var _c=F(Dm()),of=F(Om());var Nm="\u2716";function Qr(t){return t.name===Nm}function mT(){}var Je=function(e,r){if(r===void 0&&(r={}),this.toks=this.constructor.BaseParser.tokenizer(e,r),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:h.eof,start:0,end:0},this.tok.validateRegExpFlags=mT,this.tok.validateRegExpPattern=mT,this.options.locations){var i=this.toks.curPosition();this.tok.loc=new La(this.toks,i,i)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1,this.inAsync=!1,this.inGenerator=!1,this.inFunction=!1};Je.prototype.startNode=function(){return new so(this.toks,this.tok.start,this.options.locations?this.tok.loc.start:null)};Je.prototype.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start};Je.prototype.startNodeAt=function(e){return this.options.locations?new so(this.toks,e[0],e[1]):new so(this.toks,e)};Je.prototype.finishNode=function(e,r){return e.type=r,e.end=this.last.end,this.options.locations&&(e.loc.end=this.last.loc.end),this.options.ranges&&(e.range[1]=this.last.end),e};Je.prototype.dummyNode=function(e){var r=this.startNode();return r.type=e,r.end=r.start,this.options.locations&&(r.loc.end=r.loc.start),this.options.ranges&&(r.range[1]=r.start),this.last={type:h.name,start:r.start,end:r.start,loc:r.loc},r};Je.prototype.dummyIdent=function(){var e=this.dummyNode("Identifier");return e.name=Nm,e};Je.prototype.dummyString=function(){var e=this.dummyNode("Literal");return e.value=e.raw=Nm,e};Je.prototype.eat=function(e){return this.tok.type===e?(this.next(),!0):!1};Je.prototype.isContextual=function(e){return this.tok.type===h.name&&this.tok.value===e};Je.prototype.eatContextual=function(e){return this.tok.value===e&&this.eat(h.name)};Je.prototype.canInsertSemicolon=function(){return this.tok.type===h.eof||this.tok.type===h.braceR||jr.test(this.input.slice(this.last.end,this.tok.start))};Je.prototype.semicolon=function(){return this.eat(h.semi)};Je.prototype.expect=function(e){if(this.eat(e))return!0;for(var r=1;r<=2;r++)if(this.lookAhead(r).type===e){for(var i=0;i<r;i++)this.next();return!0}};Je.prototype.pushCx=function(){this.context.push(this.curIndent)};Je.prototype.popCx=function(){this.curIndent=this.context.pop()};Je.prototype.lineEnd=function(e){for(;e<this.input.length&&!Tn(this.input.charCodeAt(e));)++e;return e};Je.prototype.indentationAfter=function(e){for(var r=0;;++e){var i=this.input.charCodeAt(e);if(i===32)++r;else if(i===9)r+=this.options.tabSize;else return r}};Je.prototype.closes=function(e,r,i,n){return this.tok.type===e||this.tok.type===h.eof?!0:i!==this.curLineStart&&this.curIndent<r&&this.tokenStartsLine()&&(!n||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<r)};Je.prototype.tokenStartsLine=function(){for(var e=this.tok.start-1;e>=this.curLineStart;--e){var r=this.input.charCodeAt(e);if(r!==9&&r!==32)return!1}return!0};Je.prototype.extend=function(e,r){this[e]=r(this[e])};Je.prototype.parse=function(){return this.next(),this.parseTopLevel()};Je.extend=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var i=this,n=0;n<e.length;n++)i=e[n](i);return i};Je.parse=function(e,r){return new this(e,r).parse()};Je.BaseParser=pt;var Bm=Je.prototype;function SX(t){return t<14&&t>8||t===32||t===160||Tn(t)}Bm.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}};Bm.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===h.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=h.ellipsis),new Kp(this.toks)}catch(s){if(!(s instanceof SyntaxError))throw s;var t=s.message,e=s.raisedAt,r=!0;if(/unterminated/i.test(t))if(e=this.lineEnd(s.pos+1),/string/.test(t))r={start:s.pos,end:e,type:h.string,value:this.input.slice(s.pos+1,e)};else if(/regular expr/i.test(t)){var i=this.input.slice(s.pos,e);try{i=new RegExp(i)}catch{}r={start:s.pos,end:e,type:h.regexp,value:i}}else/template/.test(t)?r={start:s.pos,end:e,type:h.template,value:this.input.slice(s.pos,e)}:r=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number|expected number in radix/i.test(t))for(;e<this.input.length&&!SX(this.input.charCodeAt(e));)++e;else if(/character escape|expected hexadecimal/i.test(t))for(;e<this.input.length;){var n=this.input.charCodeAt(e++);if(n===34||n===39||Tn(n))break}else if(/unexpected character/i.test(t))e++,r=!1;else if(/regular expression/i.test(t))r=!0;else throw s;if(this.resetTo(e),r===!0&&(r={start:e,end:e,type:h.name,value:Nm}),r)return this.options.locations&&(r.loc=new La(this.toks,ac(this.input,r.start),ac(this.input,r.end))),r}};Bm.resetTo=function(t){this.toks.pos=t;var e=this.input.charAt(t-1);if(this.toks.exprAllowed=!e||/[[{(,;:?/*=+\-~!|&%^<>]/.test(e)||/[enwfd]/.test(e)&&/\b(case|else|return|throw|new|in|(instance|type)?of|delete|void)$/.test(this.input.slice(t-10,t)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=Am.lastIndex=0;for(var r;(r=Am.exec(this.input))&&r.index<t;)++this.toks.curLine,this.toks.lineStart=r.index+r[0].length}};Bm.lookAhead=function(t){for(;t>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[t-1]};var nr=Je.prototype;nr.parseTopLevel=function(){var t=this.startNodeAt(this.options.locations?[0,ac(this.input,0)]:0);for(t.body=[];this.tok.type!==h.eof;)t.body.push(this.parseStatement());return this.toks.adaptDirectivePrologue(t.body),this.last=this.tok,t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};nr.parseStatement=function(){var t=this.tok.type,e=this.startNode(),r;switch(this.toks.isLet()&&(t=h._var,r="let"),t){case h._break:case h._continue:this.next();var i=t===h._break;return this.semicolon()||this.canInsertSemicolon()?e.label=null:(e.label=this.tok.type===h.name?this.parseIdent():null,this.semicolon()),this.finishNode(e,i?"BreakStatement":"ContinueStatement");case h._debugger:return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement");case h._do:return this.next(),e.body=this.parseStatement(),e.test=this.eat(h._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(e,"DoWhileStatement");case h._for:this.next();var n=this.options.ecmaVersion>=9&&this.eatContextual("await");if(this.pushCx(),this.expect(h.parenL),this.tok.type===h.semi)return this.parseFor(e,null);var s=this.toks.isLet();if(s||this.tok.type===h._var||this.tok.type===h._const){var o=this.parseVar(this.startNode(),!0,s?"let":this.tok.value);return o.declarations.length===1&&(this.tok.type===h._in||this.isContextual("of"))?(this.options.ecmaVersion>=9&&this.tok.type!==h._in&&(e.await=n),this.parseForIn(e,o)):this.parseFor(e,o)}var a=this.parseExpression(!0);return this.tok.type===h._in||this.isContextual("of")?(this.options.ecmaVersion>=9&&this.tok.type!==h._in&&(e.await=n),this.parseForIn(e,this.toAssignable(a))):this.parseFor(e,a);case h._function:return this.next(),this.parseFunction(e,!0);case h._if:return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(),e.alternate=this.eat(h._else)?this.parseStatement():null,this.finishNode(e,"IfStatement");case h._return:return this.next(),this.eat(h.semi)||this.canInsertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement");case h._switch:var u=this.curIndent,c=this.curLineStart;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.pushCx(),this.expect(h.braceL);for(var l;!this.closes(h.braceR,u,c,!0);)if(this.tok.type===h._case||this.tok.type===h._default){var p=this.tok.type===h._case;l&&this.finishNode(l,"SwitchCase"),e.cases.push(l=this.startNode()),l.consequent=[],this.next(),p?l.test=this.parseExpression():l.test=null,this.expect(h.colon)}else l||(e.cases.push(l=this.startNode()),l.consequent=[],l.test=null),l.consequent.push(this.parseStatement());return l&&this.finishNode(l,"SwitchCase"),this.popCx(),this.eat(h.braceR),this.finishNode(e,"SwitchStatement");case h._throw:return this.next(),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement");case h._try:if(this.next(),e.block=this.parseBlock(),e.handler=null,this.tok.type===h._catch){var f=this.startNode();this.next(),this.eat(h.parenL)?(f.param=this.toAssignable(this.parseExprAtom(),!0),this.expect(h.parenR)):f.param=null,f.body=this.parseBlock(),e.handler=this.finishNode(f,"CatchClause")}return e.finalizer=this.eat(h._finally)?this.parseBlock():null,!e.handler&&!e.finalizer?e.block:this.finishNode(e,"TryStatement");case h._var:case h._const:return this.parseVar(e,!1,r||this.tok.value);case h._while:return this.next(),e.test=this.parseParenExpression(),e.body=this.parseStatement(),this.finishNode(e,"WhileStatement");case h._with:return this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(),this.finishNode(e,"WithStatement");case h.braceL:return this.parseBlock();case h.semi:return this.next(),this.finishNode(e,"EmptyStatement");case h._class:return this.parseClass(!0);case h._import:if(this.options.ecmaVersion>10){var g=this.lookAhead(1).type;if(g===h.parenL||g===h.dot)return e.expression=this.parseExpression(),this.semicolon(),this.finishNode(e,"ExpressionStatement")}return this.parseImport();case h._export:return this.parseExport();default:if(this.toks.isAsyncFunction())return this.next(),this.next(),this.parseFunction(e,!0,!0);var m=this.parseExpression();return Qr(m)?(this.next(),this.tok.type===h.eof?this.finishNode(e,"EmptyStatement"):this.parseStatement()):t===h.name&&m.type==="Identifier"&&this.eat(h.colon)?(e.body=this.parseStatement(),e.label=m,this.finishNode(e,"LabeledStatement")):(e.expression=m,this.semicolon(),this.finishNode(e,"ExpressionStatement"))}};nr.parseBlock=function(){var t=this.startNode();this.pushCx(),this.expect(h.braceL);var e=this.curIndent,r=this.curLineStart;for(t.body=[];!this.closes(h.braceR,e,r,!0);)t.body.push(this.parseStatement());return this.popCx(),this.eat(h.braceR),this.finishNode(t,"BlockStatement")};nr.parseFor=function(t,e){return t.init=e,t.test=t.update=null,this.eat(h.semi)&&this.tok.type!==h.semi&&(t.test=this.parseExpression()),this.eat(h.semi)&&this.tok.type!==h.parenR&&(t.update=this.parseExpression()),this.popCx(),this.expect(h.parenR),t.body=this.parseStatement(),this.finishNode(t,"ForStatement")};nr.parseForIn=function(t,e){var r=this.tok.type===h._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.popCx(),this.expect(h.parenR),t.body=this.parseStatement(),this.finishNode(t,r)};nr.parseVar=function(t,e,r){t.kind=r,this.next(),t.declarations=[];do{var i=this.startNode();i.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom(),!0):this.parseIdent(),i.init=this.eat(h.eq)?this.parseMaybeAssign(e):null,t.declarations.push(this.finishNode(i,"VariableDeclarator"))}while(this.eat(h.comma));if(!t.declarations.length){var n=this.startNode();n.id=this.dummyIdent(),t.declarations.push(this.finishNode(n,"VariableDeclarator"))}return e||this.semicolon(),this.finishNode(t,"VariableDeclaration")};nr.parseClass=function(t){var e=this.startNode();this.next(),this.tok.type===h.name?e.id=this.parseIdent():t===!0?e.id=this.dummyIdent():e.id=null,e.superClass=this.eat(h._extends)?this.parseExpression():null,e.body=this.startNode(),e.body.body=[],this.pushCx();var r=this.curIndent+1,i=this.curLineStart;for(this.eat(h.braceL),this.curIndent+1<r&&(r=this.curIndent,i=this.curLineStart);!this.closes(h.braceR,r,i);){var n=this.parseClassElement();n&&e.body.body.push(n)}return this.popCx(),this.eat(h.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(e.body,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};nr.parseClassElement=function(){if(this.eat(h.semi))return null;var t=this.options,e=t.ecmaVersion,r=t.locations,i=this.curIndent,n=this.curLineStart,s=this.startNode(),o="",a=!1,u=!1,c="method",l=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(s),s;this.isClassElementNameStart()||this.toks.type===h.star?l=!0:o="static"}if(s.static=l,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.toks.type===h.star)&&!this.canInsertSemicolon()?u=!0:o="async"),!o){a=this.eat(h.star);var p=this.toks.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=p:o=p)}if(o)s.computed=!1,s.key=this.startNodeAt(r?[this.toks.lastTokStart,this.toks.lastTokStartLoc]:this.toks.lastTokStart),s.key.name=o,this.finishNode(s.key,"Identifier");else if(this.parseClassElementName(s),Qr(s.key))return Qr(this.parseMaybeAssign())&&this.next(),this.eat(h.comma),null;if(e<13||this.toks.type===h.parenL||c!=="method"||a||u){var f=!s.computed&&!s.static&&!a&&!u&&c==="method"&&(s.key.type==="Identifier"&&s.key.name==="constructor"||s.key.type==="Literal"&&s.key.value==="constructor");s.kind=f?"constructor":c,s.value=this.parseMethod(a,u),this.finishNode(s,"MethodDefinition")}else{if(this.eat(h.eq))if(this.curLineStart!==n&&this.curIndent<=i&&this.tokenStartsLine())s.value=null;else{var g=this.inAsync,m=this.inGenerator;this.inAsync=!1,this.inGenerator=!1,s.value=this.parseMaybeAssign(),this.inAsync=g,this.inGenerator=m}else s.value=null;this.semicolon(),this.finishNode(s,"PropertyDefinition")}return s};nr.parseClassStaticBlock=function(t){var e=this.curIndent,r=this.curLineStart;for(t.body=[],this.pushCx();!this.closes(h.braceR,e,r,!0);)t.body.push(this.parseStatement());return this.popCx(),this.eat(h.braceR),this.finishNode(t,"StaticBlock")};nr.isClassElementNameStart=function(){return this.toks.isClassElementNameStart()};nr.parseClassElementName=function(t){this.toks.type===h.privateId?(t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};nr.parseFunction=function(t,e,r){var i=this.inAsync,n=this.inGenerator,s=this.inFunction;return this.initFunction(t),this.options.ecmaVersion>=6&&(t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!r),this.tok.type===h.name?t.id=this.parseIdent():e===!0&&(t.id=this.dummyIdent()),this.inAsync=t.async,this.inGenerator=t.generator,this.inFunction=!0,t.params=this.parseFunctionParams(),t.body=this.parseBlock(),this.toks.adaptDirectivePrologue(t.body.body),this.inAsync=i,this.inGenerator=n,this.inFunction=s,this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")};nr.parseExport=function(){var t=this.startNode();if(this.next(),this.eat(h.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?t.exported=this.parseExprAtom():t.exported=null),t.source=this.eatContextual("from")?this.parseExprAtom():this.dummyString(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(h._default)){var e;if(this.tok.type===h._function||(e=this.toks.isAsyncFunction())){var r=this.startNode();this.next(),e&&this.next(),t.declaration=this.parseFunction(r,"nullableID",e)}else this.tok.type===h._class?t.declaration=this.parseClass("nullableID"):(t.declaration=this.parseMaybeAssign(),this.semicolon());return this.finishNode(t,"ExportDefaultDeclaration")}return this.tok.type.keyword||this.toks.isLet()||this.toks.isAsyncFunction()?(t.declaration=this.parseStatement(),t.specifiers=[],t.source=null):(t.declaration=null,t.specifiers=this.parseExportSpecifierList(),t.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(t,"ExportNamedDeclaration")};nr.parseImport=function(){var t=this.startNode();if(this.next(),this.tok.type===h.string)t.specifiers=[],t.source=this.parseExprAtom();else{var e;this.tok.type===h.name&&this.tok.value!=="from"&&(e=this.startNode(),e.local=this.parseIdent(),this.finishNode(e,"ImportDefaultSpecifier"),this.eat(h.comma)),t.specifiers=this.parseImportSpecifiers(),t.source=this.eatContextual("from")&&this.tok.type===h.string?this.parseExprAtom():this.dummyString(),e&&t.specifiers.unshift(e)}return this.semicolon(),this.finishNode(t,"ImportDeclaration")};nr.parseImportSpecifiers=function(){var t=[];if(this.tok.type===h.star){var e=this.startNode();this.next(),e.local=this.eatContextual("as")?this.parseIdent():this.dummyIdent(),t.push(this.finishNode(e,"ImportNamespaceSpecifier"))}else{var r=this.curIndent,i=this.curLineStart,n=this.nextLineStart;for(this.pushCx(),this.eat(h.braceL),this.curLineStart>n&&(n=this.curLineStart);!this.closes(h.braceR,r+(this.curLineStart<=n?1:0),i);){var s=this.startNode();if(this.eat(h.star))s.local=this.eatContextual("as")?this.parseModuleExportName():this.dummyIdent(),this.finishNode(s,"ImportNamespaceSpecifier");else{if(this.isContextual("from")||(s.imported=this.parseModuleExportName(),Qr(s.imported)))break;s.local=this.eatContextual("as")?this.parseModuleExportName():s.imported,this.finishNode(s,"ImportSpecifier")}t.push(s),this.eat(h.comma)}this.eat(h.braceR),this.popCx()}return t};nr.parseExportSpecifierList=function(){var t=[],e=this.curIndent,r=this.curLineStart,i=this.nextLineStart;for(this.pushCx(),this.eat(h.braceL),this.curLineStart>i&&(i=this.curLineStart);!this.closes(h.braceR,e+(this.curLineStart<=i?1:0),r)&&!this.isContextual("from");){var n=this.startNode();if(n.local=this.parseModuleExportName(),Qr(n.local))break;n.exported=this.eatContextual("as")?this.parseModuleExportName():n.local,this.finishNode(n,"ExportSpecifier"),t.push(n),this.eat(h.comma)}return this.eat(h.braceR),this.popCx(),t};nr.parseModuleExportName=function(){return this.options.ecmaVersion>=13&&this.tok.type===h.string?this.parseExprAtom():this.parseIdent()};var Ve=Je.prototype;Ve.checkLVal=function(t){if(!t)return t;switch(t.type){case"Identifier":case"MemberExpression":return t;case"ParenthesizedExpression":return t.expression=this.checkLVal(t.expression),t;default:return this.dummyIdent()}};Ve.parseExpression=function(t){var e=this.storeCurrentPos(),r=this.parseMaybeAssign(t);if(this.tok.type===h.comma){var i=this.startNodeAt(e);for(i.expressions=[r];this.eat(h.comma);)i.expressions.push(this.parseMaybeAssign(t));return this.finishNode(i,"SequenceExpression")}return r};Ve.parseParenExpression=function(){this.pushCx(),this.expect(h.parenL);var t=this.parseExpression();return this.popCx(),this.expect(h.parenR),t};Ve.parseMaybeAssign=function(t){if(this.inGenerator&&this.toks.isContextual("yield")){var e=this.startNode();return this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!==h.star&&!this.tok.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")}var r=this.storeCurrentPos(),i=this.parseMaybeConditional(t);if(this.tok.type.isAssign){var n=this.startNodeAt(r);return n.operator=this.tok.value,n.left=this.tok.type===h.eq?this.toAssignable(i):this.checkLVal(i),this.next(),n.right=this.parseMaybeAssign(t),this.finishNode(n,"AssignmentExpression")}return i};Ve.parseMaybeConditional=function(t){var e=this.storeCurrentPos(),r=this.parseExprOps(t);if(this.eat(h.question)){var i=this.startNodeAt(e);return i.test=r,i.consequent=this.parseMaybeAssign(),i.alternate=this.expect(h.colon)?this.parseMaybeAssign(t):this.dummyIdent(),this.finishNode(i,"ConditionalExpression")}return r};Ve.parseExprOps=function(t){var e=this.storeCurrentPos(),r=this.curIndent,i=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(!1),e,-1,t,r,i)};Ve.parseExprOp=function(t,e,r,i,n,s){if(this.curLineStart!==s&&this.curIndent<n&&this.tokenStartsLine())return t;var o=this.tok.type.binop;if(o!=null&&(!i||this.tok.type!==h._in)&&o>r){var a=this.startNodeAt(e);if(a.left=t,a.operator=this.tok.value,this.next(),this.curLineStart!==s&&this.curIndent<n&&this.tokenStartsLine())a.right=this.dummyIdent();else{var u=this.storeCurrentPos();a.right=this.parseExprOp(this.parseMaybeUnary(!1),u,o,i,n,s)}return this.finishNode(a,/&&|\|\||\?\?/.test(a.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(a,e,r,i,n,s)}return t};Ve.parseMaybeUnary=function(t){var e=this.storeCurrentPos(),r;if(this.options.ecmaVersion>=8&&this.toks.isContextual("await")&&(this.inAsync||this.toks.inModule&&this.options.ecmaVersion>=13||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.tok.type.prefix){var i=this.startNode(),n=this.tok.type===h.incDec;n||(t=!0),i.operator=this.tok.value,i.prefix=!0,this.next(),i.argument=this.parseMaybeUnary(!0),n&&(i.argument=this.checkLVal(i.argument)),r=this.finishNode(i,n?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===h.ellipsis){var s=this.startNode();this.next(),s.argument=this.parseMaybeUnary(t),r=this.finishNode(s,"SpreadElement")}else if(!t&&this.tok.type===h.privateId)r=this.parsePrivateIdent();else for(r=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(e);o.operator=this.tok.value,o.prefix=!1,o.argument=this.checkLVal(r),this.next(),r=this.finishNode(o,"UpdateExpression")}if(!t&&this.eat(h.starstar)){var a=this.startNodeAt(e);return a.operator="**",a.left=r,a.right=this.parseMaybeUnary(!1),this.finishNode(a,"BinaryExpression")}return r};Ve.parseExprSubscripts=function(){var t=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),t,!1,this.curIndent,this.curLineStart)};Ve.parseSubscripts=function(t,e,r,i,n){for(var s=this.options.ecmaVersion>=11,o=!1;;){if(this.curLineStart!==n&&this.curIndent<=i&&this.tokenStartsLine())if(this.tok.type===h.dot&&this.curIndent===i)--i;else break;var a=t.type==="Identifier"&&t.name==="async"&&!this.canInsertSemicolon(),u=s&&this.eat(h.questionDot);if(u&&(o=!0),u&&this.tok.type!==h.parenL&&this.tok.type!==h.bracketL&&this.tok.type!==h.backQuote||this.eat(h.dot)){var c=this.startNodeAt(e);c.object=t,this.curLineStart!==n&&this.curIndent<=i&&this.tokenStartsLine()?c.property=this.dummyIdent():c.property=this.parsePropertyAccessor()||this.dummyIdent(),c.computed=!1,s&&(c.optional=u),t=this.finishNode(c,"MemberExpression")}else if(this.tok.type===h.bracketL){this.pushCx(),this.next();var l=this.startNodeAt(e);l.object=t,l.property=this.parseExpression(),l.computed=!0,s&&(l.optional=u),this.popCx(),this.expect(h.bracketR),t=this.finishNode(l,"MemberExpression")}else if(!r&&this.tok.type===h.parenL){var p=this.parseExprList(h.parenR);if(a&&this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(e),p,!0);var f=this.startNodeAt(e);f.callee=t,f.arguments=p,s&&(f.optional=u),t=this.finishNode(f,"CallExpression")}else if(this.tok.type===h.backQuote){var g=this.startNodeAt(e);g.tag=t,g.quasi=this.parseTemplate(),t=this.finishNode(g,"TaggedTemplateExpression")}else break}if(o){var m=this.startNodeAt(e);m.expression=t,t=this.finishNode(m,"ChainExpression")}return t};Ve.parseExprAtom=function(){var t;switch(this.tok.type){case h._this:case h._super:var e=this.tok.type===h._this?"ThisExpression":"Super";return t=this.startNode(),this.next(),this.finishNode(t,e);case h.name:var r=this.storeCurrentPos(),i=this.parseIdent(),n=!1;if(i.name==="async"&&!this.canInsertSemicolon()){if(this.eat(h._function))return this.toks.overrideContext(Ze.f_expr),this.parseFunction(this.startNodeAt(r),!1,!0);this.tok.type===h.name&&(i=this.parseIdent(),n=!0)}return this.eat(h.arrow)?this.parseArrowExpression(this.startNodeAt(r),[i],n):i;case h.regexp:t=this.startNode();var s=this.tok.value;return t.regex={pattern:s.pattern,flags:s.flags},t.value=s.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(t,"Literal");case h.num:case h.string:return t=this.startNode(),t.value=this.tok.value,t.raw=this.input.slice(this.tok.start,this.tok.end),this.tok.type===h.num&&t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal");case h._null:case h._true:case h._false:return t=this.startNode(),t.value=this.tok.type===h._null?null:this.tok.type===h._true,t.raw=this.tok.type.keyword,this.next(),this.finishNode(t,"Literal");case h.parenL:var o=this.storeCurrentPos();this.next();var a=this.parseExpression();if(this.expect(h.parenR),this.eat(h.arrow)){var u=a.expressions||[a];return u.length&&Qr(u[u.length-1])&&u.pop(),this.parseArrowExpression(this.startNodeAt(o),u)}if(this.options.preserveParens){var c=this.startNodeAt(o);c.expression=a,a=this.finishNode(c,"ParenthesizedExpression")}return a;case h.bracketL:return t=this.startNode(),t.elements=this.parseExprList(h.bracketR,!0),this.finishNode(t,"ArrayExpression");case h.braceL:return this.toks.overrideContext(Ze.b_expr),this.parseObj();case h._class:return this.parseClass(!1);case h._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.dummyIdent();default:return this.dummyIdent()}};Ve.parseExprImport=function(){var t=this.startNode(),e=this.parseIdent(!0);switch(this.tok.type){case h.parenL:return this.parseDynamicImport(t);case h.dot:return t.meta=e,this.parseImportMeta(t);default:return t.name="import",this.finishNode(t,"Identifier")}};Ve.parseDynamicImport=function(t){return t.source=this.parseExprList(h.parenR)[0]||this.dummyString(),this.finishNode(t,"ImportExpression")};Ve.parseImportMeta=function(t){return this.next(),t.property=this.parseIdent(!0),this.finishNode(t,"MetaProperty")};Ve.parseNew=function(){var t=this.startNode(),e=this.curIndent,r=this.curLineStart,i=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot))return t.meta=i,t.property=this.parseIdent(!0),this.finishNode(t,"MetaProperty");var n=this.storeCurrentPos();return t.callee=this.parseSubscripts(this.parseExprAtom(),n,!0,e,r),this.tok.type===h.parenL?t.arguments=this.parseExprList(h.parenR):t.arguments=[],this.finishNode(t,"NewExpression")};Ve.parseTemplateElement=function(){var t=this.startNode();return this.tok.type===h.invalidTemplate?t.value={raw:this.tok.value,cooked:null}:t.value={raw:this.input.slice(this.tok.start,this.tok.end).replace(/\r\n?/g,`
`),cooked:this.tok.value},this.next(),t.tail=this.tok.type===h.backQuote,this.finishNode(t,"TemplateElement")};Ve.parseTemplate=function(){var t=this.startNode();this.next(),t.expressions=[];var e=this.parseTemplateElement();for(t.quasis=[e];!e.tail;)this.next(),t.expressions.push(this.parseExpression()),this.expect(h.braceR)?e=this.parseTemplateElement():(e=this.startNode(),e.value={cooked:"",raw:""},e.tail=!0,this.finishNode(e,"TemplateElement")),t.quasis.push(e);return this.expect(h.backQuote),this.finishNode(t,"TemplateLiteral")};Ve.parseObj=function(){var t=this.startNode();t.properties=[],this.pushCx();var e=this.curIndent+1,r=this.curLineStart;for(this.eat(h.braceL),this.curIndent+1<e&&(e=this.curIndent,r=this.curLineStart);!this.closes(h.braceR,e,r);){var i=this.startNode(),n=void 0,s=void 0,o=void 0;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis)){i.argument=this.parseMaybeAssign(),t.properties.push(this.finishNode(i,"SpreadElement")),this.eat(h.comma);continue}if(this.options.ecmaVersion>=6&&(o=this.storeCurrentPos(),i.method=!1,i.shorthand=!1,n=this.eat(h.star)),this.parsePropertyName(i),this.toks.isAsyncProp(i)?(s=!0,n=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):s=!1,Qr(i.key)){Qr(this.parseMaybeAssign())&&this.next(),this.eat(h.comma);continue}if(this.eat(h.colon))i.kind="init",i.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===h.parenL||this.tok.type===h.braceL))i.kind="init",i.method=!0,i.value=this.parseMethod(n,s);else if(this.options.ecmaVersion>=5&&i.key.type==="Identifier"&&!i.computed&&(i.key.name==="get"||i.key.name==="set")&&this.tok.type!==h.comma&&this.tok.type!==h.braceR&&this.tok.type!==h.eq)i.kind=i.key.name,this.parsePropertyName(i),i.value=this.parseMethod(!1);else{if(i.kind="init",this.options.ecmaVersion>=6)if(this.eat(h.eq)){var a=this.startNodeAt(o);a.operator="=",a.left=i.key,a.right=this.parseMaybeAssign(),i.value=this.finishNode(a,"AssignmentExpression")}else i.value=i.key;else i.value=this.dummyIdent();i.shorthand=!0}t.properties.push(this.finishNode(i,"Property")),this.eat(h.comma)}return this.popCx(),this.eat(h.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(t,"ObjectExpression")};Ve.parsePropertyName=function(t){if(this.options.ecmaVersion>=6)if(this.eat(h.bracketL)){t.computed=!0,t.key=this.parseExpression(),this.expect(h.bracketR);return}else t.computed=!1;var e=this.tok.type===h.num||this.tok.type===h.string?this.parseExprAtom():this.parseIdent();t.key=e||this.dummyIdent()};Ve.parsePropertyAccessor=function(){if(this.tok.type===h.name||this.tok.type.keyword)return this.parseIdent();if(this.tok.type===h.privateId)return this.parsePrivateIdent()};Ve.parseIdent=function(){var t=this.tok.type===h.name?this.tok.value:this.tok.type.keyword;if(!t)return this.dummyIdent();var e=this.startNode();return this.next(),e.name=t,this.finishNode(e,"Identifier")};Ve.parsePrivateIdent=function(){var t=this.startNode();return t.name=this.tok.value,this.next(),this.finishNode(t,"PrivateIdentifier")};Ve.initFunction=function(t){t.id=null,t.params=[],this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};Ve.toAssignable=function(t,e){if(!(!t||t.type==="Identifier"||t.type==="MemberExpression"&&!e))if(t.type==="ParenthesizedExpression")this.toAssignable(t.expression,e);else{if(this.options.ecmaVersion<6)return this.dummyIdent();if(t.type==="ObjectExpression"){t.type="ObjectPattern";for(var r=0,i=t.properties;r<i.length;r+=1){var n=i[r];this.toAssignable(n,e)}}else if(t.type==="ArrayExpression")t.type="ArrayPattern",this.toAssignableList(t.elements,e);else if(t.type==="Property")this.toAssignable(t.value,e);else if(t.type==="SpreadElement")t.type="RestElement",this.toAssignable(t.argument,e);else if(t.type==="AssignmentExpression")t.type="AssignmentPattern",delete t.operator;else return this.dummyIdent()}return t};Ve.toAssignableList=function(t,e){for(var r=0,i=t;r<i.length;r+=1){var n=i[r];this.toAssignable(n,e)}return t};Ve.parseFunctionParams=function(t){return t=this.parseExprList(h.parenR),this.toAssignableList(t,!0)};Ve.parseMethod=function(t,e){var r=this.startNode(),i=this.inAsync,n=this.inGenerator,s=this.inFunction;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=!!t),this.options.ecmaVersion>=8&&(r.async=!!e),this.inAsync=r.async,this.inGenerator=r.generator,this.inFunction=!0,r.params=this.parseFunctionParams(),r.body=this.parseBlock(),this.toks.adaptDirectivePrologue(r.body.body),this.inAsync=i,this.inGenerator=n,this.inFunction=s,this.finishNode(r,"FunctionExpression")};Ve.parseArrowExpression=function(t,e,r){var i=this.inAsync,n=this.inGenerator,s=this.inFunction;return this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!r),this.inAsync=t.async,this.inGenerator=!1,this.inFunction=!0,t.params=this.toAssignableList(e,!0),t.expression=this.tok.type!==h.braceL,t.expression?t.body=this.parseMaybeAssign():(t.body=this.parseBlock(),this.toks.adaptDirectivePrologue(t.body.body)),this.inAsync=i,this.inGenerator=n,this.inFunction=s,this.finishNode(t,"ArrowFunctionExpression")};Ve.parseExprList=function(t,e){this.pushCx();var r=this.curIndent,i=this.curLineStart,n=[];for(this.next();!this.closes(t,r+1,i);){if(this.eat(h.comma)){n.push(e?null:this.dummyIdent());continue}var s=this.parseMaybeAssign();if(Qr(s)){if(this.closes(t,r,i))break;this.next()}else n.push(s);this.eat(h.comma)}return this.popCx(),this.eat(t)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),n};Ve.parseAwait=function(){var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(),this.finishNode(t,"AwaitExpression")};jp.tabSize=4;function gT(t,e){return Je.parse(t,e)}var K_={ecmaVersion:"latest",locations:!0,allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReserved:!0,allowReturnOutsideFunction:!0},co=t=>t.start,z_=t=>t.end,HT=(t,e)=>t.slice(co(e),z_(e)),lo=(t,e=!1)=>(e?OD:gT)(t,K_),Fm=t=>{let e=lo(t);for(let r of e.body)r.type==="FunctionDeclaration"&&r.id&&Qr(r.id)&&(r.id=null);return e.body};function yT(t,e,r){return e.length>1||e[0].type!=="FunctionDeclaration"?_T(t,e,!0,r):bT(t,[{type:"ReturnStatement",argument:{type:"CallExpression",optional:!1,arguments:[{type:"ThisExpression"},...t.map(i=>({type:"Identifier",name:i}))],callee:{type:"MemberExpression",property:{type:"Identifier",name:"call"},computed:!1,optional:!1,object:{type:"FunctionExpression",params:e[0].params,body:e[0].body}}}}],!0,r)}var bT=(t,e,r,i)=>{let n={type:"Identifier",name:"e"},o=i?[{type:"TryStatement",block:{type:"BlockStatement",body:e},handler:{type:"CatchClause",param:n,body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"MemberExpression",object:n,property:{type:"Identifier",name:"stack"},computed:!1,optional:!1},operator:"||",right:{type:"MemberExpression",object:n,property:{type:"Identifier",name:"message"},computed:!1,optional:!1}},operator:"||",right:{type:"CallExpression",callee:{type:"Identifier",name:"String"},arguments:[n],optional:!1}}}]}}}]:e;return r?{type:"FunctionExpression",id:{type:"Identifier",name:"_generatedCode"},params:t.map(a=>({type:"Identifier",name:a})),body:{type:"BlockStatement",body:o}}:{type:"ArrowFunctionExpression",params:t.map(a=>({type:"Identifier",name:a})),expression:!1,body:{type:"BlockStatement",body:o}}},EX=(t,e)=>({type:"CallExpression",arguments:t.map(r=>({type:"Identifier",name:r})),callee:e,optional:!1}),vT=(t,e,r)=>EX(t,_T(t,e,r,!0));function _T(t,e,r,i){let n=e[e.length-1];if(n.type!=="ReturnStatement"){let s=xX(n);s&&(e=[...e.slice(0,-1),{type:"ReturnStatement",argument:s}])}return bT(t,e,r,i)}function xX(t){switch(t.type){case"ExpressionStatement":return t.expression;case"BlockStatement":return{type:"CallExpression",arguments:[],callee:{type:"ArrowFunctionExpression",params:[],expression:!1,body:t},optional:!1};case"ReturnStatement":return t.argument||void 0;default:return}}var TT=w("dns"),Zr=F(w("path")),vs=w("url");var AT=w("url");var J=class{constructor(){this._listeners=new Set;this.event=(e,r,i)=>{let n={listener:e,thisArg:r};this._listeners.add(n);let s={dispose:()=>{s.dispose=()=>{},this._listeners.delete(n)}};return i&&i.push(s),s}}get size(){return this._listeners.size}fire(e){let r=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let i of this._listeners)this._deliveryQueue.push({data:i,event:e});if(r){for(let i=0;i<this._deliveryQueue.length;i++){let{data:n,event:s}=this._deliveryQueue[i];n.listener.call(n.thisArg,s)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}},ef=class{constructor(){this.map=new Map;this.listeners=this.map}listen(e,r){let i=this.map.get(e);i||(i=new J,this.map.set(e,i));let n=i.event(r);return{dispose:Ae(()=>{n.dispose(),(i==null?void 0:i.size)===0&&this.map.delete(e)})}}emit(e,r){var i;(i=this.listeners.get(e))==null||i.fire(r)}};var wT=w("crypto");var ft=()=>`
//# sourceURL=eval-${(0,wT.randomBytes)(4).toString("hex")}${".cdp"}
`;function Ta(t){return PX(""+t)}function PX(t){let e=Pm(t,0,{ecmaVersion:"latest",locations:!0});if(e.type!=="FunctionExpression")throw new Error(`Could not find function declaration for:

${t}`);let r=e.params.map(o=>{if(o.type!=="Identifier")throw new Error("Parameter must be identifier");return o.name}),{start:i,end:n}=e.body,s=o=>`
    ${o.map((a,u)=>`let ${r[u]} = ${a}`).join("; ")};
    ${t.slice(i+1,n-1)}
  `;return{expr:(...o)=>`(()=>{${s(o)}})();
${ft()}`,decl:(...o)=>`function(...runtimeArgs){${s(o)};
${ft()}}`}}var Da=class extends Error{constructor(r){super(r.text);this.details=r}},tf=class{constructor(e){this.objectId=e}};function zt(t){let e=(""+t).replace("}",ft()+"}"),r=async({cdp:i,args:n,...s})=>{let o=await i.Runtime.callFunctionOn({functionDeclaration:e,arguments:n.map(a=>a instanceof tf?{objectId:a.objectId}:{value:a}),...s});if(!o)throw new Da({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});if(o.exceptionDetails)throw new Da(o.exceptionDetails);return o.result};return r.source=e,r}var IT=()=>"globalThis.__jsDebugIsReady = true; "+ft();var rf=new Set(["page","iframe","worker","service_worker"]),Y_=new Set(["page","iframe"]),J_=new Set(["page","iframe"]),LX=J_,mc=class{constructor(e,r,i,n,s,o,a,u,c){this._manager=e;this._targetInfo=r;this.launchConfig=o;this.sessionId=a;this.logger=u;this._attached=!1;this._onNameChangedEmitter=new J;this.onNameChanged=this._onNameChangedEmitter.event;this.entryBreakpoint=void 0;this._children=new Map;this.sourcePathResolver=this._manager._sourcePathResolver;this._cdp=i,i.pause(),this.parentTarget=n,this._waitingForDebugger=s,this._updateFromInfo(r),this._ondispose=c}get targetInfo(){return this._targetInfo}get targetId(){return this._targetInfo.targetId}get independentLifeycle(){return J_.has(this.type())}get supplementalConfig(){let e=this.type();return{__browserTargetType:e,__usePerformanceFromParent:e!=="page"}}targetOrigin(){return this._manager._targetOrigin}id(){return this.sessionId}cdp(){return this._cdp}name(){return this._computeName()}fileName(){return this._targetInfo.url}type(){return this._targetInfo.type}afterBind(){return this._cdp.resume(),Promise.resolve()}initialize(){return Promise.resolve()}async runIfWaitingForDebugger(){await Promise.all([this._cdp.Runtime.runIfWaitingForDebugger({}),this._cdp.Runtime.evaluate({expression:IT()})])}parent(){return this.parentTarget&&!rf.has(this.parentTarget.type())?this.parentTarget.parentTarget:this.parentTarget}children(){let e=[];for(let r of this._children.values())rf.has(r.type())?e.push(r):e.push(...r.children());return e}canStop(){return LX.has(this.type())}stop(){if(this._manager.targetList().includes(this))if(this.type()==="service_worker"){if(this._manager.serviceWorkerModel.stopWorker(this.id()),!this.parentTarget)return;this._manager.serviceWorkerModel.stopWorker(this.parentTarget.id())}else this._cdp.Target.closeTarget({targetId:this._targetInfo.targetId})}canRestart(){return J_.has(this.type())}restart(){this._cdp.Page.reload({})}waitingForDebugger(){return this._waitingForDebugger}canAttach(){return!this._attached}async attach(){return this._waitingForDebugger=!1,this._attached=!0,Promise.resolve(this._cdp)}canDetach(){return this._attached}async detach(){this._attached=!1,this._manager._detachedFromTarget(this.sessionId)}executionContextName(e){let r=e.auxData,i=e.name;if(!r)return i;let n=r.frameId,s=n?this._manager.frameModel.frameForId(n):void 0;return s&&r.isDefault&&!s.parentFrame()?"top":s&&r.isDefault?s.displayName():s?`${i}`:i}supportsCustomBreakpoints(){return Y_.has(this.type())}scriptUrlToUrl(e){return po(this._targetInfo.url,e)||e}_updateFromInfo(e){this._targetInfo={...e,type:this._targetInfo.type},this._onNameChangedEmitter.fire()}setComputeNameFn(e){this._customNameComputeFn=e,this._onNameChangedEmitter.fire()}_computeName(){var n;let e=(n=this._customNameComputeFn)==null?void 0:n.call(this,this);if(e)return e;if(this.type()==="service_worker"){let s=this._manager.serviceWorkerModel.version(this.id());if(s)return s.label()+" [Service Worker]"}let r=this._targetInfo.title;if(!(r&&this._manager.targetList().some(s=>s instanceof mc&&s!==this&&s._targetInfo.title===this._targetInfo.title)))return r;try{let s=new AT.URL(this._targetInfo.url);s.protocol==="data:"?r=" <data>":s?r+=` (${this._targetInfo.url.replace(/^[a-z]+:\/\/|\/$/gi,"")})`:r+=` (${this._targetInfo.url})`}catch{r+=` (${this._targetInfo.url})`}return r}async _detached(){await this._manager.serviceWorkerModel.detached(this._cdp),this._ondispose(this)}};function nf(t){return t instanceof Array?t:[t]}function ST(t,e,r){let i=0,n=t.length-1;for(;i<=n;){let s=(i+n)/2|0,o=r(t[s],e);if(o<0)i=s+1;else if(o>0)n=s-1;else return s}return i}function ET(t,e){let r=new Map;for(let i of t){let n=e(i),s=r.get(n);s?s.push(i):r.set(n,[i])}return r}function gc(t){return t.next().value}var Um=class{constructor(e,r){this.key=e;this.value=r}toString(){return`${this.key}: ${this.value}`}},kn=class{constructor(e,r){this.projection=e;this.initialContents=r;let i=Array.from(r||[]).map(n=>[this.projection(n[0]),new Um(n[0],n[1])]);this.projectionToKeyAndValue=new Map(i)}clear(){this.projectionToKeyAndValue.clear()}delete(e){let r=this.projection(e);return this.projectionToKeyAndValue.delete(r)}forEach(e,r){this.projectionToKeyAndValue.forEach(i=>{e.call(r,i.value,i.key,this)},r)}get(e){let r=this.projection(e),i=this.projectionToKeyAndValue.get(r);return i?i.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,r){return this.projectionToKeyAndValue.set(this.projection(e),new Um(e,r)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(let e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(let e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(let e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}};function Rn(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function Hc(t,e){if(t.length<=e)return t;let r=e>>1,i=e-r-1,n=t.codePointAt(t.length-i-1);n&&n>=65536&&(--i,++r);let s=t.codePointAt(r-1);return r>0&&s&&s>=65536&&--r,t.substr(0,r)+"\u2026"+t.substr(t.length-i,i)}var xT="/\\.?*()^${}|[]+",PT=t=>xT.includes(t);function Er(t,e){let r=xT.split("").filter(n=>!e||e.indexOf(n)<0).join("").replace(/[\\\]]/g,"\\$&"),i=new RegExp(`[${r}]`,"g");return t.replace(i,"\\$&")}var fo=class{constructor(e){this.source=e;this.lines=[];this.lines.push(0);for(let r=e.indexOf(`
`);r!==-1;r=e.indexOf(`
`,r+1))this.lines.push(r+1)}getLineOffset(e){return e>=this.lines.length?this.source.length:this.lines[e]}convert(e){let r=e.base0;if(r.lineNumber>this.lines.length)return this.source.length;let i=this.lines[r.lineNumber],n=this.lines[r.lineNumber+1]??this.source.length+1;return i+Math.min(n-i-1,r.columnNumber)}};var Wm=process.platform!=="win32";function e0(){return Wm}function qm(t){return Wm?t:t.toLowerCase()}function Vm(t,e){return Wm?t===e:t.toLowerCase()===e.toLowerCase()}function $a(){return e0()?new Map:new kn(qm)}var DT,LT=process.platform==="win32"?(DT=process.env.PATHEXT)==null?void 0:DT.toLowerCase().split(";"):void 0,$T=t=>{let e=qm(Zr.basename(t));if(LT){for(let r of LT)if(e.endsWith(r))return e.slice(0,-r.length)}return e},DX=async(t,e)=>{for(;;){if(await e(t))return t;let r=Zr.dirname(t);if(r===t)return;t=r}},Gm=(t,e,r)=>DX(e,i=>t.exists(Zr.join(i,r))),TX=new Set(["localhost","127.0.0.1","::1"]);var CT=t=>TX.has(t.toLowerCase()),$X=t=>{try{return new vs.URL(t).hostname.replace(/^\[|\]$/g,"")}catch{return t}};var yc=wa(async t=>{let e=$X(t);if(CT(e))return!0;try{let r=await TT.promises.lookup(e);return CT(r.address)}catch{return!1}});function po(t,e){try{return new vs.URL(e,t).href}catch{}}function Km(t,e){try{return new vs.URL(e),e}catch{}let r;try{r=new vs.URL(t||"")}catch{return e}let i=r.protocol+"//";return r.username&&(i+=r.username+":"+r.password+"@"),i+=r.host,i+=Zr.dirname(r.pathname),i[i.length-1]!=="/"&&(i+="/"),i+=e,i}function zm(t){try{return new vs.URL(t),!0}catch{return!1}}function MT(t){return t.replace(/\/$/,"").replace(/\\$/,"")}var MX=/^https:\/\/([a-z0-9\-]+)\+\.vscode-resource\.vscode-(?:webview|cdn)\.net\/(.+)/i;function Ht(t){let e=MX.exec(t);if(e)t=`${e[1]}:///${e[2]}`;else if(t.startsWith("vscode-webview-resource://"))t=new vs.URL(t).pathname.replace(/%2F/gi,"/").replace(/^\/([a-z0-9\-]+)(\/{1,2})/i,(i,n,s)=>s.length===1?`${n}:///`:`${n}://`);else if(!vi(t))return;return t=t.replace("file:///",""),t=decodeURIComponent(t),t.startsWith("/")&&process.platform==="win32"&&t[1]!=="/"&&(t="/"+t),t[0]!=="/"&&!t.match(/^[A-Za-z]:/)&&(t="/"+t),_t(t)}function kT(t){return vi(t)&&(t=t.replace("file:///","\\\\"),t=t.replace(/\//g,"\\"),t=decodeURIComponent(t)),t}function Oe(t){return t0==="win32"?"file:///"+ho(t):"file://"+ho(t)}function bc(t){return t.startsWith("/")?"file://"+ho(t):"file:///"+ho(t)}function mr(t){return Zr.posix.isAbsolute(t)||Zr.win32.isAbsolute(t)}function sr(t){return!!t&&t.startsWith("data:")}var Q_=(t,e,r)=>{if(!r||t===":"){e.add(t);return}if(t==="/"){e.add(`\\${t}`);return}PT(t)?e.add(`\\${t}`):e.add(t);let i=encodeURIComponent(t);t!=="\\"&&i!==t&&e.add(i)},kX=t=>{switch(t.size){case 0:return"";case 1:return gc(t.values());default:let e=[...t];return e.some(r=>r.length>1)?`(?:${e.join("|")})`:`[${e.join("")}]`}},sf=new Set,Z_=(t,e,r,i)=>{let n="";for(let s of t.slice(e,r))Wm?Q_(s,sf,i):(Q_(s.toLowerCase(),sf,i),Q_(s.toUpperCase(),sf,i)),n+=kX(sf),sf.clear();return n};function bi(t,[e,r]=[0,t.length]){if(r<=e)return t;let i=[],n=Z_(t,0,e,!1),s=Z_(t,r,t.length,!1),o=t.slice(e,r);for(let a of[decodeURIComponent(o),Ht(o)]){if(!a)continue;let u=Z_(a,0,a.length,!0);i.push(RX(`${n}${u}${s}`).concat("($|\\?)"))}return i.join("|")}var RX=t=>t.replace(/^(file:\\\/\\\/\\\/)?([a-z]):/i,(e,r="",i)=>`${r}[${i.toUpperCase()}${i.toLowerCase()}]:`);function vi(t){return t.startsWith("file:///")}var t0=process.platform;function ho(t){return t=Yi(t),t0==="win32"?(H_(t)&&(t=t.slice(1)),t.split(/[\\//]/g).map((e,r)=>r>0?encodeURIComponent(e):e).join("/")):t.split("/").map(encodeURIComponent).join("/")}function Yi(t){return t&&t0==="win32"&&t[1]===":"?t[0].toUpperCase()+t.substring(1):t}var mo=(t,e=[])=>{let r=t.urlFilter||"file"in t&&t.file||t.url,i=r?NX(r,...e):void 0;return n=>!n.url.startsWith("devtools://")&&(i==null?void 0:i(n.url))!==!1},vc=t=>e=>e.type==="page"&&t(e);function OX(t){return!!t&&!Zr.isAbsolute(t)&&!!(0,vs.parse)(t).protocol}var NX=(...t)=>{let e=n=>{n=n.toLowerCase();let s=Ht(n);s?n=s:OX(n)&&n.includes("://")&&(n=n.substr(n.indexOf("://")+3)),n.endsWith("/")&&(n=n.substr(0,n.length-1));let o=n.indexOf("#");return o!==-1&&(n=n.slice(0,n[o-1]==="/"?o-1:o)),n},r=t.map(n=>Er(e(n),"/*").replace(/(\/\*$)|\*/g,".*")),i=new RegExp("^("+r.join("|")+")$","g");return n=>(i.lastIndex=0,i.test(e(n)))};var r0=class{constructor(e,r,i,n,s){this.original=e;this.metadata=r;this.actualRoot=i;this.actualSources=n;this.hasNames=s;this.sourceActualToOriginal=new Map;this.sourceOriginalToActual=new Map;this.id=r0.idCounter++;if(n.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let o=0;o<n.length;o++)this.sourceActualToOriginal.set(n[o],e.sources[o]),this.sourceOriginalToActual.set(e.sources[o],n[o])}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return _t(Km(sr(this.metadata.sourceMapUrl)?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}computeColumnSpans(){this.original.computeColumnSpans()}originalPositionFor(e){let r=this.original.originalPositionFor(e);return r.source&&(r.source=this.sourceOriginalToActual.get(r.source)??r.source),r}generatedPositionFor(e){return this.original.generatedPositionFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}allGeneratedPositionsFor(e){return this.original.allGeneratedPositionsFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}hasContentsOfAllSources(){return this.original.hasContentsOfAllSources()}sourceContentFor(e,r){return this.original.sourceContentFor(this.sourceActualToOriginal.get(e)??e,r)}eachMapping(e,r,i){return this.original.eachMapping(e,r,i)}destroy(){this.original.destroy()}},Ma=r0;Ma.idCounter=0;async function OT(t,e,r,i){let n=pt.parse(e,{locations:!0,ecmaVersion:"latest"}),s=new of.SourceMapGenerator({file:t}),o=bs(n,{sourceMap:{setSourceContent:(a,u)=>s.setSourceContent(a,u),applySourceMap:(a,u,c)=>s.applySourceMap(a,u,c),toJSON:()=>s.toJSON(),toString:()=>s.toString(),addMapping:a=>s.addMapping({generated:a.original,original:{column:a.generated.column,line:a.generated.line},source:t,name:a.name})}});return s.setSourceContent(t,o),new Ma(await of.SourceMapConsumer.fromSourceMap(s),{sourceMapUrl:i,compiledPath:r},"",[t],!1)}function NT(t){let e;try{e=lo(t,!0)}catch{return}let r=(u,c)=>({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:u,right:c}}),i=!1,n=!1,s=(0,_c.replace)(e,{enter(u,c){switch(u.type){case"ClassDeclaration":return r(u.id||{type:"Identifier",name:"_default"},{...u,type:"ClassExpression"});case"FunctionDeclaration":return this.skip(),r(u.id||{type:"Identifier",name:"_default"},{...u,type:"FunctionExpression"});case"FunctionExpression":case"ArrowFunctionExpression":case"MethodDefinition":return _c.VisitorOption.Skip;case"AwaitExpression":i=!0;return;case"ForOfStatement":u.await&&(i=!0);return;case"ReturnStatement":n=!0;return;case"VariableDeclaration":if(!c||!("body"in c)||!(c.body instanceof Array))return;let l=c.body,p=u.declarations.map(f=>({type:"ExpressionStatement",expression:{type:"UnaryExpression",operator:"void",prefix:!0,argument:{type:"AssignmentExpression",operator:"=",left:f.id,right:f.init||{type:"Identifier",name:"undefined"}}}}));l.splice(l.indexOf(u),1,...p)}}});if(!i||n)return;let o=s.body[s.body.length-1];o.type==="ExpressionStatement"&&(s.body[s.body.length-1]={type:"ReturnStatement",argument:o.expression});let a={type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"ArrowFunctionExpression",params:[],generator:!1,expression:!1,async:!0,body:{type:"BlockStatement",body:s.body}},arguments:[],optional:!1}};return bs(a)}function af(t){try{let e=Pm(t,0,K_);return e.end<t.length||e.type!=="ObjectExpression"?t:`(${t})`}catch{return t}}function wc(t){if(!t)return;let e="sourceMappingURL",r=t.length,i=e.length,n=r,s=0;for(;;){if(n=t.lastIndexOf(e,n),n===-1||n<4)return;if(n-=4,t[n]==="/"&&t[n+1]==="/"&&!(t[n+2]!=="#"&&t[n+2]!=="@")&&!(t[n+3]!==" "&&t[n+3]!=="	")&&(s=n+4+i,!(s<r&&t[s]!=="=")))break}let o=t.substring(s+1),a=o.indexOf(`
`);return a!==-1&&(o=o.substring(0,a)),o.trim()}function Xm(t,e,r){let i=r.generatedPositionFor({source:t,line:e.lineNumber,column:e.columnNumber-1,bias:of.SourceMapConsumer.GREATEST_LOWER_BOUND}),n=a=>{if(a.line===null||a.column===null)return 1e11;let u=r.originalPositionFor(a);return u.line!==null?Math.abs(e.lineNumber-u.line):1e11},s=n(i),o=r.allGeneratedPositionsFor({source:t,line:e.lineNumber,column:e.columnNumber-1}).filter(a=>a.line!==null&&a.column!==null).sort((a,u)=>a.line!==u.line?a.line-u.line:a.column-u.column).map(a=>[a,n(a)]);return o.push([i,s]),o.sort(([a,u],[c,l])=>u-l||a.line-c.line||a.column-c.column),o[0][0]}var i0=(t,e)=>!!e&&((e.type==="FunctionExpression"||e.type==="FunctionDeclaration"||e.type==="ArrowFunctionExpression")&&e.params.includes(t)||(e.type==="ForInStatement"||e.type==="ForOfStatement")&&e.left===t||e.type==="VariableDeclarator"&&e.id===t||e.type==="AssignmentPattern"&&e.left===t||e.type==="CatchClause"&&e.param===t||"kind"in e&&e.kind==="init"&&e.value===t||e.type==="RestElement"&&e.argument===t||e.type==="AssignmentPattern"&&e.left===t);function go(t){try{new Function(t)}catch(e){return e}}function BX(t,e){let r=lo(t),i,n;return(0,_c.traverse)(r,{enter:s=>{let o=s;e>=o.start&&e<o.end&&(s.type==="CallExpression"||s.type==="NewExpression"?n=s:i=s)}}),n||i}var RT=/^[^()]+/g;function BT(t,e){try{let i=BX(t,e);if(i&&"callee"in i){let n=i.callee;return{text:`${t.slice(n.start,n.end)}(...)`,start:n.start,end:n.end}}else{let n=i;return{text:t.slice(n.start,n.end),start:n.start,end:n.end}}}catch{}RT.lastIndex=e-1;let r=RT.exec(t);if(r)return{text:r[0],start:e,end:e+r[0].length}}var ka=class{constructor(e,r,i,n,s,o,a,u){this.url=r;this.inlineScriptOffset=o;this.runtimeScriptOffset=a;this.contentHash=u;this._scripts=[];this.sourceReference=e.getSourceReference(r),this._contentGetter=Ae(n),this._container=e,this.absolutePath=i||"",this._fqname=this._fullyQualifiedName(),this._name=this._humanName(),this.setSourceMapUrl(s),this._existingAbsolutePath=this.checkContentHash(u)}checkContentHash(e){return eD(this.absolutePath,this.inlineScriptOffset||this.runtimeScriptOffset?void 0:e,this._container._fileContentOverridesForTest.get(this.absolutePath))}offsetScriptToSource(e){return this.runtimeScriptOffset?{...e,lineNumber:e.lineNumber-this.runtimeScriptOffset.lineOffset,columnNumber:e.columnNumber-this.runtimeScriptOffset.columnOffset}:e}offsetSourceToScript(e){return this.runtimeScriptOffset?{...e,lineNumber:e.lineNumber+this.runtimeScriptOffset.lineOffset,columnNumber:e.columnNumber+this.runtimeScriptOffset.columnOffset}:e}setSourceMapUrl(e){if(!e){this.sourceMap=void 0;return}this.sourceMap={type:0,sourceByUrl:new Map,value:je(),metadata:{sourceMapUrl:e,compiledPath:this.absolutePath||this.url}}}addScript(e){this._scripts.push(e)}filterScripts(e){this._scripts=this._scripts.filter(e)}get scripts(){return this._scripts}get getSuggestedMimeType(){if(this.url.endsWith(".wat"))return"text/wat";if(!/\.[^/]+$/.test(this.url)||this.url.includes("?"))return"text/javascript"}async content(){var r;let e=await this._contentGetter();return(r=this.inlineScriptOffset)!=null&&r.lineOffset&&(e=`
`.repeat(this.inlineScriptOffset.lineOffset)+e),e}async prettyPrint(){if(!this._container)return;if(Ho(this)&&this.sourceMap.metadata.sourceMapUrl.endsWith("-pretty.map")){let u=this.sourceMap.value.settledValue;return u&&{map:u,source:[...this.sourceMap.sourceByUrl.values()][0]}}let e=await this.content();if(!e)return;let r=this.url||`eval://${this.sourceReference}.js`,i=r+"-pretty.map",s=r.split(/[\/\\]/).pop()+"-pretty.js",o=await OT(s,e,r,i);if(!o)return;this.setSourceMapUrl(i);let a=this;return this.sourceMap={type:0,metadata:{compiledPath:this.absolutePath,sourceMapUrl:""},sourceByUrl:new Map,value:je()},this.sourceMap.value.resolve(o),await this._container._addSourceMapSources(a,o),{map:o,source:[...a.sourceMap.sourceByUrl.values()][0]}}async toDap(){return this.toDapShallow()}async toDapShallow(){let e=await this._existingAbsolutePath,r={name:this._name,path:this._fqname,sourceReference:this.sourceReference,presentationHint:this.blackboxed()?"deemphasize":void 0,origin:this.blackboxed()?FT.t("Skipped by skipFiles"):void 0};return e&&(r.sourceReference=0,r.path=e),r}existingAbsolutePath(){return this._existingAbsolutePath}async prettyName(){let e=await this._existingAbsolutePath;return e||this._fqname}_humanName(){if(mr(this._fqname)){for(let e of this._container.rootPaths)if(JC(e,this._fqname))return lt((0,UT.relative)(e,this._fqname))}return this._fqname}_fullyQualifiedName(){var i;if(!this.url)return"<eval>/VM"+this.sourceReference;if(this.url.endsWith(".repl"))return"repl";if(this.absolutePath.startsWith("<node_internals>"))return this.absolutePath;if(mr(this.url))return this.url;let e=Ht(this.url);if(e)return e;let r=this.url;try{let n=[],s=new jT.URL(this.url);if(s.protocol==="data:")return"<eval>/VM"+this.sourceReference;s.hostname&&n.push(s.hostname),s.port&&n.push("\uA789"+s.port),s.pathname&&n.push(/^\/[a-z]:/.test(s.pathname)?s.pathname.slice(1):s.pathname);let o=(i=s.searchParams)==null?void 0:i.toString();o&&n.push("?"+o),r=n.join("")}catch{}return r.endsWith("/")&&(r+="(index)"),this.inlineScriptOffset&&(r+=`\uA789${this.inlineScriptOffset.lineOffset+1}:${this.inlineScriptOffset.columnOffset+1}`),r}blackboxed(){return this._container.isSourceSkipped(this.url)}};var uf;(i=>{async function t(n){return n.value.promise}i.waitForValue=t;function e(n,s){return n.type===0&&n.value.settledValue?Promise.resolve(n.value.settledValue):Promise.race([t(n),ke(s)])}i.waitForValueWithTimeout=e;async function r(n){return await t(n),n.sourceByUrl}i.waitForSources=r})(uf||={});var It=class extends ka{constructor(){super(...arguments);this.compiledToSourceUrl=new Map}},Ym=class extends ka{constructor(r,i,n){super(r,i.url,n,()=>Promise.resolve("Binary content not shown, see the decompiled WAT file"),void 0,void 0,void 0,void 0);this.event=i;this.sourceMap={type:1,value:je(),sourceByUrl:new Map}}checkContentHash(){return Promise.resolve(void 0)}offsetScriptToSource(r){return r}offsetSourceToScript(r){return r}},xr=t=>!!t&&t instanceof ka&&!!t.sourceMap,Ho=t=>xr(t)&&t.sourceMap.type===0,Ra=t=>xr(t)&&t.sourceMap.type===1,n0=t=>!!t&&typeof t.getDisassembly=="function";function WT(t,e){if(!e)return t;let{lineNumber:r,columnNumber:i}=t;return e&&(r+=e.lineOffset,r<=1&&(i+=e.columnOffset)),{...t,lineNumber:r,columnNumber:i}}function qT(t,e){if(!e)return t;let{lineNumber:r,columnNumber:i}=t;return e&&(r=Math.max(1,r-e.lineOffset),r<=1&&(i=Math.max(1,i-e.columnOffset))),{...t,lineNumber:r,columnNumber:i}}var VT=t=>({lineNumber:t.lineNumber+1,columnNumber:t.columnNumber+1}),_s=t=>({lineNumber:t.lineNumber-1,columnNumber:t.columnNumber-1});var FX={["pwa-extensionHost"]:null,["node-terminal"]:null,["pwa-node"]:null,["pwa-chrome"]:null,["pwa-msedge"]:null},UX={["extension.js-debug.addCustomBreakpoints"]:null,["extension.pwa-node-debug.attachNodeProcess"]:null,["extension.js-debug.clearAutoAttachVariables"]:null,["extension.js-debug.setAutoAttachVariables"]:null,["extension.js-debug.autoAttachToProcess"]:null,["extension.js-debug.createDebuggerTerminal"]:null,["extension.js-debug.createDiagnostics"]:null,["extension.js-debug.getDiagnosticLogs"]:null,["extension.js-debug.debugLink"]:null,["extension.js-debug.npmScript"]:null,["extension.js-debug.pickNodeProcess"]:null,["extension.js-debug.prettyPrint"]:null,["extension.js-debug.removeAllCustomBreakpoints"]:null,["extension.js-debug.removeCustomBreakpoint"]:null,["extension.js-debug.revealPage"]:null,["extension.js-debug.startProfile"]:null,["extension.js-debug.stopProfile"]:null,["extension.js-debug.toggleSkippingFile"]:null,["extension.node-debug.startWithStopOnEntry"]:null,["extension.js-debug.requestCDPProxy"]:null,["extension.js-debug.openEdgeDevTools"]:null,["extension.js-debug.callers.add"]:null,["extension.js-debug.callers.goToCaller"]:null,["extension.js-debug.callers.gotToTarget"]:null,["extension.js-debug.callers.remove"]:null,["extension.js-debug.callers.removeAll"]:null,["extension.js-debug.enableSourceMapStepping"]:null,["extension.js-debug.disableSourceMapStepping"]:null},Ghe=new Set(Object.keys(UX)),Khe=new Set(Object.keys(FX));var Ne=Symbol("AnyLaunchConfiguration"),GT={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.js","!**/node_modules/**"],sourceMapPathOverrides:o0("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],enableDWARF:!0,__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},lf={...GT,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]},KT={...lf,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},jX={...lf,type:"node-terminal",request:"attach",name:KT.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},WX={...lf,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},qX={...lf,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},s0={...GT,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:o0("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},VX={...s0,type:"pwa-msedge",useWebView:!1},zT={...s0,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},GX={...zT,type:"pwa-msedge",useWebView:!1},KX={...lf,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function o0(t){return{"webpack:///./~/*":`${t}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${t}/*`,"webpack://?:*/*":`${t}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${t}/*`}}var XT=t=>{!t.sourceMapPathOverrides&&t.cwd&&(t.sourceMapPathOverrides=o0(t.cwd)),t.resolveSourceMapLocations===void 0&&!t.remoteRoot&&(t.resolveSourceMapLocations=t.outFiles)};function zX({...t}){return XT(t),t.request==="attach"?{...KX,...t}:{...qX,...t}}function XX(t,e){return t.request==="attach"?{...s0,browserAttachLocation:e,...t}:{...zT,browserLaunchLocation:e,...t}}function JX(t,e){return t.request==="attach"?{...VX,browserAttachLocation:e,...t}:{...GX,browserLaunchLocation:e,...t}}function YX(t){let e={...WX,...t};return e.skipFiles=[...e.skipFiles,"**/node_modules.asar/**","**/bootstrap-fork.js"],e}function QX(t){return XT(t),t.request==="launch"?{...KT,...t}:{...jX,...t}}function Ic(t,e){let r,i=e==="remote"?"ui":"workspace";switch(t.type){case"pwa-node":r=zX(t);break;case"pwa-msedge":r=JX(t,i);break;case"pwa-chrome":r=XX(t,i);break;case"pwa-extensionHost":r=YX(t);break;case"node-terminal":r=QX(t);break;default:throw gh(t,"Unknown config: {value}")}return e7(r)}function ZX(t){var i,n,s;let e="${workspaceFolder}",r={...t,rootPath:void 0,outFiles:t.outFiles.filter(o=>!o.includes(e)),sourceMapPathOverrides:Hh(t.sourceMapPathOverrides,o=>!o.includes("${workspaceFolder}"))};return"vueComponentPaths"in r&&(r.vueComponentPaths=r.vueComponentPaths.filter(o=>!o.includes(e))),"resolveSourceMapLocations"in r&&(r.resolveSourceMapLocations=((i=r.resolveSourceMapLocations)==null?void 0:i.filter(o=>!o.includes(e)))??null),"cwd"in r&&((n=r.cwd)!=null&&n.includes(e))&&(r.cwd=void 0),"webRoot"in r&&((s=r.webRoot)!=null&&s.includes(e))&&(r.webRoot="/"),r}function e7(t){return t.__workspaceFolder||(t=ZX(t)),t=cf(t,"workspaceFolder",t.__workspaceFolder),t=cf(t,"webRoot","webRoot"in t?t.webRoot:t.__workspaceFolder),t}function cf(t,e,r){let i;if(typeof t=="string")i=t.replace(new RegExp(`\\$\\{${e}\\}`,"g"),()=>{if(!r)throw new Error(`Unable to resolve \${${e}} in configuration (${JSON.stringify(e)})`);return r});else if(t instanceof Array)i=t.map(n=>cf(n,e,r));else if(typeof t=="object"&&t){let n={};for(let[s,o]of Object.entries(t))n[cf(s,e,r)]=cf(o,e,r);i=n}else i=t;return i}var Qm="js-debug",pf="1.83.0",t7="ms-vscode",JT=Qm.includes("nightly"),Yhe=`${t7}.${Qm}`;var On=F(pe()),m$=F(Om());var Zm=class extends Error{constructor(r,i,n){super(`Unexpected ${r} response from ${i}: ${n??"<empty body>"}`);this.statusCode=r;this.url=i;this.body=n}},Oa=Symbol("IResourceProvider");var nt=F(vt());var Z=class extends Error{constructor(r){super("__errorMarker"in r?r.error.format:r.format);this._cause="__errorMarker"in r?r.error:r}get cause(){return this._cause}};function YT(t,e){t.output({category:"console",output:e+`
`})}function Xe(t,e=9222){return{__errorMarker:!0,error:{id:e,format:t,showUser:!1}}}function Ye(t,e=9223){return{__errorMarker:!0,error:{id:e,format:t,showUser:!0}}}var a0=()=>Ye(nt.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvs', 'nvm' or 'fnm' to be installed."),9224),QT=()=>Ye(nt.t("Attribute 'runtimeVersion' with a flavor/architecture requires 'nvs' to be installed."),9225),ZT=()=>Ye(nt.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvm-windows' or 'nvs'."),9226),u0=(t,e)=>Ye(nt.t("Node.js version '{0}' not installed using version manager {1}.",t,e),9226),e$=t=>Ye(nt.t("Cannot launch debug target in terminal ({0}).",t),9227),t$=t=>Ye(nt.t("Can't load environment variables from file ({0}).",t),9228),r$=t=>Ye(nt.t("The configured `cwd` {0} does not exist.",t),9245),c0=(t,e)=>Ye(nt.t(`Can't find Node.js binary "{0}": {1}. Make sure Node.js is installed and in your PATH, or set the "runtimeExecutable" in your launch.json`,t,e),9229),i$=(t,e)=>Ye(nt.t('The Node version in "{0}" is outdated (version {1}), we require at least Node 8.x.',e,t),9230),n$=t=>Ye(nt.t('Invalid hit condition "{0}". Expected an expression like "> 42" or "== 2".',t),9231),Ac=()=>Ye(nt.t("An error occurred taking a profile from the target."),9235),s$=()=>Ye(nt.t("Please stop the running profile before starting a new one."),9236),o$=t=>Xe(t,9238),eg=(t,e,r)=>Ye(e==="*"&&!r.length?nt.t('Unable to find an installation of the browser on your system. Try installing it, or providing an absolute path to the browser in the "runtimeExecutable" in your launch.json.'):nt.t('Unable to find {0} version {1}. Available auto-discovered versions are: {2}. You can set the "runtimeExecutable" in your launch.json to one of these, or provide an absolute path to the browser executable.',t,e,JSON.stringify([...new Set(r)])),9233),a$=t=>Ye(nt.t('Unable to launch browser: "{0}"',t.message),9240),ff=t=>Ye(t??nt.t("Unable to attach to browser"),9242),tg=()=>Ye(nt.t('Target page not found. You may need to update your "urlFilter" to match the page you want to debug.'),9241);var u$=()=>Xe(nt.t("Variables not available in async stacks"),9234),yo=(t,e)=>Ye(nt.t("Syntax error setting breakpoint with condition {0} on line {1}: {2}",JSON.stringify(t.condition),t.line,e),9237),l0=()=>Xe(nt.t("Thread not found"),9244),rg=(t,e)=>Ye(nt.t("Could not read source map for {0}: {1}",t,e)),c$=()=>Ye(nt.t("UWP webview debugging is not available on your platform.")),l$=()=>Ye(nt.t("Could not connect to any UWP Webview pipe. Make sure your webview is hosted in debug mode, and that the `pipeName` in your `launch.json` is correct.")),p$=t=>typeof t=="object"&&!!t&&"__errorMarker"in t,f$=(t,e)=>t instanceof Z&&t.cause.id===e,d$=t=>Ye(nt.t("The browser process exited with code {0} before connecting to the debug server. Make sure the `runtimeExecutable` is configured correctly and that it can run without errors.",t));var h$=new WeakSet;var r7="Request",i7=t=>t.endsWith("Request"),qr=Symbol("IDapApi"),Sc=Symbol("IRootDapApi"),df=class{constructor(e,r){this.transport=e;this.logger=r;this._pendingRequests=new Map;this._requestHandlers=new Map;this._eventListeners=new Map;this.disposables=[];this._initialized=je();this.closed=!1;this._sequence=1,this.disposables.push(this.transport.messageReceived(i=>this._onMessage(i.message,i.receivedTime))),this._dap=this._createApi()}get initializedBlocker(){return this._initialized.promise}attachTelemetry(e){this.telemetryReporter=e,e.attachDap(this._dap)}dap(){return this._dap}_createApi(){return new Proxy({},{get:(e,r)=>{if(r!=="then")return r==="on"?(i,n)=>(this._requestHandlers.set(i,n),()=>this._requestHandlers.delete(i)):r==="off"?i=>this._requestHandlers.delete(i):i=>{if(i7(r))return this.enqueueRequest(r.slice(0,-r7.length),i);this._send({seq:0,type:"event",event:r,body:i})}}})}createTestApi(){let e=(n,s)=>{let o=this._eventListeners.get(n);o||(o=new Set,this._eventListeners.set(n,o)),o.add(s)},r=(n,s)=>{let o=this._eventListeners.get(n);o&&o.delete(s)},i=(n,s)=>new Promise(o=>{let a=u=>{s&&!s(u)||(r(n,a),o(u))};e(n,a)});return new Proxy({},{get:(n,s)=>s==="on"?e:s==="off"?r:s==="once"?i:o=>this.enqueueRequest(s,o)})}enqueueRequest(e,r){return new Promise(i=>{let n={seq:0,type:"request",command:e,arguments:r||{}};this._send(n),this._pendingRequests.set(n.seq,i)})}stop(){this.closed=!0,this.transport.close()}_send(e,r){if(this.closed)this.logger.warn("dap.send","Not sending message because the connection has ended",e),r==null||r();else{e.seq=this._sequence++;let i=e.type!=="event"||!h$.has(e.body);this.transport.send(e,i,r)}}async _onMessage(e,r){var i,n,s,o;if(e.type==="request"){let a={seq:0,type:"response",request_seq:e.seq,command:e.command,success:!0};try{let u=this._requestHandlers.get(e.command);if(!u)console.error(`Unknown request: ${e.command}`);else{let c=await u(e.arguments);if(p$(c))this._send({...a,success:!1,message:c.error.format,body:{error:c.error}});else{let l={...a,body:c};a.command==="initialize"?(this._send(l),this._initialized.resolve(this)):a.command==="disconnect"?this._send({...a,body:c},()=>{this.stop()}):this._send(l)}}(i=this.telemetryReporter)==null||i.reportOperation("dapOperation",e.command,r.elapsed().ms)}catch(u){u instanceof Z?this._send({...a,success:!1,body:{error:u.cause}}):(console.error(u),this._send({...a,success:!1,body:{error:{id:9221,format:`Error processing ${e.command}: ${u.stack||u.message}`,showUser:!1,sendTelemetry:!1}}})),(n=this.telemetryReporter)==null||n.reportOperation("dapOperation",e.command,r.elapsed().ms,u)}}if(e.type==="event"){let a=this._eventListeners.get(e.event)||new Set;for(let u of a)u(e.body)}if(e.type==="response"){let a=this._pendingRequests.get(e.request_seq);if(!this.logger.assert(a,`Expected callback for request sequence ID ${e.request_seq}`))return;if(this._pendingRequests.delete(e.request_seq),e.success)a(e.body);else{let u=(o=(s=e.body)==null?void 0:s.error)==null?void 0:o.format;a(u||e.message||"Unknown error")}}}};var et=Symbol("ISourcePathResolver");var Nn=Symbol("ISourceMapFactory"),p0=Symbol("IRootSourceMapFactory"),Na=class{constructor(e,r){this.root=e;this.resourceProvider=r}load(e){return this.root.load(this.resourceProvider,e)}guardSourceMapFn(e,r,i){return this.root.guardSourceMapFn(e,r,i)}};Na=z([(0,On.injectable)(),E(0,(0,On.inject)(p0)),E(1,(0,On.inject)(Oa))],Na);var hf=class{constructor(e,r,i){this.pathResolve=e;this.dap=r;this.logger=i;this.hasWarnedAboutMaps=new WeakSet}async load(e,r){var a,u;let i=await this.parseSourceMap(e,r.sourceMapUrl),n=i.sourceRoot;i.sourceRoot=void 0;let s=!1,o=[];if("sections"in i){o=[];let c=0;for(let l of i.sections)o.push(...l.map.sources),l.map.sources=l.map.sources.map(()=>`source${c++}.js`),s||=!!((a=l.map.names)!=null&&a.length)}else"sources"in i&&Array.isArray(i.sources)&&(o=i.sources,i.sources=i.sources.map((c,l)=>`source${l}.js`),s=!!((u=i.names)!=null&&u.length));return new Ma(await new m$.SourceMapConsumer(i),r,n??"",o,s)}async parseSourceMap(e,r){let i;try{i=await this.parseSourceMapDirect(e,r)}catch(n){if(i=await this.parsePathMappedSourceMap(e,r),!i)throw n}if("sections"in i){let n=await Promise.all(i.sections.map((s,o)=>"url"in s?this.parseSourceMap(e,s.url).then(a=>({offset:s.offset,map:a})).catch(a=>{this.logger.warn("sourcemap.parsing",`Error parsing nested map ${o}: ${a}`)}):s));i.sections=n.filter(tr)}return i}async parsePathMappedSourceMap(e,r){if(sr(r))return;let i=await this.pathResolve.urlToAbsolutePath({url:r});if(i)try{return this.parseSourceMapDirect(e,i)}catch(n){this.logger.info("sourcemap.parsing","Parsing path mapped source map failed.",n)}}guardSourceMapFn(e,r,i){try{return r()}catch(n){if(!/error parsing/i.test(String(n.message)))throw n;if(!this.hasWarnedAboutMaps.has(e)){let s=rg(e.metadata.compiledPath,n.message).error;this.dap.output({output:s.format+`
`,category:"stderr"}),this.hasWarnedAboutMaps.add(e)}return i()}}dispose(){}async parseSourceMapDirect(e,r){let i=Ht(r);i&&(i=this.pathResolve.rebaseRemoteToLocal(i));let n=await e.fetch(i||r);if(!n.ok)throw n.error;let s=n.body;return s.slice(0,3)===")]}"&&(s=s.substring(s.indexOf(`
`))),JSON.parse(s)}};hf=z([(0,On.injectable)(),E(0,(0,On.inject)(et)),E(1,(0,On.inject)(Sc)),E(2,(0,On.inject)(ae))],hf);var bo=class extends hf{constructor(){super(...arguments);this.knownMaps=new kn(r=>r.toLowerCase());this.overwrittenSourceMaps=[]}load(r,i){let n=this.knownMaps.get(i.sourceMapUrl);if(!n)return this.loadNewSourceMap(r,i);let s=i.cacheKey,o=n.metadata.cacheKey;return n.reloadIfNoMtime?s&&o&&s===o?(n.reloadIfNoMtime=!1,n.prom):(this.overwrittenSourceMaps.push(n.prom),this.loadNewSourceMap(r,i)):o&&s&&s!==o?(this.overwrittenSourceMaps.push(n.prom),this.loadNewSourceMap(r,i)):n.prom}loadNewSourceMap(r,i){let n=super.load(r,i);return this.knownMaps.set(i.sourceMapUrl,{metadata:i,reloadIfNoMtime:!1,prom:n}),n}dispose(){for(let r of this.knownMaps.values())r.prom.then(i=>i.destroy(),()=>{});for(let r of this.overwrittenSourceMaps)r.then(i=>i.destroy(),()=>{});this.knownMaps.clear()}invalidateCache(){for(let r of this.knownMaps.values())r.reloadIfNoMtime=!0}};bo=z([(0,On.injectable)()],bo);var g$=/[$a-z_][$0-9A-Z_$]*/iy,vo=Symbol("IRenameProvider"),Ec=class{constructor(e,r){this.sourceMapFactory=e;this.launchConfig=r;this.renames=new Map}provideOnStackframe(e){if(!this.launchConfig.sourceMapRenames)return _i.None;let r=e.uiLocation();return r===void 0?_i.None:"then"in r?r.then(i=>this.provideForSource(i==null?void 0:i.source)):this.provideForSource(r==null?void 0:r.source)}provideForSource(e){if(!this.launchConfig.sourceMapRenames||!(e instanceof It))return _i.None;let r=gc(e.compiledToSourceUrl.keys());if(!r)throw new Error("unreachable");if(!Ho(r))return _i.None;let i=this.renames.get(r.url);if(i)return i;let n=this.sourceMapFactory.load(r.sourceMap.metadata).then(async s=>{if(!(s!=null&&s.hasNames))return _i.None;let o=await r.content();return o?this.createFromSourceMap(s,o):_i.None}).catch(()=>_i.None);return this.renames.set(r.url,n),n}createFromSourceMap(e,r){let i=new fo(r),n=[];return e.eachMapping(s=>{if(!s.name)return;let o=new Qs(s.generatedLine,s.generatedColumn),a=i.convert(o);g$.lastIndex=a;let u=g$.exec(r);u&&n.push({compiled:u[0],original:s.name,position:o})}),n.sort((s,o)=>s.position.compare(o.position)),new _i(n)}};Ec=z([(0,mf.injectable)(),E(0,(0,mf.inject)(Nn)),E(1,(0,mf.inject)(Ne))],Ec);var f0=class{constructor(e){this.renames=e}getOriginalName(e,r){var i;return(i=this.getClosestRename(r,n=>n.compiled===e))==null?void 0:i.original}getCompiledName(e,r){var i;return(i=this.getClosestRename(r,n=>n.original===e))==null?void 0:i.compiled}getClosestRename(e,r){let i=e.base01,n;for(let s of this.renames){if(!r(s))continue;if(!(s.position.compare(i)<0)&&n)return n;n=s}return n}},_i=f0;_i.None=new f0([]);var xc=Symbol("IContainer"),Bn=Symbol("StoragePath"),gr=Symbol("IInitializeParams"),_o=Symbol("VSCodeApi"),Pc=Symbol("IsVSCode"),H$=Symbol("ExtensionContext"),h0=Symbol("ProcessEnv"),gf=Symbol("execa"),it=Symbol("FS"),Ba="ExtensionLocation",Fa=Symbol("IBrowserFinder"),Nme=Symbol("DwarfDebugging"),y$=Symbol("SessionSubStates"),d0=new WeakMap,Bt=(t,e)=>{if(!(typeof e=="object"&&e&&"dispose"in e))return e;let r=e,i=d0.get(t.container);return i?i.push(r):d0.set(t.container,[r]),e},ng=t=>{var e;(e=d0.get(t))==null||e.forEach(r=>r.dispose())},Bme=Symbol("IExtensionContribution");var Lr=Symbol("ITelemetryReporter");var b$=F(pe());var wo=Symbol("IShutdownParticipants"),Lc=class{constructor(){this.participants=[]}register(e,r){if(this.shutdownStage!==void 0&&this.shutdownStage>=e)return r(),Wu;for(;this.participants.length<=e;)this.participants.push(new Set);return this.participants[e].add(r),{dispose:()=>this.participants[e].delete(r)}}async shutdown(){for(this.shutdownStage=0;this.shutdownStage<this.participants.length;this.shutdownStage++)await Promise.all([...this.participants[this.shutdownStage]].map(e=>e()))}};Lc=z([(0,b$.injectable)()],Lc);var Vn=F(pe());var sg=class{constructor(e=!1,r=!1){this.verified=e;this.hit=r}},og=class{constructor(){this._statisticsById=new Map}registerBreakpoints(e){e.forEach(r=>{r.id!==void 0&&!this._statisticsById.has(r.id)&&this._statisticsById.set(r.id,new sg(r.verified,!1))})}registerResolvedBreakpoint(e){this.getStatistics(e).verified=!0}registerBreakpointHit(e){this.getStatistics(e).hit=!0}getStatistics(e){let r=this._statisticsById.get(e);if(r!==void 0)return r;{let i=new sg;return this._statisticsById.set(e,i),i}}statistics(){let e=0,r=0,i=0;for(let n of this._statisticsById.values())e++,n.hit&&i++,n.verified&&r++;return{set:e,verified:r,hit:i}}};var ag=async(t,e,r,i={})=>{let n=Date.now();try{return await r()}finally{t.verbose("perf.function","",{method:e,duration:Date.now()-n,...i})}};var yf=w("fs"),Xt=F(pe()),ug=F(w("path"));var Ua=F(pe()),Hf=F(w("path"));var Cc=class{get empty(){return this.patterns.length===0}constructor({rootPath:e,patterns:r}){!e||!r?(this.rootPath="",this.patterns=[]):(this.rootPath=e,this.patterns=r.map(i=>{let n=i.startsWith("!");return{negated:n,pattern:i.slice(n?1:0)}}))}*explode(){for(let e=0;e<this.patterns.length;e++){let{negated:r,pattern:i}=this.patterns[e];if(r)continue;let n=Hf.resolve(this.rootPath,i).split(/[\\/]/g),s=n.findIndex(u=>u.includes("*"));if(s===-1){yield{cwd:n.slice(0,-1).join("/"),pattern:n[n.length-1],negations:[]};continue}let o=n.slice(0,s).join("/"),a=[];for(let u=e+1;u<this.patterns.length;u++){let{negated:c,pattern:l}=this.patterns[u];if(c)if(l.startsWith("**"))a.push(lt(l));else{let p=Hf.relative(o,Hf.resolve(this.rootPath,l));p.startsWith("..")||a.push(lt(p))}}yield{cwd:o,negations:a,pattern:n.slice(s).join("/")}}}};Cc=z([(0,Ua.injectable)()],Cc);var Fn=class extends Cc{constructor({rootPath:e,outFiles:r}){super({rootPath:e,patterns:r})}};Fn=z([(0,Ua.injectable)(),E(0,(0,Ua.inject)(Ne))],Fn);var ws=class extends Cc{constructor(e){super({rootPath:e.rootPath,patterns:"vueComponentPaths"in e?e.vueComponentPaths:[]})}};ws=z([(0,Ua.injectable)(),E(0,(0,Ua.inject)(Ne))],ws);var v$=w("path");var Dc=Symbol("ISearchStrategy"),ige=Symbol("ISearchStrategyFallback"),_$=async(t,e,r)=>{let i,s=`${(0,v$.basename)(t)}.map`;if(e.siblings.includes(s)&&(i=s),i||(typeof r>"u"&&(r=await oL(t)),i=wc(r)),!(!i||(sr(i)||(i=po(Oe(t),i)),!i))&&!(!i.startsWith("data:")&&!i.startsWith("file://")))return{compiledPath:t,sourceMapUrl:i,cacheKey:e.mtime}};var m0=Symbol("InlineSourceMapUrl"),w$=10*1e3,ja=class{constructor(e){e.__workspaceCachePath&&(this.path=ug.join(e.__workspaceCachePath,"bp-predict.json"))}async load(){if(this.value||!this.path)return this.value;try{this.value=JSON.parse(await yf.promises.readFile(this.path,"utf-8"))}catch{}return this.value}async store(e){this.value=e,this.path&&(await yf.promises.mkdir(ug.dirname(this.path),{recursive:!0}),await yf.promises.writeFile(this.path,JSON.stringify(e)))}};ja=z([(0,Xt.injectable)(),E(0,(0,Xt.inject)(Ne))],ja);var Un=class{constructor(e,r,i,n,s,o){this.outFiles=e;this.repo=r;this.logger=i;this.sourceMapFactory=n;this.sourcePathResolver=s;this.state=o}async createMapping(e){if(this.outFiles.empty)return new Map;let r=$a(),i=await this.state.load();try{let{state:n}=await this.repo.streamChildrenWithSourcemaps({files:this.outFiles,processMap:async s=>{let o=[],a=await this.sourceMapFactory.load(s);for(let u of a.sources){let c=this.sourcePathResolver?await this.sourcePathResolver.urlToAbsolutePath({url:u,map:a}):Ht(u);c&&o.push({...s,sourceMapUrl:sr(s.sourceMapUrl)?{[m0]:s.sourceMapUrl}:s.sourceMapUrl,resolvedPath:c,sourceUrl:u})}return{discovered:o,compiledPath:_t(s.compiledPath)}},onProcessedMap:({discovered:s})=>{for(let o of s){let a=r.get(o.resolvedPath);a||(a=new Set,r.set(o.resolvedPath,a)),a.add(o)}},lastState:i,...e});n&&this.state.store(n).catch(s=>this.logger.warn("runtime.exception","Error saving sourcemap cache",{error:s}))}catch(n){this.logger.warn("runtime.exception","Error reading sourcemaps from disk",{error:n})}return r}};Un=z([(0,Xt.injectable)(),E(0,(0,Xt.inject)(Fn)),E(1,(0,Xt.inject)(Dc)),E(2,(0,Xt.inject)(ae)),E(3,(0,Xt.inject)(Nn)),E(4,(0,Xt.inject)(et)),E(5,(0,Xt.inject)(ja))],Un);var Tc=class extends Un{async getMetadataForPaths(r){this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping());let i=await this.sourcePathToCompiled;return r.map(n=>i.get(n))}async createInitialMapping(){return ag(this.logger,"BreakpointsPredictor.createInitialMapping",()=>this.createMapping())}};Tc=z([(0,Xt.injectable)()],Tc);var $c=class extends Un{constructor(){super(...arguments);this.sourcePathToCompiled=new Map}async getMetadataForPaths(r){let i=r.map(o=>this.sourcePathToCompiled.get(o)),n=r.map((o,a)=>a).filter(o=>!i[o]);if(n.length){let o=new Set(n.map(u=>_t(r[u]))),a=this.createMapping({filter:(u,c)=>!c||c.discovered.some(l=>o.has(l.resolvedPath))});for(let u of n)this.sourcePathToCompiled.set(r[u],a),i[u]=a}return await Promise.all(i.map(async(o,a)=>(await o).get(r[a])))}};$c=z([(0,Xt.injectable)()],$c);var qa=Symbol("IBreakpointsPredictor"),Wa=class{constructor(e,r,i,n){this.bpSearch=e;this.outFiles=r;this.logger=i;this.sourceMapFactory=n;this.predictedLocations=new Map;this.longParseEmitter=new J;this.targetedMode=!1;this.onLongParse=this.longParseEmitter.event}async predictBreakpoints(e){var n;if(!e.source.path||!((n=e.breakpoints)!=null&&n.length))return;let r=await this.getMetadataForPaths([e.source.path]).then(s=>s[0]);if(!r)return;let i=async(s,o,a)=>{let u=typeof a.sourceMapUrl=="string"?a.sourceMapUrl:a.sourceMapUrl.hasOwnProperty(m0)?a.sourceMapUrl[m0]:await yf.promises.readFile(a.compiledPath,"utf8").then(wc);if(!u)return[];let c=await this.sourceMapFactory.load({...a,sourceMapUrl:u}),l=this.sourceMapFactory.guardSourceMapFn(c,()=>Xm(a.sourceUrl,{lineNumber:s,columnNumber:o||1},c),()=>null);if(!l||l.line===null)return[];let p=await this.getMetadataForPaths([a.compiledPath]).then(f=>f[0]);return p?(await Promise.all([...p].map(g=>i(l.line,l.column,g)))).flat():[{absolutePath:a.compiledPath,lineNumber:l.line||1,columnNumber:l.column?l.column+1:1}]};for(let s of e.breakpoints??[]){let o=`${e.source.path}:${s.line}:${s.column||1}`;if(this.predictedLocations.has(o))return;let a=[];this.predictedLocations.set(o,a);for(let u of r)a.push(...await i(s.line,s.column||0,u))}}async getPredictionForSource(e){return this.getMetadataForPaths([e]).then(r=>r[0])}async getMetadataForPaths(e){let r=setTimeout(()=>{this.longParseEmitter.fire(),this.logger.warn("runtime.sourcemap","Long breakpoint predictor runtime",{longPredictionWarning:w$,patterns:[...this.outFiles.explode()].join(", ")})},w$),i=await this.bpSearch.getMetadataForPaths(e);return clearTimeout(r),i}predictedResolvedLocations(e){let r=`${e.absolutePath}:${e.lineNumber}:${e.columnNumber||1}`;return this.predictedLocations.get(r)??[]}};Wa=z([(0,Xt.injectable)(),E(0,(0,Xt.inject)(Un)),E(1,(0,Xt.inject)(Fn)),E(2,(0,Xt.inject)(ae)),E(3,(0,Xt.inject)(Nn))],Wa);var Nc=F(pe());var A$=w("crypto"),S$=F(Dm()),bf=F(pe());var n7=0,dt=Symbol("ICdpApi"),Va=class extends Error{constructor(r){super("<<message>>");this.method=r}setCause(r,i){var n;return this.cause={code:r,message:i},this.message=`CDP error ${r} calling method ${this.method}: ${i}`,this.stack=(n=this.stack)==null?void 0:n.replace("<<message>>",this.message),this}},Tt=class{constructor(e,r,i){this.logger=r;this.telemetryReporter=i;this._connectionId=n7++;this._lastId=1e3;this._disposedSessions=new Map;this._onDisconnectedEmitter=new J;this.waitWrapper=o7();this.onDisconnected=this._onDisconnectedEmitter.event;this._transport=e,this._transport.onMessage(([n,s])=>this._onMessage(n,s)),this._transport.onEnd(()=>this._onTransportClose()),this._sessions=new Map,this._closed=!1,this._rootSession=new cg(this,"",this.logger),this._sessions.set("",this._rootSession)}rootSession(){return this._rootSession.cdp()}_send(e,r={},i){let n=++this._lastId,s={id:n,method:e,params:r};i&&(s.sessionId=i);let o=JSON.stringify(s);return this.logger.verbose("cdp.send",void 0,{connectionId:this._connectionId,message:s}),this._transport.send(o),n}_onMessage(e,r){let i=JSON.parse(e),n=i;i.result&&i.result.scriptSource?n={...i,result:{...i.result,scriptSource:"<script source>"}}:i.method==="Debugger.scriptParsed"&&i.params&&sr(i.params.sourceMapURL)&&(n={...i,params:{...i.params,sourceMapURL:"<data source map url>"}}),this.logger.verbose("cdp.receive",void 0,{connectionId:this._connectionId,message:n});let s=this._sessions.get(i.sessionId||"");if(!s){let u=this._disposedSessions.get(i.sessionId);if(u){let c=(Date.now()-u.getTime())/1e3;this.logger.warn("internal",`Got message for a session disposed ${c} seconds ago`,{sessionId:i.sessionId,disposeOn:u});return}else throw new Error(`Unknown session id: ${i.sessionId} while processing: ${i.method}`)}let o=i.method,a;try{s._onMessage(i)}catch(u){a=u}o&&this.telemetryReporter.reportOperation("cdpOperation",o,r.elapsed().ms,a)}_onTransportClose(){if(!this._closed){this._closed=!0,this._transport.dispose(),this.logger.info("cdp.receive","Connection closed",{connectionId:this._connectionId});for(let e of this._sessions.values())e._onClose();this._sessions.clear(),this._onDisconnectedEmitter.fire()}}close(){this._onTransportClose()}isClosed(){return this._closed}createSession(e){let r=new cg(this,e,this.logger);return this._sessions.set(e,r),r.cdp()}disposeSession(e){let r=this._sessions.get(e);r&&(r._onClose(),this._disposedSessions.set(r.sessionId(),new Date),this._sessions.delete(r.sessionId()))}},s7=+process.version.substring(1).split(".")[0]<11,cg=class{constructor(e,r,i){this.logger=i;this._queue=[];this._prefixListeners=new ef;this._directListeners=new ef;this.paused=!1;this._callbacks=new Map,this._connection=e,this._sessionId=r,this._cdp=this._createApi()}pause(){this.paused=!0}resume(){if(!this.paused)return;this.paused=!1;let e=this._queue;this._queue=[],this.logger.verbose("cdp.receive","Dequeue messages",{message:e});for(let r of e)this._processResponse(r)}cdp(){return this._cdp}sessionId(){return this._sessionId}_createApi(){return new Proxy({},{get:(e,r)=>r==="pause"?()=>this.pause():r==="resume"?()=>this.resume():r==="session"?this:new Proxy({},{get:(i,n)=>{if(n!=="then")return n==="on"?(s,o)=>this.on(`${r}.${s}`,o):s=>this.send(`${r}.${n}`,s)}})})}on(e,r){return this._directListeners.listen(e,r)}onPrefix(e,r){return this._prefixListeners.listen(e,r)}send(e,r={}){return this.sendOrDie(e,r).catch(()=>{})}sendOrDie(e,r={}){if(!this._connection)return Promise.reject(new Va(e).setCause(0,"Connection is closed"));let i=this._connection._send(e,r,this._sessionId);return new Promise((n,s)=>{this._callbacks.set(i,{resolve:n,reject:s,from:new Va(e),method:e})})}_onMessage(e){if(this.paused&&e.id){this._processResponse(e);return}if(this._queue.length>0){this._queue.push(e);return}if(!s7&&!this.paused){this._processResponse(e);return}this._queue.push(e),this.paused||this._processQueue()}_processQueue(){var e;(e=this._connection)==null||e.waitWrapper(()=>{if(this.paused)return;let r=this._queue.shift();r&&(this._processResponse(r),this._queue.length&&this._processQueue())})}_processResponse(e){if(e.id===void 0){let i=e;this._directListeners.emit(i.method,i.params);for(let[n,s]of this._prefixListeners.listeners)i.method.startsWith(n)&&s.fire(i);return}let r=this._callbacks.get(e.id);r&&(this._callbacks.delete(e.id),"error"in e?r.reject(r.from.setCause(e.error.code,e.error.message)):"result"in e&&r.resolve(e.result))}async detach(){if(!this._connection)throw new Error("Session already detached. Most likely the target has been closed.");this._connection._send("Target.detachFromTarget",{},this._sessionId)}isClosed(){return!this._connection}_onClose(){for(let e of this._callbacks.values())e.reject(e.from.setCause(0,"Connection is closed"));this._callbacks.clear(),this._connection=void 0}};function o7(){if(parseInt(process.versions.node,10)>=11)return setImmediate;let t=!1,e=[],r=()=>{let i=e.shift();if(!i){t=!1;return}setImmediate(r),i()};return i=>{e.push(i),t||(t=!0,setImmediate(r))}}var Is="$returnValue",a7="__js_debug_hoisted_",I$=()=>a7+(0,A$.randomBytes)(8).toString("hex"),wi=Symbol("IEvaluator"),Mc=class{constructor(e,r){this.cdp=e;this.renameProvider=r}get hasReturnValue(){return!!this.returnValue}setReturnedValue(e){this.returnValue=e}prepare(e,{isInternalScript:r,hoist:i,renames:n}={}){r!==!1&&(e+=ft());let s=new Map;s.set(Is,I$());for(let u of i??[])s.set(u,I$());let{transformed:o,hoisted:a}=this.replaceVariableInExpression(e,s,n);return a.size?{canEvaluateDirectly:!1,invoke:(u,c={})=>Promise.all([...s].map(([l,p])=>this.hoistValue(l===Is?this.returnValue:c[l],p))).then(()=>this.cdp.Debugger.evaluateOnCallFrame({...u,expression:o}))}:{canEvaluateDirectly:!0,invoke:u=>this.cdp.Debugger.evaluateOnCallFrame({...u,expression:o})}}async evaluate(e,r){if(!("callFrameId"in e))return this.cdp.Runtime.evaluate(e);let i=r;if(r!=null&&r.stackFrame){let n=await this.renameProvider.provideOnStackframe(r.stackFrame);i={...i,renames:{mapping:n,position:r.stackFrame.rawPosition}}}return this.prepare(e.expression,i).invoke(e)}async hoistValue(e,r){let i=e==null?void 0:e.objectId,n=`setTimeout(() => { delete globalThis.${r} }, 0)`;i?await this.cdp.Runtime.callFunctionOn({objectId:i,functionDeclaration:`function() { globalThis.${r} = this; ${n}; ${ft()} }`}):await this.cdp.Runtime.evaluate({expression:`globalThis.${r} = ${JSON.stringify(e==null?void 0:e.value)};${n};`+ft()})}replaceVariableInExpression(e,r,i){let n=new Set,s=!1,o=(p,f)=>({type:"ConditionalExpression",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:p}},operator:"!==",right:{type:"Literal",value:"undefined"}},consequent:{type:"Identifier",name:p},alternate:f}),a=[],u=lo(e),c=(0,S$.replace)(u,{enter(p,f){let g=p;if(p.type!=="Identifier"||e[g.start-1]===".")return;let m=r.get(p.name);if(m)return n.add(p.name),s=!0,this.skip(),i0(p,f)?{type:"Identifier",name:m}:o(m,u7);let y=i==null?void 0:i.mapping.getCompiledName(p.name,i.position);if(y)return s=!0,this.skip(),i0(p,f)?{type:"Identifier",name:y}:o(y,p)},leave:()=>{a.pop()}});if(!s)return{hoisted:n,transformed:e};let l=u.body[u.body.length-1].end;return{hoisted:n,transformed:bs(c)+e.slice(l)}}};Mc=z([(0,bf.injectable)(),E(0,(0,bf.inject)(dt)),E(1,(0,bf.inject)(vo))],Mc);var u7={type:"Identifier",name:"undefined"};var kc=class{static parse(e,r,i,n){i&&(r=g0(r));let s=r&&go(r);if(s)throw new Z(yo(e,s.message));let{canEvaluateDirectly:o,invoke:a}=n.prepare(r);return new kc(o?r:a)}constructor(e){typeof e=="function"?this.invoke=e:this.breakCondition=e}async shouldStayPaused(e){if(!this.invoke)return Promise.resolve(!0);let r=await this.invoke({callFrameId:e.callFrames[0].callFrameId,returnByValue:!0});return(r==null?void 0:r.result.value)===!0}},g0=t=>`(()=>{try{return ${t};}catch(e){console.error(e);return true}})()`;var c7=/^(>|>=|={1,3}|<|<=|%)?\s*([0-9]+)$/,Io=class{constructor(e){this.predicate=e;this.hits=0;this.breakCondition=void 0}shouldStayPaused(){return Promise.resolve(this.predicate(++this.hits))}static parse(e){let r=c7.exec(e);if(!r)throw new Z(n$(e));let[,i="=",n]=r,s=i==="%"?`return (numHits % ${n}) === 0;`:i[0]==="="?`return numHits === ${n};`:`return numHits ${i} ${n};`;return new Io(new Function("numHits",s))}};var E$=w("crypto"),pg=F(pe());var lg=class{constructor(e){this.invoke=e;this.breakCondition=void 0}async shouldStayPaused(e){return await this.invoke({callFrameId:e.callFrames[0].callFrameId}),!1}};var Rc=class{constructor(e,r){this.breakCondition=r;let i=r&&go(r);if(i)throw new Z(yo(e,i.message))}shouldStayPaused(){return Promise.resolve(!0)}};var Ao=class{constructor(e){this.evaluator=e}compile(e,r){let i=this.logMessageToExpression(r),n=go(i);if(n)throw new Z(yo(e,n.message));let{canEvaluateDirectly:s,invoke:o}=this.evaluator.prepare(i);return s?new Rc(e,this.logMessageToExpression(r)):new lg(o)}serializeLogStatements(e){return vT([],e,!1)}logMessageToExpression(e){let r=c=>c.replace(/%/g,"%%"),i=[],n=[],s=0;for(;;){let c=e.indexOf("{",s);if(c===-1){i.push(r(e.slice(s)));break}i.push(r(e.slice(s,c)));let[l]=Fm(e.slice(c));if(s=c+l.end,s-1===c+1||e[s-1]!=="}"){i.push(r(e.slice(c,s)));continue}if(l.type!=="BlockStatement")break;n.push(bs(this.serializeLogStatements(l.body))),i.push("%O")}let a=`console.log(${[JSON.stringify(i.join("")),...n].join(", ")}), false`,u=(0,E$.createHash)("sha1").update(a).digest("hex").slice(0,7);return a+`
//# sourceURL=logpoint-${u}.cdp`}};Ao=z([(0,pg.injectable)(),E(0,(0,pg.inject)(wi))],Ao);var l7=new Rc({line:0},void 0),fg=Symbol("IBreakpointConditionFactory"),Oc=class{constructor(e,r,i){this.logPointCompiler=e;this.evaluator=r;this.breakOnError=i.__breakOnConditionalError}getConditionFor(e){return e.condition?kc.parse(e,e.condition,this.breakOnError,this.evaluator):e.logMessage?this.logPointCompiler.compile(e,e.logMessage):e.hitCondition?Io.parse(e.hitCondition):l7}};Oc=z([(0,Nc.injectable)(),E(0,(0,Nc.inject)(Ao)),E(1,(0,Nc.inject)(wi)),E(2,(0,Nc.inject)(Ne))],Oc);var mg=w("path");var dg=(t,e)=>t.lineNumber===e.lineNumber&&t.columnNumber===e.columnNumber;var hg=t=>!("location"in t),x$=t=>"location"in t,p7=(t,e)=>t.url&&e===t.url||t.urlRegex&&new RegExp(t.urlRegex).test(e),Bc=class{constructor(e,r,i){this._manager=e;this._source=r;this._originalPosition=i;this.isEnabled=!1;this.setInCdpScriptIds=new Set;this.cdpScriptIds=this.setInCdpScriptIds;this.cdpBreakpoints=[];this._cdpIds=new Set}get enabled(){return this.isEnabled}get cdpIds(){return this._cdpIds}get source(){return this._source}get originalPosition(){return this._originalPosition}async updateSourceLocation(e,r,i){this._source=r,this._originalPosition=i;let n=[];for(let s of this.cdpBreakpoints)s.state===1&&n.push(this.updateUiLocations(e,s.cdpId,s.locations));await Promise.all(n)}async refreshUiLocations(e){await Promise.all(this.cdpBreakpoints.filter(r=>r.state===1).map(r=>this.updateUiLocations(e,r.cdpId,r.locations)))}async enable(e){if(this.isEnabled)return;this.isEnabled=!0;let r=[this._setPredicted(e)],i=this._manager._sourceContainer.source(this.source);if((!i||!(i instanceof It))&&r.push(this._setByPath(e,(i==null?void 0:i.offsetSourceToScript(this.originalPosition))||this.originalPosition)),await Promise.all(r),i&&this.isEnabled){let n=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:i});await Promise.all(n.map(s=>this._setByUiLocation(e,i.offsetSourceToScript(s))))}}async updateUiLocations(e,r,i){this.updateExistingCdpRef(r,a=>({...a,locations:i}));let n=(await Promise.all(i.map(a=>e.rawLocationToUiLocation(e.rawLocation(a))))).find(a=>!!a);if(!n)return;let s=this._manager._sourceContainer.source(this.source);if(!s)return;let o=await this._manager._sourceContainer.currentSiblingUiLocations(n);this.updateExistingCdpRef(r,a=>{let u=o.filter(c=>c.source===s);return{...a,locations:i,uiLocations:u.length?u:o}})}compare(e){let r=this.originalPosition,i=e.originalPosition;return r.lineNumber!==i.lineNumber?r.lineNumber-i.lineNumber:r.columnNumber-i.columnNumber}async disable(){if(!this.isEnabled)return;this.isEnabled=!1;let e=this.cdpBreakpoints.map(r=>this.removeCdpBreakpoint(r));await Promise.all(e)}async updateForNewLocations(e,r){let i=this._manager._sourceContainer.source(this.source);if(!i)return[];let n=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:i},await r.source);if(!n.length)return[];let s=[];for(let o of n)s.push(this._setForSpecific(e,r,i.offsetSourceToScript(o)));for(let o of this.cdpBreakpoints){if(!hg(o.args)||!p7(o.args,r.url))continue;let a=o.args;n.some(u=>u.columnNumber-1===a.columnNumber&&u.lineNumber-1===a.lineNumber)||(this._manager.logger.verbose("runtime.sourcemap","Adjusted breakpoint due to overlaid sourcemap",{url:i.url}),s.push(this.removeCdpBreakpoint(o)))}return await Promise.all(s),n}executionContextWasCleared(){this.updateCdpRefs(e=>e.filter(r=>hg(r.args)))}hasResolvedAt(e,r){let{lineNumber:i,columnNumber:n}=r.base0;return this.cdpBreakpoints.some(s=>s.state===1&&s.locations.some(o=>o.scriptId===e&&o.lineNumber===i&&(o.columnNumber===void 0||o.columnNumber===n)))}getBreakCondition(){}updateExistingCdpRef(e,r){this.updateCdpRefs(i=>i.map(n=>n.state!==1||n.cdpId!==e?n:r(n)))}updateCdpRefs(e){let r=this;r.cdpBreakpoints=e(this.cdpBreakpoints);let i=new Set;this.setInCdpScriptIds.clear();for(let n of this.cdpBreakpoints)if(n.state===1){i.add(n.cdpId);for(let s of n.locations)this.setInCdpScriptIds.add(s.scriptId)}this._cdpIds=i}async _setPredicted(e){if(!this.source.path||!this._manager._breakpointsPredictor)return;let r=this._manager._breakpointsPredictor.predictedResolvedLocations({absolutePath:this.source.path,lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber}),i=[];for(let n of r){let s=this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(n.absolutePath);s!==void 0&&(typeof s=="string"?i.push(this._setByUrlRegexp(e,s,n)):i.push(s.then(o=>o?this._setByUrlRegexp(e,o,n):void 0)))}await Promise.all(i)}async _setByUiLocation(e,r){await Promise.all(r.source.scripts.map(i=>this._setForSpecific(e,i,r)))}async _setByPath(e,r){let i=this._manager._sourceContainer.source({path:this.source.path});if(!(i instanceof It&&[...i.compiledToSourceUrl.keys()].some(s=>s.absolutePath===this.source.path)))if(this.source.path){let n=await this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(this.source.path);if(!n)return;await this._setByUrlRegexp(e,n,r)}else{let n=this._manager._sourceContainer.source(this.source),s=n==null?void 0:n.url;if(!s)return;await this._setByUrl(e,s,r),this.source.path!==s&&this.source.path!==void 0&&await this._setByUrl(e,Oe(this.source.path),r)}}hasSetOnLocation(e,r){return this.cdpBreakpoints.find(i=>e.scriptId&&x$(i.args)&&i.args.location.scriptId===e.scriptId&&dg(i.args.location,r)||e.url&&hg(i.args)&&(i.args.urlRegex?new RegExp(i.args.urlRegex).test(e.url):e.url===i.args.url)&&dg(i.args,r))}hasSetOnLocationByUrl(e,r,i){return this.cdpBreakpoints.find(n=>{if(hg(n.args))return dg(n.args,i)?e==="url"?n.args.urlRegex?new RegExp(n.args.urlRegex).test(r):n.args.url===r:e==="re"&&n.args.urlRegex===r:!1;let s=this._manager._sourceContainer.getScriptById(n.args.location.scriptId);if(s)return dg(n.args.location,i)&&e==="re"?new RegExp(r).test(s.url):s.url===r})}async _setForSpecific(e,r,i){return r.url?this._setByUrl(e,r.url,i):this._setByScriptId(e,r,i)}async _setByUrl(e,r,i){i=_s(i);let n=this.hasSetOnLocationByUrl("url",r,i);if(n){n.state===0&&await n.done;return}return this._setAny(e,{url:r,condition:this.getBreakCondition(),...i})}async _setByUrlRegexp(e,r,i){i=_s(i);let n=this.hasSetOnLocationByUrl("re",r,i);if(n){n.state===0&&await n.done;return}return this._setAny(e,{urlRegex:r,condition:this.getBreakCondition(),...i})}async _setByScriptId(e,r,i){i=_s(i);let n=this.hasSetOnLocation(r,i);if(n){n.state===0&&await n.done;return}return this._setAny(e,{condition:this.getBreakCondition(),location:{scriptId:r.scriptId,...i}})}async _setAny(e,r){if(!this.isEnabled)return;let i={state:0,args:r,deadletter:!1};i.done=(async()=>{let n=x$(r)?await e.cdp().Debugger.setBreakpoint(r):await e.cdp().Debugger.setBreakpointByUrl(r);if(!n)return;if(i.deadletter){await e.cdp().Debugger.removeBreakpoint({breakpointId:n.breakpointId});return}let s="actualLocation"in n?[n.actualLocation]:n.locations;this._manager._resolvedBreakpoints.set(n.breakpointId,this);let o={state:1,cdpId:n.breakpointId,args:r,locations:s,uiLocations:[]};return this.updateCdpRefs(a=>a.map(u=>u===i?o:u)),await this.updateUiLocations(e,n.breakpointId,s),o})(),this.updateCdpRefs(n=>[...n,i]),await i.done}async removeCdpBreakpoint(e){var r;this.updateCdpRefs(i=>i.filter(n=>n!==e)),e.state===0?(e.deadletter=!0,await e.done):(await((r=this._manager._thread)==null?void 0:r.cdp().Debugger.removeBreakpoint({breakpointId:e.cdpId})),this._manager._resolvedBreakpoints.delete(e.cdpId))}};var Qi=class extends Bc{constructor(r,i,n){super(r,i,{lineNumber:1,columnNumber:1});this.mode=n}static getModeKeyForSource(r,i){return r===1?(0,mg.basename)(i,(0,mg.extname)(i)||void 0):i}_setPredicted(){return Promise.resolve()}_setByPath(r,i){if(!this.source.path)return Promise.resolve();let n=Qi.getModeKeyForSource(this.mode,this.source.path);return this.mode===1?super._setByUrlRegexp(r,Er(n),i):super._setByPath(r,i)}};var L$=F(vt());var Ii=class extends Bc{constructor(r,i,n,s,o){super(r,n,{lineNumber:s.line,columnNumber:s.column||1});this.dapId=i;this.dapParams=s;this.condition=o;this.completedSet=je()}equivalentTo(r){return r.dapParams.column===this.dapParams.column&&r.dapParams.line===this.dapParams.line&&r.dapParams.hitCondition===this.dapParams.hitCondition&&r.dapParams.condition===this.dapParams.condition&&r.dapParams.logMessage===this.dapParams.logMessage}untilSetCompleted(){return this.completedSet.promise}markSetCompleted(){this.completedSet.resolve()}testHitCondition(r){return this.condition.shouldStayPaused(r)}async toDap(){let r=this.enabled&&this.getResolvedUiLocation();return r?{id:this.dapId,verified:!0,source:await r.source.toDap(),line:r.lineNumber,column:r.columnNumber}:{id:this.dapId,verified:!1,message:L$.t("Unbound breakpoint")}}diagnosticDump(){return{source:this.source,params:this.dapParams,cdp:this.cdpBreakpoints}}getBreakCondition(){return this.condition.breakCondition}updateCdpRefs(r){let i=this.getResolvedUiLocation();super.updateCdpRefs(r),this.getResolvedUiLocation()!==i&&this.notifyResolved()}getResolvedUiLocation(){for(let r of this.cdpBreakpoints)if(r.state===1&&r.uiLocations.length)return r.uiLocations[0]}async notifyResolved(){await this._manager.notifyBreakpointChange(this,this.completedSet.hasSettled())}};var gg=class extends Ii{constructor(e,r,i,n){super(e,r,i,n,new Io(()=>!1))}getResolvedUiLocation(){}};var OM=F(Af());var jc=class extends Qi{constructor(r,i){super(r,{path:i},1);this.pattern=i}async enable(r){if(this.isEnabled)return;this.isEnabled=!0;let i=(0,OM.makeRe)(lt(this.pattern),{contains:!0,lookbehinds:!1});await this._setAny(r,{urlRegex:i.source.replace(/([a-z]):/i,(n,s)=>`[${s.toLowerCase()}${s.toUpperCase()}]:`),lineNumber:0,columnNumber:0})}};var Wc=F(pe());var Ig=Symbol("IExperimentationService");var xJ=/\/node_modules\/|^node\:/,PJ=2,NM=5e3,LJ=NM/2,mt=class{constructor(e,r,i){this.telemetry=r;this.experimentation=i;this.disposable=new Qe;this.hadBreakpoint=!1;this.didVerifyBreakpoint=!1;this.hadNonModuleSourcemap=!1;this.startedAt=Date.now();this.disposable.push(mt.didVerifyEmitter.event(()=>{this.didVerifyBreakpoint=!0})),mt.consecutiveQualifyingSessions>=PJ&&this.disposable.push(yx(async()=>{this.currentlyQualifying&&await this.experimentation.getTreatment("diagnosticPrompt",!0)&&(r.report("diagnosticPrompt",{event:"suggested"}),mt.didSuggest=!0,e.suggestDiagnosticTool({}))},NM))}get currentlyQualifying(){return this.hadBreakpoint&&!this.didVerifyBreakpoint&&this.hadNonModuleSourcemap}notifyHadBreakpoint(){this.hadBreakpoint=!0}notifyVerifiedBreakpoint(){this.didVerifyBreakpoint||(mt.didVerifyEmitter.fire(),mt.didSuggest&&(mt.didSuggest=!1,this.telemetry.report("diagnosticPrompt",{event:"resolved"})))}attach(e){if(!this.hadNonModuleSourcemap){let r=this.disposable.push(e.Debugger.on("scriptParsed",i=>{i.sourceMapURL&&!xJ.test(i.url)&&(this.hadNonModuleSourcemap=!0,this.disposable.disposeObject(r))}))}}dispose(){this.currentlyQualifying&&Date.now()-LJ>this.startedAt?mt.consecutiveQualifyingSessions++:mt.consecutiveQualifyingSessions=0,this.disposable.dispose()}};mt.consecutiveQualifyingSessions=0,mt.didVerifyEmitter=new J,mt.didSuggest=!1,mt=z([(0,Wc.injectable)(),E(0,(0,Wc.inject)(Sc)),E(1,(0,Wc.inject)(Lr)),E(2,(0,Wc.inject)(Ig))],mt);var Si=F(pe()),e1=F(qM()),O0=F(Om());var xg=F(pe());var VM=F(w("fs")),Eg=F(w("path")),GM=t=>{let e={};f(e);function r(m,y){return t({category:"telemetry",output:m,data:y})}let i=m=>r("js-debug/dap/operation",{...e,...m}),n=m=>r("js-debug/cdp/operation",{...e,...m}),s=m=>r("js-debug/error",{...e,...m}),o=m=>{e.browser=(m.targetProject||m.targetProject)+"/"+m.targetVersion,r("js-debug/browserVersion",{...e,...m})},a=m=>r("js-debug/breakpointStats",{...e,...m}),u=m=>r("js-debug/statistics",{...e,...m}),c=m=>{e.nodeVersion=m.version,r("js-debug/nodeRuntime",{...e,...m})},l=m=>{r("js-debug/launch",{...e,...m,parameters:JSON.stringify(m.parameters)})},p=m=>{r("js-debug/diagnosticPrompt",{...e,...m})};function f(m){try{let y=Eg.resolve(Eg.dirname(__filename),"..","..",".gitcommit");m.jsDebugCommitId=VM.readFileSync(y,"utf8")}catch{}}return{breakpointStats:a,statistics:u,browserVersion:o,cdpOperation:n,dapOperation:i,error:s,launch:l,nodeRuntime:c,diagnosticPrompt:p,setGlobalMetric:(m,y)=>{e[m]=y}}};var Sf=class{constructor(e=!0){this.isVSCode=e;this.measurements=Object.create(null)}add(e,r,i){let n=this.measurements[e];n||(n=this.measurements[e]={times:[],errors:[]}),n.times.push(r),i&&n.errors.push(i)}flush(){let e={errors:[]};for(let r in this.measurements){let{times:i,errors:n}=this.measurements[r],s={operation:r,totalTime:0,max:0,avg:0,stddev:0,count:i.length,failed:n.length};for(let o of i)s.totalTime+=o,s.max=Math.max(s.max,o);s.avg=s.totalTime/s.count;for(let o of i)s.stddev+=(o-s.avg)**2;s.stddev=Math.sqrt(s.stddev/(i.length-1)),e[s.operation]=s,e[`!${s.operation}.errors`]=n,this.isVSCode||(e[`${s.operation}.errors`]=n)}return this.measurements=Object.create(null),e}};var qn=class{constructor(e=!0){this.isVsCode=e;this.target=[];this.flushEmitter=new J;this.loggers=GM(e=>this.pushOutput(e));this.batchFlushTimeout={};this.batchers={dapOperation:new Sf(this.isVsCode),cdpOperation:new Sf(this.isVsCode)};this.onFlush=this.flushEmitter.event;this.setGlobalMetric=this.loggers.setGlobalMetric}report(e,...r){let i=this.loggers[e];i(...r)}reportOperation(e,r,i,n){this.batchers[e].add(r,i,n),this.batchFlushTimeout[e]===void 0&&(this.batchFlushTimeout[e]=setTimeout(()=>{this.report(e,this.batchers[e].flush()),this.batchFlushTimeout[e]=void 0},qn.batchFlushInterval))}attachDap(e){this.target instanceof Array&&this.target.forEach(r=>e.output(r)),this.target=e}flush(){this.flushEmitter.fire();let e=Object.entries(this.batchFlushTimeout);for(let[r,i]of e){let n=this.batchers[r].flush();n.length&&this.report(r,n),this.batchFlushTimeout[r]=void 0,clearTimeout(i)}}dispose(){for(let e of Object.values(this.batchFlushTimeout))e&&clearTimeout(e)}pushOutput(e){e.data=M0(e.data),this.target instanceof Array?this.target.push(e):this.target.output(e)}};qn.batchFlushInterval=5e3,qn=z([(0,xg.injectable)(),E(0,(0,xg.inject)(Pc))],qn);var M0=t=>typeof t=="number"?Number(t.toFixed(1)):typeof t!="object"||!t?t:t instanceof Error?k0(t):t instanceof Array?t.map(M0):fs(t,M0),KM=/(?:[A-z]:)?(?:[\\/][^:]*)+[\\/]([^:]*:)/g;function k0(t){let e=String(t.message),r=String(t.name);KM.lastIndex=0;let i=typeof t.stack=="string"?t.stack.replace(KM,"$1"):void 0;return{error:{message:e,name:r,stack:i}}}var XM=w("crypto"),za=F(pe());var Ef=Symbol("IDwarfModuleProvider");var Lg=Symbol("IWasmSymbolProvider"),Gc=class{constructor(e,r,i,n){this.dwarf=e;this.cdp=r;this.logger=i;this.launchConfig=n;this.doPrompt=Ae(()=>this.dwarf.prompt())}async loadWasmSymbols(e){var o;if(!this.launchConfig.enableDWARF)return this.defaultSymbols(e);let r=await this.getWorker();if(!r){let a=this.defaultSymbols(e);return a.onDidDisassemble=this.doPrompt,a}let i=(0,XM.randomUUID)(),n=(o=e.debugSymbols)==null?void 0:o.externalURL,s;try{s=await r.sendMessage("addRawModule",i,n,{url:e.url,code:!n&&e.url.startsWith("wasm://")?await this.getBytecode(e.scriptId):void 0})}catch{return this.defaultSymbols(e)}return!(s instanceof Array)||s.length===0?(r.sendMessage("removeRawModule",i),this.defaultSymbols(e)):(this.logger.info("sourcemap.parsing","parsed files from wasm",{files:s}),new R0(e,this.cdp,i,r,s))}dispose(){var e;(e=this.worker)==null||e.dispose(),this.worker=void 0}defaultSymbols(e){return new Pg(e,this.cdp,[])}async getBytecode(e){let r=await this.cdp.Debugger.getScriptSource({scriptId:e}),i=r==null?void 0:r.bytecode;return i?Buffer.from(i,"base64").buffer:void 0}async getWorker(){var r;if(this.worker!==void 0)return(r=this.worker)==null?void 0:r.rpc;let e=await this.dwarf.load();if(!e){this.worker=null;return}return this.worker=e.spawn({getWasmGlobal:(i,n)=>this.loadWasmValue(`globals[${i}]`,n),getWasmLocal:(i,n)=>this.loadWasmValue(`locals[${i}]`,n),getWasmOp:(i,n)=>this.loadWasmValue(`stack[${i}]`,n),getWasmLinearMemory:(i,n,s)=>this.loadWasmValue(`[].slice.call(new Uint8Array(memories[0].buffer, ${+i}, ${+n}))`,s).then(o=>new Uint8Array(o).buffer)}),this.worker.rpc.sendMessage("hello",[],!1),this.worker.rpc}async loadWasmValue(e,r){var s;let i=r,n=await this.cdp.Debugger.evaluateOnCallFrame({callFrameId:i,expression:e+ft(),silent:!0,returnByValue:!0,throwOnSideEffect:!0});if(!n||n.exceptionDetails)throw new Error(`evaluate failed: ${((s=n==null?void 0:n.exceptionDetails)==null?void 0:s.text)||"unknown"}`);return n.result.value}};Gc=z([(0,za.injectable)(),E(0,(0,za.inject)(Ef)),E(1,(0,za.inject)(dt)),E(2,(0,za.inject)(ae)),E(3,(0,za.inject)(Ne))],Gc);var Pg=class{constructor(e,r,i){this.event=e;this.cdp=r;this.doDisassemble=Ae(async()=>{let e=[],r;for await(let i of this.getDisassembledStream()){e=e.concat(i.lines);let n;if(r){let s=new Uint32Array(r.length+i.lines.length);n=r.length,s.set(r),r=s}else r=new Uint32Array(i.lines.length),n=0;for(let s=0;s<i.lines.length;s++)r[n+s]=i.bytecodeOffsets[s]}return r??=new Uint32Array(0),{lines:e,byteOffsetsOfLines:r}});i.push(this.decompiledUrl=e.url.replace(".wasm",".wat")),this.files=i}async getDisassembly(){var r;let{lines:e}=await this.doDisassemble();return(r=this.onDidDisassemble)==null||r.call(this),e.join(`
`)}originalPositionFor(e){return this.disassembledPositionFor(e)}async disassembledPositionFor(e){let{byteOffsetsOfLines:r}=await this.doDisassemble(),i=ST(r,e.base0.columnNumber,(n,s)=>n-s);if(i!==r.length)return{url:this.decompiledUrl,position:new rr(i,0)}}async compiledPositionFor(e,r){if(e!==this.decompiledUrl)return[];let{byteOffsetsOfLines:i}=await this.doDisassemble(),{lineNumber:n}=r.base0;if(n>=i.length)return[];let s=i[r.base0.lineNumber];return[new rr(0,s)]}dispose(){}async*getDisassembledStream(){let{scriptId:e}=this.event,r=await this.cdp.Debugger.disassembleWasmModule({scriptId:e});if(r)for(yield r.chunk;r.streamId;){let i=await this.cdp.Debugger.nextWasmDisassemblyChunk({streamId:r.streamId});if(!i)return;yield i.chunk}}},R0=class extends Pg{constructor(r,i,n,s,o){super(r,i,o);this.moduleId=n;this.rpc=s;this.mappedLines=new Map}get codeOffset(){return this.event.codeOffset||0}async originalPositionFor(r){let i=await this.rpc.sendMessage("rawLocationToSourceLocation",{codeOffset:r.base0.columnNumber-this.codeOffset,inlineFrameIndex:r.base0.lineNumber,rawModuleId:this.moduleId});return i.length?{position:new rr(i[0].lineNumber,i[0].columnNumber),url:i[0].sourceFileURL}:super.originalPositionFor(r)}async compiledPositionFor(r,i){if(r===this.decompiledUrl)return super.compiledPositionFor(r,i);let{lineNumber:n,columnNumber:s}=i.base0,o=await this.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:n,columnNumber:s===0?-1:s,rawModuleId:this.moduleId,sourceFileURL:r});if(s===0&&o.length===0){let a=await this.getMappedLines(r),u=a.find(c=>c>n);if(!a.includes(n)&&u)return this.compiledPositionFor(r,new rr(u,0))}return o.filter(a=>a.rawModuleId===this.moduleId).map(a=>new rr(0,this.codeOffset+a.startOffset))}dispose(){return this.rpc.sendMessage("removeRawModule",this.moduleId)}async getVariablesInScope(r,i){let n={codeOffset:i.base0.columnNumber-this.codeOffset,inlineFrameIndex:i.base0.lineNumber,rawModuleId:this.moduleId};return(await this.rpc.sendMessage("listVariablesInScope",n)).map(o=>({name:o.name,scope:o.scope,type:o.type,evaluate:async()=>{let a=await this.rpc.sendMessage("evaluate",o.name,n,r);return a?new xf(a,this.rpc):kJ}}))}async getFunctionStack(r){let i=await this.rpc.sendMessage("getFunctionInfo",{codeOffset:r.base0.columnNumber-this.codeOffset,inlineFrameIndex:r.base0.lineNumber,rawModuleId:this.moduleId});return"frames"in i?i.frames:[]}async getStepSkipList(r,i,n,s){if(n===this.decompiledUrl)return[];let o={codeOffset:i.base0.columnNumber-this.codeOffset,inlineFrameIndex:i.base0.lineNumber,rawModuleId:this.moduleId},a=()=>s&&n?this.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:s.base0.lineNumber,columnNumber:-1,rawModuleId:this.moduleId,sourceFileURL:n}):[],u;switch(r){case 2:{u=await this.rpc.sendMessage("getInlinedFunctionRanges",o);break}case 1:{let c=await Promise.all([this.rpc.sendMessage("getInlinedCalleesRanges",o),a()]);u=Ia(c);break}case 0:u=await a();break;default:u=[];break}return u.map(c=>new Zs(new rr(0,c.startOffset+this.codeOffset),new rr(0,c.endOffset+this.codeOffset)))}async evaluate(r,i,n){try{return await this.rpc.sendMessage("evaluate",n,{codeOffset:i.base0.columnNumber-this.codeOffset,inlineFrameIndex:i.base0.lineNumber,rawModuleId:this.moduleId},r)??void 0}catch(s){throw new Z(Xe(s.message))}}getMappedLines(r){let i=this.mappedLines.get(r);if(i)return i;let n=(async()=>{try{let s=await this.rpc.sendMessage("getMappedLines",this.moduleId,r);return new Uint32Array((s==null?void 0:s.sort((o,a)=>o-a))||[])}catch{return new Uint32Array}})();return this.mappedLines.set(r,n),n}},kJ={type:"null",description:"no properties"},xf=class{constructor(e,r){if(this.type=e.type,this.description=e.description,this.linearMemoryAddress=e.linearMemoryAddress,this.linearMemorySize=e.linearMemoryAddress,e.objectId&&e.hasChildren){let i=e.objectId;this.getChildren=Ae(()=>this._getChildren(r,i))}}async _getChildren(e,r){return(await e.sendMessage("getProperties",r)).map(n=>({name:n.name,value:new xf(n.value,e)}))}};var Eo=Symbol("IScriptSkipper");function JM(t){return typeof t.lineNumber=="number"&&typeof t.columnNumber=="number"&&!!t.source}var YM=()=>({source:null,line:null,column:null,name:null,lastColumn:null,isSourceMapLoadFailure:!0}),RJ=/\?t=[0-9]+$/,OJ=t=>t.endsWith(".hot-update.js")||RJ.test(t),NJ={load:0,resolveLocation:2e3,sourceMapMinPause:1e3,output:1e3,sourceMapCumulativePause:1e4},QM=(t,e)=>e instanceof It&&e.compiledToSourceUrl.has(t);var ZM=2**31-1,Jt=class{constructor(e,r,i,n,s,o,a,u,c){this.sourceMapFactory=r;this.logger=i;this.launchConfig=n;this.initializeConfig=s;this.sourcePathResolver=o;this.scriptSkipper=a;this.resourceProvider=u;this.wasmSymbols=c;this.rootPaths=[];this.scriptsById=new Map;this.onSourceMappedSteppingChangeEmitter=new J;this.onScriptEmitter=new J;this._sourceByOriginalUrl=new kn(e=>e.toLowerCase());this._sourceByReference=new Map;this._sourceMapSourcesByUrl=new Map;this._sourceByAbsolutePath=$a();this._sourceMapTimeouts=NJ;this._fileContentOverridesForTest=new Map;this._temporarilyDisabledSourceMaps=new Set;this._permanentlyDisabledSourceMaps=new Set;this.onScript=this.onScriptEmitter.event;this._statistics={fallbackSourceMapCount:0};this._doSourceMappedStepping=this.launchConfig.sourceMaps;this.onSourceMappedSteppingChange=this.onSourceMappedSteppingChangeEmitter.event;this._dap=e;let l="webRoot"in n?n.webRoot:n.rootPath;l&&(this.rootPaths=[l,Yr(l,"..","ClientApp")]),a.setSourceContainer(this),this.setSourceMapTimeouts({...this.sourceMapTimeouts(),...n.timeouts})}get sources(){return this._sourceByReference.values()}statistics(){return this._statistics}get doSourceMappedStepping(){return this._doSourceMappedStepping}set doSourceMappedStepping(e){e!==this._doSourceMappedStepping&&(this._doSourceMappedStepping=e,this.onSourceMappedSteppingChangeEmitter.fire(e))}setSourceMapTimeouts(e){this._sourceMapTimeouts=e}sourceMapTimeouts(){return this._sourceMapTimeouts}setFileContentOverrideForTest(e,r){r===void 0?this._fileContentOverridesForTest.delete(e):this._fileContentOverridesForTest.set(e,r)}async loadedSources(){let e=[];for(let r of this._sourceByReference.values())e.push(r.toDap());return await Promise.all(e)}source(e){if(e.sourceReference)return this._sourceByReference.get(e.sourceReference);if(e.path)return this._sourceByAbsolutePath.get(e.path)}isSourceSkipped(e){return this.scriptSkipper.isScriptSkipped(e)}addScriptById(e){this.scriptsById.set(e.scriptId,e),this.onScriptEmitter.fire(e)}getScriptById(e){return this.scriptsById.get(e)}getSourceByOriginalUrl(e){return this._sourceByOriginalUrl.get(e)}getSourceReference(e){let r=(0,e1.xxHash32)(e)&ZM;for(let i=0;i<65535;i++){if(!this._sourceByReference.has(r))return r;r===ZM&&(r=0),r++}return this.logger.assert(!1,"Max iterations exceeding for source reference assignment"),r}async preferredUiLocation(e){let r=!1,i=4;for(;;){let n=await this._originalPositionFor(e);if(!JM(n)){i=r?void 0:n;break}e=n,r=!0,i=void 0}return{...e,isMapped:r,unmappedReason:i}}async currentSiblingUiLocations(e,r){let i=await this._uiLocations(e);return r?i.filter(n=>n.source===r):i}clear(e){this.scriptsById.clear();for(let r of this._sourceByReference.values())this.removeSource(r,e);this._sourceByReference.clear(),this.sourceMapFactory instanceof bo&&this.sourceMapFactory.invalidateCache()}async _uiLocations(e){let[r,i]=await Promise.all([this.getSourceMapUiLocations(e),this.getCompiledLocations(e)]);return[...r,e,...i]}async getSourceMapUiLocations(e){let r=await this._originalPositionFor(e);if(!JM(r))return[];let i=await this.getSourceMapUiLocations(r);return i.push(r),i}async _originalPositionFor(e){if(!xr(e.source))return 1;let r=await uf.waitForValueWithTimeout(e.source.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!r)return 2;if(this._doSourceMappedStepping)return this._originalPositionForMap(e,r);if(n0(r)){let i=await r.disassembledPositionFor(new Ot(e.lineNumber,e.columnNumber)),n=i&&e.source.sourceMap.sourceByUrl.get(i.url);if(n)return n?{columnNumber:i.position.base1.lineNumber,lineNumber:i.position.base1.lineNumber,source:n}:3}return 0}async _originalPositionForMap(e,r){let i=e.source;if(!xr(i))return 1;if(this._temporarilyDisabledSourceMaps.has(i)||this._permanentlyDisabledSourceMaps.has(i))return 0;let n=await this.getOptiminalOriginalPosition(r,qT(e,i.inlineScriptOffset));if(!n)return 3;let s=i.sourceMap.sourceByUrl.get(n.url);if(!s)return 3;let o=n.position.base1;return{lineNumber:o.lineNumber,columnNumber:o.columnNumber,source:s}}async getCompiledLocations(e){if(!(e.source instanceof It))return[];let r=[];for(let[i,n]of e.source.compiledToSourceUrl){let s=await uf.waitForValueWithTimeout(i.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!s)continue;let o;if("decompiledUrl"in s){let a=await s.compiledPositionFor(n,new Ot(e.lineNumber,e.columnNumber));if(!a)continue;o=a.map(u=>({lineNumber:u.base1.lineNumber,columnNumber:u.base1.columnNumber,source:i}))}else{let a=this.sourceMapFactory.guardSourceMapFn(s,()=>Xm(n,e,s),YM);if(!a)continue;let{lineNumber:u,columnNumber:c}=WT({lineNumber:a.line||1,columnNumber:(a.column||0)+1},i.inlineScriptOffset),l={lineNumber:u,columnNumber:c,source:i};o=[l,...await this.getCompiledLocations(l)]}r=r.concat(o)}return r}async getOptiminalOriginalPosition(e,r){if(n0(e))return await e.originalPositionFor(new Ot(r.lineNumber,r.columnNumber));let i=this.sourceMapFactory.guardSourceMapFn(e,()=>{let n=e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:O0.SourceMapConsumer.GREATEST_LOWER_BOUND});return n.line!==null?n:e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:O0.SourceMapConsumer.LEAST_UPPER_BOUND})},YM);if(!(i.column===null||i.line===null||i.source===null))return{position:new Qs(i.line,i.column),url:i.source}}async addSource(e,r,i,n,s,o){let a=await this.sourcePathResolver.urlToAbsolutePath({url:e.url});this.logger.verbose("runtime.sourcecreate","Creating source from url",{inputUrl:e.url,absolutePath:a});let u;return e.scriptLanguage==="WebAssembly"?u=new Ym(this,e,a):u=new ka(this,e.url,a,r,i&&this.sourcePathResolver.shouldResolveSourceMap({sourceMapUrl:i,compiledPath:a||e.url})?i:void 0,n,s,o),this._addSource(u),u}async _addSource(e){let r=e.url&&this._sourceByOriginalUrl.get(e.url);r&&!QM(r,e)&&this.removeSource(r,!0),this._sourceByOriginalUrl.set(e.url,e),this._sourceByReference.set(e.sourceReference,e),e instanceof It&&this._sourceMapSourcesByUrl.set(e.url,e);let i=this._sourceByAbsolutePath.get(e.absolutePath);(i===void 0||i.url.length>=e.url.length||QM(i,e))&&this._sourceByAbsolutePath.set(e.absolutePath,e),this.scriptSkipper.initializeSkippingValueForSource(e),e.toDap().then(n=>this._dap.loadedSource({reason:"new",source:n})),Ho(e)?this._finishAddSourceWithSourceMap(e):Ra(e)&&this._finishAddSourceWithWasm(e)}async _finishAddSourceWithWasm(e){let r=await this.wasmSymbols.loadWasmSymbols(e.event),i=[];for(let n of r.files){let s=await this.sourcePathResolver.urlToAbsolutePath({url:n}),o=s?Oe(s):n;this.logger.verbose("runtime.sourcecreate","Creating wasm source from source map",{inputUrl:n,absolutePath:s,resolvedUrl:o});let a=s&&Oe(s),u=n===r.decompiledUrl?()=>r.getDisassembly():()=>a?this.resourceProvider.fetch(a).then(l=>l.body):Promise.resolve(`Could not read ${n}`),c=new It(this,o,s,u);c.compiledToSourceUrl.set(e,n),e.sourceMap.sourceByUrl.set(n,c),i.push(this._addSource(c))}await Promise.all(i),e.sourceMap.value.resolve(r)}async _finishAddSourceWithSourceMap(e){let r=e.sourceMap.value,i;try{i=await this.sourceMapFactory.load(e.sourceMap.metadata)}catch(n){if(this.initializeConfig.clientID==="visualstudio"){let s=e.sourceMap.metadata.sourceMapUrl;try{let o=await this.sourcePathResolver.urlToAbsolutePath({url:s});o&&(e.sourceMap.metadata.sourceMapUrl=Oe(o)),i=await this.sourceMapFactory.load(e.sourceMap.metadata),this._statistics.fallbackSourceMapCount++,this.logger.info("sourcemap.parsing","Failed to process original source-map; falling back to storage source-map",{fallbackSourceMapUrl:e.sourceMap.metadata.sourceMapUrl,originalSourceMapUrl:s,originalSourceMapError:k0(n)})}catch{}}if(i===void 0)return this._dap.output({output:rg(e.url,n.message).error.format+`
`,category:"stderr"}),r.resolve(void 0)}if(this._sourceByReference.get(e.sourceReference)!==e)return r.resolve(void 0);this.logger.verbose("sourcemap.parsing","Creating sources from source map",{sourceMapId:i.id,metadata:i.metadata});try{await this._addSourceMapSources(e,i)}finally{r.resolve(i)}this.scriptSkipper.initializeSkippingValueForSource(e)}removeSource(e,r=!1){var n;let i=this._sourceByReference.get(e.sourceReference);if(i!==void 0){if(this.logger.assert(e===i,"Expected source to be the same as the existing reference"),this._sourceByReference.delete(e.sourceReference),this._sourceByOriginalUrl.get(e.url)===e&&this._sourceByOriginalUrl.delete(e.url),e instanceof It){this._sourceMapSourcesByUrl.delete(e.url);for(let[s,o]of e.compiledToSourceUrl)s.sourceMap.sourceByUrl.delete(o)}this._sourceByAbsolutePath.delete(e.absolutePath),xr(e)&&(this._permanentlyDisabledSourceMaps.delete(e),this._temporarilyDisabledSourceMaps.delete(e)),r||e.toDap().then(s=>this._dap.loadedSource({reason:"removed",source:s})),Ho(e)?(n=e.sourceMap.value.settledValue)==null||n.destroy():Ra(e)&&e.sourceMap.value.promise.then(s=>s==null?void 0:s.dispose()),xr(e)&&this._removeSourceMapSources(e,r)}}async _addSourceMapSources(e,r){let i=[];for(let n of r.sources){let s=await this.sourcePathResolver.urlToAbsolutePath({url:n,map:r}),o=s?Oe(s):r.computedSourceUrl(n),a=this._sourceMapSourcesByUrl.get(o);if(e===a)continue;if(a)if(OJ(e.url))this.removeSource(a);else{a.compiledToSourceUrl.set(e,n),e.sourceMap.sourceByUrl.set(n,a);continue}this.logger.verbose("runtime.sourcecreate","Creating source from source map",{inputUrl:n,sourceMapId:r.id,absolutePath:s,resolvedUrl:o});let u=s&&Oe(s),c=this.sourceMapFactory.guardSourceMapFn(r,()=>r.sourceContentFor(n,!0),()=>null),l;if(c){let f=wc(c);if(f&&(!sr(f)&&s?l=po(s?Oe(s):n,f):l=f),s&&l){let g={sourceMapUrl:l,compiledPath:s};this.sourcePathResolver.shouldResolveSourceMap(g)||(l=void 0)}}let p=new It(this,o,s,c!==null?()=>Promise.resolve(c):u?()=>this.resourceProvider.fetch(u).then(f=>f.body):()=>e.content(),l,void 0,e.runtimeScriptOffset);p.compiledToSourceUrl.set(e,n),e.sourceMap.sourceByUrl.set(n,p),i.push(this._addSource(p))}await Promise.all(i)}_removeSourceMapSources(e,r){for(let i of e.sourceMap.sourceByUrl.keys()){let n=e.sourceMap.sourceByUrl.get(i);n&&(e.sourceMap.sourceByUrl.delete(i),n.compiledToSourceUrl.delete(e),!n.compiledToSourceUrl.size&&this.removeSource(n,r))}}async waitForSourceMapSources(e){return xr(e)?[...(await uf.waitForSources(e.sourceMap)).values()]:[]}async revealUiLocation(e){this._dap.revealLocationRequested({source:await e.source.toDap(),line:e.lineNumber,column:e.columnNumber})}disableSourceMapForSource(e,r=!1){r?this._permanentlyDisabledSourceMaps.add(e):this._temporarilyDisabledSourceMaps.add(e)}clearDisabledSourceMaps(e){e?this._temporarilyDisabledSourceMaps.delete(e):this._temporarilyDisabledSourceMaps.clear()}};Jt=z([(0,Si.injectable)(),E(0,(0,Si.inject)(qr)),E(1,(0,Si.inject)(Nn)),E(2,(0,Si.inject)(ae)),E(3,(0,Si.inject)(Ne)),E(4,(0,Si.inject)(gr)),E(5,(0,Si.inject)(et)),E(6,(0,Si.inject)(Eo)),E(7,(0,Si.inject)(Oa)),E(8,(0,Si.inject)(Lg))],Jt);var t1=t=>t.originalPosition.columnNumber===1&&t.originalPosition.lineNumber===1,r1=500,i1=Symbol("DontCompare");var Ei=class{constructor(e,r,i,n,s,o,a){this.logger=i;this.launchConfig=n;this.conditionFactory=s;this.suggester=o;this._breakpointsPredictor=a;this._resolvedBreakpoints=new Map;this._totalBreakpointsCount=0;this._launchBlocker=new Set;this._predictorDisabledForTest=!1;this._breakpointsStatisticsCalculator=new og;this.entryBreakpointMode=0;this._enabledFilter=()=>!0;this._byDapId=new Map;this._byPath=$a();this._byRef=new Map;this.moduleEntryBreakpoints=$a();this._dap=e,this._sourceContainer=r,a==null||a.onLongParse(()=>e.longPrediction({})),r.onScript(u=>{u.source.then(c=>{var p;let l=this._thread;l&&((p=this._byRef.get(c.sourceReference))==null||p.forEach(f=>f.updateForNewLocations(l,u)))})}),r.onSourceMappedSteppingChange(()=>{if(this._thread)for(let u of this._byDapId.values())u.refreshUiLocations(this._thread)}),this._scriptSourceMapHandler=async(u,c)=>{if(!i.assert(this._thread,"Expected thread to be set for the breakpoint source map handler"))return[];let l=[],p=[c];for(let f=0;f<p.length;f++)for(let g of p[f]){let m=g.absolutePath,y=m?this._byPath.get(m):void 0;for(let I of y||[])l.push(I.updateForNewLocations(this._thread,u));let b=this._byRef.get(g.sourceReference);for(let I of b||[])l.push(I.updateForNewLocations(this._thread,u));g.sourceMap&&p.push(g.sourceMap.sourceByUrl.values())}return Ia(await Promise.all(l))}}get appliedByPath(){return this._byPath}get appliedByRef(){return this._byRef}hasAtLocation(e){let r=this._byPath.get(e.source.absolutePath)||[],i=this._byRef.get(e.source.sourceReference)||[];return r.concat(i).some(n=>n.originalPosition.columnNumber===e.columnNumber&&n.originalPosition.lineNumber===e.lineNumber)}async moveBreakpoints(e,r,i,n){let s=l=>fx(l,async p=>{let f=await this._sourceContainer.getOptiminalOriginalPosition(i,p.originalPosition);if(!f)return!1;let g=f.position.base1;return p.updateSourceLocation(e,{path:n.absolutePath,sourceReference:n.sourceReference},{lineNumber:g.lineNumber,columnNumber:g.columnNumber,source:n}),!1}),o=r.absolutePath,a=n.absolutePath,u=o?this._byPath.get(o):void 0;if(u&&a){let[l,p]=await s(u);this._byPath.set(o,l),this._byPath.set(a,p)}let c=this._byRef.get(r.sourceReference);if(c){let[l,p]=await s(c);this._byRef.set(r.sourceReference,l),this._byRef.set(n.sourceReference,p)}}async updateEntryBreakpointMode(e,r){if(r===this.entryBreakpointMode)return;let i=[...this.moduleEntryBreakpoints.values()];this.moduleEntryBreakpoints.clear(),this.entryBreakpointMode=r,await Promise.all(i.map(n=>this.ensureModuleEntryBreakpoint(e,n.source)))}async applyEnabledFilter(e,r=i1){if(r!==i1&&this._enabledFilter!==r)return;this._enabledFilter=e||(()=>!0);let i=this._thread;i&&await Promise.all([...this._byDapId.values()].map(n=>this._enabledFilter(n)?n.enable(i):n.disable()))}async getBreakpointLocations(e,r,i,n){let s=i.base1,o=n.base1,[a,u]=await Promise.all([this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:s.lineNumber,columnNumber:s.columnNumber}),this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:o.lineNumber,columnNumber:o.columnNumber})]);if(a.length!==u.length)return this.logger.warn("internal","Expected to have the same number of start and end locations"),[];let c=[],l=[];for(let p=0;p<a.length;p++){let f=a[p],g=u[p];if(f.source!==g.source){this.logger.warn("internal","Expected to have the same number of start and end scripts");continue}let m=f.source;if(!m.scripts.length)continue;let{scriptId:y}=m.scripts[m.scripts.length-1];c.push(e.cdp().Debugger.getPossibleBreakpoints({restrictToFunction:!1,start:{scriptId:y,...m.offsetSourceToScript(_s(f))},end:{scriptId:y,...m.offsetSourceToScript(_s(g))}}).then(b=>{if(b)return Promise.all(b.locations.map(async I=>{let{lineNumber:B,columnNumber:W=0}=I,P=await this._sourceContainer.currentSiblingUiLocations({source:m,...m.offsetScriptToSource(VT({lineNumber:B,columnNumber:W}))});l.push({breakLocation:I,uiLocations:P})}))}))}return await Promise.all(c),l}setThread(e){var r;this._thread=e,this._thread.cdp().Debugger.on("breakpointResolved",i=>{let n=this._resolvedBreakpoints.get(i.breakpointId);n&&n.updateUiLocations(e,i.breakpointId,[i.location])}),this._thread.setSourceMapDisabler(i=>{let n=[];for(let s of i){let o=this._resolvedBreakpoints.get(s);if(o){let a=this._sourceContainer.source(o.source);xr(a)&&n.push(a)}}return n});for(let i of this._byPath.values())i.forEach(n=>this._setBreakpoint(n,e)),this.ensureModuleEntryBreakpoint(e,(r=i[0])==null?void 0:r.source);for(let i of this._byRef.values())i.forEach(n=>this._setBreakpoint(n,e));"runtimeSourcemapPausePatterns"in this.launchConfig&&this.launchConfig.runtimeSourcemapPausePatterns.length&&this.setRuntimeSourcemapPausePatterns(e,this.launchConfig.runtimeSourcemapPausePatterns),this._byDapId.size>0&&this._installSourceMapHandler(this._thread)}async launchBlocker(){ag(this.logger,"BreakpointManager.launchBlocker",async()=>{this._predictorDisabledForTest||await Promise.all([...this._launchBlocker])})}setRuntimeSourcemapPausePatterns(e,r){return Promise.all(r.map(i=>this._setBreakpoint(new jc(this,i),e)))}addLaunchBlocker(...e){for(let r of e)this._launchBlocker.add(r),r.finally(()=>this._launchBlocker.delete(r))}setPredictorDisabledForTest(e){this._predictorDisabledForTest=e}_installSourceMapHandler(e){let r=this.launchConfig.perScriptSourcemaps==="yes",i;r?i=Promise.all([this.updateEntryBreakpointMode(e,1),e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler)]).then(()=>!0):this._breakpointsPredictor&&!this.launchConfig.pauseForSourceMap?i=e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler):i=e.setScriptSourceMapHandler(!0,this._scriptSourceMapHandler),this._sourceMapHandlerInstalled={entryBpSet:i}}async _uninstallSourceMapHandler(e){e.setScriptSourceMapHandler(!1),this._sourceMapHandlerInstalled=void 0}_setBreakpoint(e,r){this._enabledFilter(e)&&this.addLaunchBlocker(Promise.race([ke(r1),e.enable(r)]))}async setBreakpoints(e,r){var l,p;!this._sourceMapHandlerInstalled&&this._thread&&((l=e.breakpoints)!=null&&l.length)&&this._installSourceMapHandler(this._thread);let i=await((p=this._sourceMapHandlerInstalled)==null?void 0:p.entryBpSet);e.source.path=Yi(e.source.path);let n=this._sourceContainer.source(e.source);if(!i&&this._breakpointsPredictor&&!n){let f=this._breakpointsPredictor.predictBreakpoints(e);this.addLaunchBlocker(f),await f}let s=this._thread;if((s==null?void 0:s.debuggerReady.hasSettled())===!1){let f=s.debuggerReady.promise;this.addLaunchBlocker(f),await f}let o=f=>{var m;let g={unbound:f.slice(),new:[],list:[]};if(!e.breakpoints)return g;for(let y=0;y<e.breakpoints.length;y++){let b=e.breakpoints[y],I;try{I=new Ii(this,r[y],e.source,b,this.conditionFactory.getConditionFor(b))}catch(P){if(!(P instanceof Z))throw P;this._dap.output({category:"stderr",output:P.message}),I=new gg(this,r[y],e.source,b)}let B=g.unbound.findIndex(P=>P.equivalentTo(I)),W=g.unbound[B];(m=W==null?void 0:W.equivalentTo)!=null&&m.call(W,I)?(g.list.push(W),g.unbound.splice(B,1)):(g.new.push(I),g.list.push(I),this._byDapId.set(I.dapId,I))}return g},a=()=>e.source.sourceReference?this._byRef.get(e.source.sourceReference):e.source.path?this._byPath.get(e.source.path):void 0,u=o(a()??[]);if(e.source.sourceReference)this._byRef.set(e.source.sourceReference,u.list);else if(e.source.path)this._byPath.set(e.source.path,u.list);else return{breakpoints:[]};if(u.unbound.length===0&&u.new.length===0)return{breakpoints:[]};if(this._totalBreakpointsCount-=u.unbound.length,await Promise.all(u.unbound.map(f=>(this._byDapId.delete(f.dapId),f.disable()))),this._totalBreakpointsCount+=u.new.length,this._thread&&(this._totalBreakpointsCount===0&&this._sourceMapHandlerInstalled?this._uninstallSourceMapHandler(this._thread):this._totalBreakpointsCount>0&&!this._sourceMapHandlerInstalled&&this._installSourceMapHandler(this._thread)),s&&u.new.length){this.ensureModuleEntryBreakpoint(s,e.source);let f=a(),g=Promise.all(u.new.filter(this._enabledFilter).filter(m=>f==null?void 0:f.includes(m)).map(m=>m.enable(s)));this.addLaunchBlocker(Promise.race([ke(r1),g])),await g}let c=await Promise.all(u.list.map(f=>f.toDap()));return this._breakpointsStatisticsCalculator.registerBreakpoints(c),ke(0).then(()=>u.new.forEach(f=>f.markSetCompleted())),{breakpoints:c}}async notifyBreakpointChange(e,r){if(!this._byDapId.has(e.dapId))return;let i=await e.toDap();i.verified&&(this._breakpointsStatisticsCalculator.registerResolvedBreakpoint(e.dapId),this.suggester.notifyVerifiedBreakpoint()),r&&this._dap.breakpoint({reason:"changed",breakpoint:i})}isEntrypointBreak(e,r){let i=[...this.moduleEntryBreakpoints.values()].filter(n=>n.enabled&&n.cdpScriptIds.has(r));if(i.length){for(let n of i)n instanceof jc||n.disable();return!0}return e.some(n=>{let s=this._resolvedBreakpoints.get(n);return s&&(s instanceof Qi||t1(s))})}async shouldPauseAt(e,r,i,n=!1){if(!r.length)return e.reason!=="instrumentation";let s=0,o=n?1:0;return await Promise.all(r.map(async a=>{if((i==null?void 0:i.cdpId)===a){s++;return}let u=this._resolvedBreakpoints.get(a);if(u instanceof Qi){this.entryBreakpointMode===0&&!(u instanceof jc)&&u.disable(),o++;return}u instanceof Ii&&(await u.testHitCondition(e)?s++:o++)})),s>0||o===0}registerBreakpointsHit(e){for(let r of e){let i=this._resolvedBreakpoints.get(r);i instanceof Ii&&this._breakpointsStatisticsCalculator.registerBreakpointHit(i.dapId)}}statisticsForTelemetry(){return this._breakpointsStatisticsCalculator.statistics()}ensureModuleEntryBreakpoint(e,r){if(!r.path||(this._byPath.get(r.path)??[]).some(t1))return;let n=Qi.getModeKeyForSource(this.entryBreakpointMode,r.path);if(!r.path||this.moduleEntryBreakpoints.has(n))return;let s=new Qi(this,r,this.entryBreakpointMode);this.moduleEntryBreakpoints.set(r.path,s),this._setBreakpoint(s,e)}executionContextWasCleared(){for(let e of this._byDapId.values())e.executionContextWasCleared()}async reapply(){let e=[...this._byDapId.values()];if(await Promise.all(e.map(r=>r.disable())),this._thread){let r=this._thread;await Promise.all(e.map(i=>i.enable(r)))}}};Ei=z([(0,Vn.injectable)(),E(0,(0,Vn.inject)(qr)),E(1,(0,Vn.inject)(Jt)),E(2,(0,Vn.inject)(ae)),E(3,(0,Vn.inject)(Ne)),E(4,(0,Vn.inject)(fg)),E(5,(0,Vn.inject)(mt)),E(6,(0,Vn.inject)(qa))],Ei);var gk=w("crypto"),el=F(pe());var Pf=class{constructor(e){this.element=e,this.next=Pf.Undefined,this.prev=Pf.Undefined}},tt=Pf;tt.Undefined=new Pf(void 0);var Lf=class{constructor(){this._first=tt.Undefined;this._last=tt.Undefined;this._size=0}get size(){return this._size}isEmpty(){return this._first===tt.Undefined}clear(){let e=this._first;for(;e!==tt.Undefined;){let r=e.next;e.prev=tt.Undefined,e.next=tt.Undefined,e=r}this._first=tt.Undefined,this._last=tt.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,r){let i=new tt(e);if(this._first===tt.Undefined)this._first=i,this._last=i;else if(r){let s=this._last;this._last=i,i.prev=s,s.next=i}else{let s=this._first;this._first=i,i.next=s,s.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==tt.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==tt.Undefined){let e=this._last.element;return this._remove(this._last),e}}applyFilter(e){let r=this._first;for(;r!==tt.Undefined;){let i=r.next;e(r.element)||this._remove(r),r=i}}_remove(e){if(e.prev!==tt.Undefined&&e.next!==tt.Undefined){let r=e.prev;r.next=e.next,e.next.prev=r}else e.prev===tt.Undefined&&e.next===tt.Undefined?(this._first=tt.Undefined,this._last=tt.Undefined):e.next===tt.Undefined?(this._last=this._last.prev,this._last.next=tt.Undefined):e.prev===tt.Undefined&&(this._first=this._first.next,this._first.prev=tt.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==tt.Undefined;)yield e.element,e=e.next}};var jg=F(pe());var Gn=class extends Z{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}};function Kn(t,e,r){if(e.isCancellationRequested)return Promise.reject(new Gn(r||"Task cancelled"));let i=je(),n=e.onCancellationRequested(i.resolve);return Promise.race([i.promise.then(()=>{throw new Gn(r||"Task cancelled")}),t.then(s=>(n.dispose(),s)).catch(s=>{throw n.dispose(),s})])}function n1(t,e){let r=new Yt(e),i=t.map(async n=>{try{return await n(r.token)}finally{r.cancel()}});return Promise.race(i)}var s1=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),Cr=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),FJ=Object.freeze({isCancellationRequested:!0,onCancellationRequested:s1}),Yt=class{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,r){let i=new Yt(r),n=i._token=new Kc,s=setTimeout(()=>n.cancel(),e);return n.onCancellationRequested(()=>clearTimeout(s)),i}get token(){return this._token||(this._token=new Kc),this._token}cancel(){this._token?this._token instanceof Kc&&this._token.cancel():this._token=FJ}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof Kc&&this._token.dispose():this._token=Cr}},Kc=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s1:(this._emitter||(this._emitter=new J),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var pk=F(w("net"));var tQ=F(c1(),1),rQ=F(z0(),1),iQ=F(X0(),1),uk=F(rw(),1),nw=F(ak(),1);var ck=uk.default;var lk=(t,e)=>t+Math.floor(Math.random()*(e-t));async function Ug({min:t=53e3,max:e=54e3,attempts:r=1e3,tester:i=sQ}={},n=Cr){let s=lk(t,e);for(let o=Math.min(r,e-t);;o--)try{return await i(s,n)}catch(a){if(o===0||a instanceof Gn)throw a;s=s===e-1?t:s+1}}function sQ(t,e=Cr){let r;return new Promise((i,n)=>{let s=pk.createServer();s.listen(t,"127.0.0.1",()=>{let o=s.address();s.close(()=>i(o.port))}),s.on("error",n),r=e.onCancellationRequested(()=>{s.close(),n(new Gn("Port open lookup cancelled"))})}).finally(()=>r==null?void 0:r.dispose())}var fk=t=>(e,r)=>dk(new nw.default({host:"127.0.0.1",...t,port:e}),r),dk=(t,e)=>{let r;return new Promise((i,n)=>{t.on("error",n),t.on("listening",()=>i(t)),r=e.onCancellationRequested(()=>{t.close(),n(new Gn("Port open lookup cancelled"))})}).finally(()=>r==null?void 0:r.dispose())};var Wg=async(t,e,r)=>{let i=await Ug({tester:fk(e)},r),n=t.register(i.address().port);return i.on("close",()=>n.dispose()),i.on("error",()=>n.dispose()),i},xi=Symbol("IPortLeaseTracker"),Qc=class{constructor(e){this.usedPorts=new Set;this.onRegistered=new J;this.isMandated=e==="remote"}register(e){return this.usedPorts.add(e),this.onRegistered.fire(e),{dispose:()=>this.usedPorts.delete(e)}}isRegistered(e,r=2e3){return this.usedPorts.has(e)?Promise.resolve(!0):e<53e3||e>=54e3?Promise.resolve(!1):n1([()=>ke(r).then(()=>!1),i=>new Promise(n=>{let s=this.onRegistered.event(o=>{o===e&&n(!0)});i.onCancellationRequested(()=>s.dispose())})])}};Qc=z([(0,jg.injectable)(),E(0,(0,jg.inject)(Ba))],Qc);var hk="JsDebug",mk="*";var sw=class{constructor(){this.replays=new Map}addReplay(e,r,i){let n=this.replays.get(e);return n||(n=new Lf,this.replays.set(e,n)),n.push({event:`${e}.${r}`,params:i})}capture(e,r,i,n){let s=e[r];if(n===0)s.on(i,o=>this.addReplay(r,i,o));else if(n===2){let o;s.on(i,a=>{o==null||o(),o=this.addReplay(r,i,a)})}else{let o=new Lf;s.on(i,a=>{var u;o.size===n.cap&&((u=o.shift())==null||u()),o.push(this.addReplay(r,i,a))})}}filter(e,r){let i=this.replays.get(e);i&&i.applyFilter(r)}clearEvent(e,r){let i=`${e}.${r}`;this.filter(e,n=>n.event!==i)}clearDomain(e){this.replays.delete(e)}read(e){return this.replays.get(e)??[]}},qg=Symbol("ICdpProxyProvider"),Zc=class{constructor(e,r,i){this.cdp=e;this.portTracker=r;this.logger=i;this.disposables=new Qe;this.replay=new sw;this.jsDebugApi={subscribe:(e,{events:r})=>{for(let i of r)i.endsWith(mk)?e.pushDisposable(this.cdp.session.onPrefix(i.slice(0,-mk.length),n=>e.send({method:n.method,params:n.params}))):e.pushDisposable(this.cdp.session.on(i,n=>e.send({method:i,params:n})));return{}}};this.replay.capture(e,"CSS","styleSheetAdded",0),this.replay.capture(e,"Debugger","paused",2),this.replay.capture(e,"Runtime","executionContextCreated",{cap:50,type:1}),this.replay.capture(e,"Runtime","consoleAPICalled",{cap:50,type:1}),e.Debugger.on("resumed",()=>{this.replay.clearEvent("Debugger","paused")}),e.CSS.on("fontsUpdated",n=>{n.font&&this.replay.addReplay("CSS","fontsUpdated",n)}),e.CSS.on("styleSheetRemoved",n=>this.replay.filter("CSS",s=>s.params.styleSheetId!==n.styleSheetId))}async proxy(){this.server||(this.server=this.createServer());let{server:e,path:r}=await this.server,i=e.address();return{host:i.address,port:i.port,path:r}}async createServer(){let e=`/${(0,gk.randomBytes)(20).toString("hex")}`,r=await Wg(this.portTracker,{perMessageDeflate:!0,path:e});return this.logger.info("proxyActivity","activated cdp proxy"),r.on("connection",i=>{let n=new ow(i,this.logger);this.logger.info("proxyActivity","accepted proxy connection",{id:n.id}),i.on("close",()=>{this.logger.verbose("proxyActivity","closed proxy connection",{id:n.id}),this.disposables.disposeObject(n)}),i.on("message",async s=>{let o;try{o=JSON.parse(s.toString())}catch(f){return n.send({id:0,error:{code:-32700,message:f.message}})}this.logger.verbose("proxyActivity","received proxy message",o);let{method:a,params:u,id:c=0}=o,[l,p]=a.split(".");try{let f=l===hk?await this.invokeJsDebugDomainMethod(n,p,u):await this.invokeCdpMethod(n,l,p,u);n.send({id:c,result:f})}catch(f){let g=f instanceof Va&&f.cause?f.cause:{code:0,message:f.message};n.send({id:c,error:g})}})}),{server:r,path:e}}dispose(){var e;this.disposables.dispose(),(e=this.server)==null||e.then(r=>r.server.close()),this.server=void 0}invokeCdpMethod(e,r,i,n){let s=this.cdp.session.sendOrDie(`${r}.${i}`,n);switch(i){case"enable":for(let o of this.replay.read(r))e.send({method:o.event,params:o.params});break;case"disable":this.replay.clearDomain(r);break;default:}return s}invokeJsDebugDomainMethod(e,r,i){if(!this.jsDebugApi.hasOwnProperty(r))throw new Va(r).setCause(-32601,`${hk}.${r} not found`);return this.jsDebugApi[r](e,i)}};Zc=z([(0,el.injectable)(),E(0,(0,el.inject)(dt)),E(1,(0,el.inject)(xi)),E(2,(0,el.inject)(ae))],Zc);var oQ=0,ow=class{constructor(e,r){this.webSocket=e;this.logger=r;this.disposables=new Qe;this.id=oQ++}pushDisposable(e){this.disposables.push(e)}dispose(){this.disposables.dispose(),this.webSocket.close()}send(e){this.logger.verbose("proxyActivity","send proxy message",e),this.webSocket.send(JSON.stringify(e))}};var rl=F(Dm()),Ff=F(pe());var aw=zt(function(t,e,r){let i=r?"variable":"property",n=(l,p,f)=>{if(p!=="function")return i;if(l==="constructor")return"class";let g=String(f);return g.startsWith("class ")||g.includes("[native code]")&&/^[A-Z]/.test(l)?"class":r?"function":"method"},s=l=>{switch(typeof l){case"number":case"boolean":return`${l}`;case"object":return l===null?"null":l.constructor.name||"object";case"function":return`fn(${new Array(l.length).fill("?").join(", ")})`;default:return typeof l}},o=[],a=new Set,u="~",c=t===void 0?this:t;for(;c!=null;c=c.__proto__){u+="~";let l=Object.getOwnPropertyNames(c).filter(p=>p.startsWith(e)&&!p.match(/^\d+$/));for(let p of l){if(a.has(p))continue;a.add(p);let f=Object.getOwnPropertyDescriptor(c,p),g=i,m;try{let y=c[p];g=n(p,typeof(f==null?void 0:f.value),y),m=s(y)}catch{}o.push({label:p,sortText:u+p.replace(/^_+/,y=>"{".repeat(y.length)),type:g,detail:m})}r=!1}return{result:o,isArray:this instanceof Array}}),Hk=Ta(aw.source);var aQ=t=>{var e,r,i;switch(t.type){case"ClassDeclaration":case"ClassExpression":return{type:"class",id:t.id};case"MethodDefinition":return{type:((e=t.key)==null?void 0:e.type)==="Identifier"&&t.key.name==="constructor"?"constructor":"method",id:t.key};case"VariableDeclarator":return{type:((r=t.init)==null?void 0:r.type)==="FunctionExpression"||((i=t.init)==null?void 0:i.type)==="ArrowFunctionExpression"?"function":"variable",id:t.id}}};function uQ(t){let e=!1;return(0,rl.traverse)(t,{enter(r){if(r.type==="CallExpression"||r.type==="NewExpression"||r.type==="UnaryExpression"&&r.operator==="delete"||r.type==="ClassBody")return e=!0,rl.VisitorOption.Break}}),e}var Vg=Symbol("ICompletions"),tl=class{constructor(e,r){this.evaluator=e;this.cdp=r}async completions(e){let r=lo(e.expression),i=new fo(e.expression).convert(e.position),n=()=>Promise.resolve([]);return(0,rl.traverse)(r,{enter:(s,o)=>{let a=s;if(a.start<i&&i<=a.end){if(s.type==="MemberExpression"||s.type==="Identifier"&&(o==null?void 0:o.type)==="MemberExpression"&&!o.computed&&o.object!==s){let u=s.type==="MemberExpression"?s:o;n=u.computed?()=>this.elementAccessCompleter(e,u,i):()=>this.propertyAccessCompleter(e,u,i)}else s.type==="Identifier"&&(n=()=>this.identifierCompleter(e,r,s,i));o=s}}}),n().then(s=>s.sort((o,a)=>o.sortText>a.sortText?1:-1))}async elementAccessCompleter(e,r,i){if(r.property.type!=="Literal"||typeof r.property.value!="string")return[];let n=e.expression.slice(co(r.property)+1,i);return(await this.defaultCompletions(e,n)).filter(o=>o.sortText!=="~~[").map(o=>({...o,text:JSON.stringify(o.text??o.label)+"]",start:co(r.property),length:z_(r.property)-co(r.property)}))}async identifierCompleter(e,r,i,n){let s=[];(0,rl.traverse)(r,{enter(u){var l;let c=aQ(u);((l=c==null?void 0:c.id)==null?void 0:l.type)==="Identifier"&&s.push({label:c.id.name,type:c.type,sortText:c.id.name})}});let o=e.expression.slice(co(i),n),a=[...s,...await this.defaultCompletions(e,o)];return this.evaluator.hasReturnValue&&e.executionContextId!==void 0&&Is.startsWith(o)&&a.push({sortText:`~${Is}`,label:Is,type:"variable"}),a}async propertyAccessCompleter(e,r,i){let{result:n,isArray:s}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:HT(e.expression,r.object),prefix:Qr(r.property)?"":e.expression.slice(co(r.property),i),throwOnSideEffect:uQ(r)}),o=co(r.property)-1,a=/^[$a-z_][0-9a-z_$]*$/i;for(let u of n)a.test(u.label)||(u.text=`[${JSON.stringify(u.label)}]`,u.start=o,u.length=1);if(s){let u="index";n.unshift({label:`[${u}]`,text:`[${u}]`,type:"property",sortText:"~~[",start:o,selectionStart:1,selectionLength:u.length,length:1})}return n}async completePropertyAccess({executionContextId:e,stackFrame:r,expression:i,prefix:n,isInGlobalScope:s=!1,throwOnSideEffect:o=!1}){let a={expression:`(${i})`,objectGroup:"console",silent:!0,throwOnSideEffect:o},u=r&&r.callFrameId(),c=await this.evaluator.evaluate(u?{...a,callFrameId:u}:{...a,contextId:e},{stackFrame:r});if(!c||c.exceptionDetails)return{result:[],isArray:!1};if(!c.result.objectId){let l={...a,returnByValue:!0,throwOnSideEffect:!1,expression:Hk.expr(`(${i})`,JSON.stringify(n),JSON.stringify(s))},p=await this.evaluator.evaluate(u?{...l,callFrameId:u}:{...l,contextId:e});return!p||p.exceptionDetails?{result:[],isArray:!1}:p.result.value}try{return(await aw({cdp:this.cdp,args:[void 0,n,s],objectId:c.result.objectId,returnByValue:!0})).value}catch{return{result:[],isArray:!1}}finally{this.cdp.Runtime.releaseObject({objectId:c.result.objectId})}}async defaultCompletions(e,r=""){for(let i of["self","global","this"]){let{result:n}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:i,prefix:r,isInGlobalScope:!0});if(e.stackFrame){let s=r.toLowerCase(),o=new Set(n.map(a=>a.label));for(let a of await e.stackFrame.completions())o.has(a.label)||!a.label.toLowerCase().includes(s)||(o.add(a.label),n.push(a))}return n.push(...this.syntheticCompletions(e,r)),n}return this.syntheticCompletions(e,r)}syntheticCompletions(e,r){return this.evaluator.hasReturnValue&&Is.startsWith(r)?[{sortText:`~${Is}`,label:Is,type:"variable"}]:[]}};tl=z([(0,Ff.injectable)(),E(0,(0,Ff.inject)(wi)),E(1,(0,Ff.inject)(dt))],tl);var Zg=F(vt());var Jn=class{constructor(e,r){this._tokens=[];this._separator=r||"",this._budget=e-1-this._separator.length}append(e){if(e.length>this.budget()){this.appendEllipsis();return}this._append(e)}_append(e){this._tokens.length&&(this._budget-=this._separator.length),this._tokens.push(e),this._budget-=e.length}appendEllipsis(){this._tokens[this._tokens.length-1]!=="\u2026"&&this._append("\u2026")}checkBudget(){return this._budget<=0&&this.appendEllipsis(),this._budget>0}budget(){return this._budget-(this._tokens.length?this._separator.length:0)}build(){return this._tokens.join(this._separator)}isEmpty(){return!this._tokens.length}};var Uk=F(Bk());var AQ=1e4;function SQ(t,e){if(!t.includes("%"))return[{type:"string",value:t}];let r=[];function i(u){if(!u)return;let c=r[r.length-1];(c==null?void 0:c.type)==="string"?c.value+=u:r.push({type:"string",value:u})}function n(u,c,l){r.push({type:"specifier",specifier:u,precision:c,substitutionIndex:l})}let s=0,o=0,a=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${e.join("")}])`,"g");for(let u=a.exec(t);u;u=a.exec(t)){let c=u.index;if(c>s&&i(t.substring(s,c)),u[0]==="%%")i("%");else{let[,l,p,f]=u;l&&Number(l)>0&&(o=Number(l)-1);let g=p?Number(p):void 0;n(f,g,o),++o}s=c+u[0].length}return i(t.substring(s)),r}function dw(t,e,r){let i=SQ(t,Array.from(r.keys())),n=new Set,s=r.get("");if(!s)throw new Error("Expected to hav a default formatter");let o=new Jn(AQ),a=!1;for(let u=0;o.checkBudget()&&u<i.length;++u){let c=i[u];if(c.type==="string"){o.append(c.value);continue}let l=c.substitutionIndex;if(l>=e.length){o.append("%"+(c.precision||"")+c.specifier);continue}n.add(l),c.specifier==="c"&&(a=!0);let p=r.get(c.specifier)||s;o.append(p(e[l],{budget:o.budget(),quoted:!1}))}a&&o.append("\x1B[0m");for(let u=0;o.checkBudget()&&u<e.length;++u)n.has(u)||(n.add(u),(t||u)&&o.append(" "),o.append(s(e[u],{budget:o.budget(),quoted:!1})));return{result:o.build(),usedAllSubs:n.size===e.length}}function Fk(t){try{return new Uk.default(t).ansi256().object().ansi256}catch{}}function jk(t){let e=/\s*(.*?)\s*:\s*(.*?)\s*(?:;|$)/g,r="\x1B[0m",i=e.exec(t);for(;i!==null;){if(i.length===3)switch(i[1]){case"color":let n=Fk(i[2]);n&&(r+=`\x1B[38;5;${n}m`);break;case"background":case"background-color":let s=Fk(i[2]);s&&(r+=`\x1B[48;5;${s}m`);break;case"font-weight":i[2]==="bold"&&(r+="\x1B[1m");break;case"font-style":i[2]==="italic"&&(r+="\x1B[3m");break;case"text-decoration":i[2]==="underline"&&(r+="\x1B[4m");break;default:}i=e.exec(t)}return r}var qk=t=>t.replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/\r/gm,"\\r").replace(/\t/gm,"\\t"),xQ={budget:1e5,quoted:!0},Wk={budget:1e3,quoted:!0,postProcess:qk},PQ={budget:1/0,quoted:!1},LQ={budget:1e3,quoted:!0,postProcess:qk},CQ={budget:1e5,quoted:!0},Jg=t=>{switch(t){case"repl":return xQ;case"hover":return Wk;case"propertyValue":return Wk;case"watch":return LQ;case"copy":case"clipboard":return PQ;default:return CQ}};var DQ=30,TQ=100,hw=20,$Q=1e4,MQ=3,Vk=120,mw=new Set(["null","regexp","date"]);function Qa(t){return t.type==="function"||t.type==="object"&&!mw.has(t.subtype)}function gw(t){return t.subtype==="array"||t.subtype==="typedarray"}function Za(t,e,r){var s,o;let i=Jg(e),n=Yg(t,i,r);return((s=t.preview)==null?void 0:s.subtype)==="regexp"?n:((o=i.postProcess)==null?void 0:o.call(i,n))??n}function Yg(t,e,r){return t.type==="function"?t.description?Xk(t.description,e.budget):"<function>":t.type==="object"&&t.subtype==="node"?t.description:"preview"in t&&t.preview?Qg(t.preview,e.budget,r):zk(t,e.budget,e.quoted,r)}function Qg(t,e,r){return gw(t)?kQ(t,e):t.subtype==="internal#entry"?Rn(t.description||"",e):t.type==="function"?Xk(t.description,e):Qa(t)?RQ(t,e,r):NQ(t,e,r)}function kQ(t,e){let r=new Jn(e),i=t.description,n=i.match(/[^(]*\(([\d]+)\)/);if(!n)return i;let s=parseInt(n[1],10);i.startsWith("Array(")&&(i=i.substring(5)),r.append(Rn(i,r.budget())),r.append(" ");let o=new Jn(r.budget()-2,", "),a=-1;for(let u of t.properties){if(!o.checkBudget())break;if(isNaN(u.name))continue;let c=parseInt(u.name,10);c>a+1&&o.appendEllipsis(),a=c,o.append(qf(u,o.budget()))}s>a+1&&o.appendEllipsis();for(let u of t.properties){if(!o.checkBudget())break;isNaN(u.name)&&o.append(qf(u,o.budget(),u.name))}return t.overflow&&o.appendEllipsis(),r.append("["+o.build()+"]"),r.build()}function RQ(t,e,r){let i=new Jn(e," ");t.description!=="Object"&&i.append(Rn(t.description,i.budget()));let n=new Map,s=t.properties||[];for(let f of s)n.set(f.name,f);let o=n.get("[[PrimitiveValue]]");if(o)return i.append(`(${qf(o,i.budget()-2)})`),i.build();let a=n.get("[[PromiseStatus]]"),u=n.get("[[PromiseValue]]");if(a&&u)return a.value==="pending"?i.append(`{<${a.value}>}`):i.append(`{${qf(u,i.budget()-2,`<${a.value}>`)}}`),i.build();let c=n.get("[[GeneratorStatus]]");if(c)return i.append(`{<${c.value}>}`),i.build();let l=new Jn(i.budget()-2,", ");for(let f of s){if(!l.checkBudget())break;l.append(qf(f,l.budget(),f.name))}for(let f of t.entries||[]){if(!l.checkBudget())break;if(f.key){let g=Qg(f.key,Math.min(hw,l.budget()),r),m=Qg(f.value,Math.min(hw,l.budget()-g.length-4),r);l.append(sl(g," => ",m,l.budget()))}else l.append(Qg(f.value,Math.min(hw,l.budget()),r))}t.overflow&&l.appendEllipsis();let p=l.build();return p?i.append("{"+p+"}"):i.isEmpty()&&i.append("{}"),i.build()}function Gk(t,e){return t.length<=e?t:"\u2026"}function OQ(t,e){return t.length>=e?t.slice(0,e-1)+"\u2026":t}function NQ(t,e,r){if(t.type==="object"&&t.subtype==="null")return Gk("null",e);if(t.type==="undefined")return Gk("undefined",e);if(t.type==="string"){let i=t.description??t.value;return r!=null&&r.hex&&(i=Buffer.from(i,"utf8").toString("hex")),Hc(i,e)}return t.type==="number"||t.type==="bigint"?Vf(t,!1,e,r):OQ(t.description||"",e)}function sl(t,e,r,i){return t===void 0?Hc(r,i):t.length+e.length>i?Rn(t,i):`${t}${e}${Hc(r,i-t.length-e.length)}`}function qf(t,e,r){return e=Math.min(e,TQ),t.type==="function"?sl(r,": ","\u0192",e):t.type==="object"&&t.value==="Object"?sl(r,": ","{\u2026}",e):typeof t.value>"u"?sl(r,": ",`<${t.type}>`,e):t.type==="string"?sl(r,": ",`'${t.value}'`,e):sl(r,": ",t.value??"unknown",e)}function zk(t,e,r,i){if(t.type==="string"){let n=t.value||(t.description?t.description:"");i!=null&&i.hex&&(n=Buffer.from(n,"utf8").toString("hex"),r=!1);let s=Hc(n,r?e-2:e);return r?`'${s}'`:s}return t.type==="undefined"?"undefined":t.subtype==="null"?"null":t.type==="bigint"||t.type==="number"?Vf(t,!1,e,i):t.description?Rn(t.description,Math.max(e,1e5)):Rn(String("value"in t?t.value:t.description),e)}function Xk(t,e){let r=new Jn(e),i=t.replace(/^function [gs]et /,"function ").replace(/^function [gs]et\(/,"function(").replace(/^[gs]et /,""),n=i.match(/^(async\s+function)/),s=i.startsWith("function*"),o=i.startsWith("*"),a=!s&&i.startsWith("function"),u=i.startsWith("class ")||i.startsWith("class{"),c=i.indexOf("=>"),l=!n&&!s&&!a&&!u&&c>0,p;if(u){p=i.substring(5);let m=/^[^{\s]+/.exec(p.trim()),y="";m&&(y=m[0].trim()||""),g("class",p,y)}else if(n)p=i.substring(n[1].length),g("async \u0192",p,f(p));else if(s)p=i.substring(9),g("\u0192*",p,f(p));else if(o)p=i.substring(1),g("\u0192*",p,f(p));else if(a)p=i.substring(8),g("\u0192",p,f(p));else if(l){let m=i;i.length>DQ&&(m=i.substring(0,c+2)+" {\u2026}"),g("",i,m)}else g("\u0192",i,f(i));return r.build();function f(m){let y=m.indexOf("("),b=m.match(/\)\s*{/),I=b&&b.index||0;if(y!==-1&&b&&I>y){let B=m.substring(0,y).trim()||"",W=m.substring(y,I+1);return B+W}return"()"}function g(m,y,b){r.checkBudget()&&(m.length&&r.append(m+" "),y=y.trim(),y.endsWith(" { [native code] }")&&(y=y.substring(0,y.length-18)),r.budget()>=y.length?r.append(y):r.append(b.replace(/\n/g," ")))}}function eu(t){let e=t;if(e.type!=="object"||e.subtype==="null")return{title:zk(e,$Q,!1,void 0)};let r=e.description??e.className??"Error",i=/^\s+at\s/m.exec(r);if(!i){let n=r.lastIndexOf(`
`);return n===-1?{title:r}:{title:r.substring(0,n)}}return{title:r.substring(0,i.index-1),stackTrace:r.substring(i.index+2)}}function Vf(t,e,r,i){if(t.type==="number"){if("unserializableValue"in t)return t.unserializableValue;let o=t.value||+t.description;return i!=null&&i.hex?o.toString(16):String(o)}if(t.type==="bigint"){let o=t.unserializableValue||t.description;return i!=null&&i.hex?BigInt(o.slice(0,-1)).toString(16):o}let n=t,s=typeof n.value=="number"?n.value:+String(n.description);return Rn(String(e?Math.floor(s):s),r)}function BQ(t,e){return Hc(String(typeof t.value<"u"?t.value:t.description),e)}function Jk(t){var l;let e=[],r=new Set([void 0]),i=new Map;for(let p of t.properties.filter(f=>f.valuePreview)){let f=new Map;f.set(void 0,p.name),i.set(void 0,Math.max(i.get(void 0)||0,p.name.length)),e.push(f),(l=p.valuePreview)==null||l.properties.map(g=>{g.value&&(r.add(g.name),f.set(g.name,g.value),i.set(g.name,Math.max(i.get(g.name)||0,g.value.length)))})}for(let p of r.values())p&&i.set(p,Math.max(i.get(p)||0,p.length));let n=Array.from(i.values()).reduce((p,f)=>p+f,0),s=Vk-4-(r.size-1)*3;if(n>s){let p=s/n;for(let f of i.keys()){let g=Math.max(MQ,i.get(f)*p|0);i.set(f,g)}}let o=[];for(let p of r.values())o.push("-".repeat(i.get(p)));let a="[-"+o.join("-|-")+"-]",u=[];u.push(a.replace("[","\u256D").replace(/\|/g,"\u252C").replace("]","\u256E").replace(/-/g,"\u2504"));let c=[];for(let p of r.values())c.push(Kk(p||"",i.get(p)));u.push("\u250A "+c.join(" \u250A ")+" \u250A"),u.push(a.replace("[","\u251C").replace(/\|/g,"\u253C").replace("]","\u2524").replace(/-/g,"\u2504"));for(let p of e){let f=[];for(let g of r.values())f.push(Kk(p.get(g)||"",i.get(g)));u.push("\u250A "+f.join(" \u250A ")+" \u250A")}return u.push(a.replace("[","\u2570").replace(/\|/g,"\u2534").replace("]","\u256F").replace(/-/g,"\u2504")),u.map(p=>Rn(p,Vk)).join(`
`)}var Hw=new Map([["",(t,e)=>Yg(t,e)],["s",(t,e)=>BQ(t,e.budget)],["i",(t,e)=>Vf(t,!0,e.budget,void 0)],["d",(t,e)=>Vf(t,!0,e.budget,void 0)],["f",(t,e)=>Vf(t,!1,e.budget,void 0)],["c",t=>jk(t.value)],["o",(t,e)=>Yg(t,e)],["O",(t,e)=>Yg(t,e)]]);function Kk(t,e){return t.length===e?t:t.length<e?t+" ".repeat(e-t.length):Rn(t,e)}var Qk=zt(function(){return this});var eH=class{constructor(e,r){this.protoObj=e;this.cdp=r}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:Zg.t("Only objects can be queried")};let r=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!r)return{category:"stderr",output:Zg.t("Could not query the provided object")};let i;try{i=await Qk({cdp:this.cdp,args:[],objectId:r.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(o){return{category:"stderr",output:Zg.t(o.message)}}let n="\x1B[32mobjects: "+Za(i,"repl")+"\x1B[0m";return{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput(n,[i]).id}}};var Zk=/^(\W*at .*\()(.*):(\d+):(\d+)(\))$/,eR=/^(\W*at )(.*):(\d+):(\d+)$/,Do=class{constructor(e){this.stack=e}static isStackLike(e){return Zk.test(e)||eR.test(e)}*[Symbol.iterator](){for(let e of this.stack.split(`
`)){let r=Zk.exec(e)||eR.exec(e);if(!r){yield e+`
`;continue}let[,i,n,s,o,a]=r;i&&(yield i),yield new yw(n,new Ot(Number(s),Number(o))),a&&(yield a),yield`
`}}},yw=class{constructor(e,r){this.path=e;this.position=r}toString(){return`${this.path}:${this.position.lineNumber}:${this.position.columnNumber}`}};var Gr=F(vt());var Gf=F(pe());async function bw(t){let e=await t.uiLocation();return e?e.source.blackboxed()?2:xr(e.source)&&!e.isMapped&&e.unmappedReason===3?1:0:0}var FQ=new Set(["breakpoint","exception","entry"]),UQ=256,To=class{constructor(e,r){this.launchConfig=e;this.logger=r;this._smartStepCount=0}resetSmartStepCount(){this._smartStepCount>0&&(this.logger.verbose("internal",`smartStep: skipped ${this._smartStepCount} steps`),this._smartStepCount=0)}async getSmartStepDirection(e,r){if(!this.launchConfig.smartStep||FQ.has(e.reason))return;let i=(await e.stackTrace.loadFrames(1)).find(_a($t));if((i&&await bw(i))===0){this.resetSmartStepCount();return}return this._smartStepCount++>UQ?2:(r==null?void 0:r.reason)==="step"?r.direction:0}};To=z([(0,Gf.injectable)(),E(0,(0,Gf.inject)(Ne)),E(1,(0,Gf.inject)(ae))],To);var tR=zt(function(){return[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")]}),rR=Ta(function(t,e){let r={},i="<<default preview>>";if(typeof this!="object"||!this)return r;for(let[n,s]of Object.entries(this)){if(e)try{let o=e.call(s,i);if(o!==i){r[n]=String(o);continue}}catch(o){r[n]=`<<indescribable>>${JSON.stringify([String(o),n])}`;continue}if(typeof s=="object"&&s){let o;for(let a of runtimeArgs[0])try{o=s[a]();break}catch{}!o&&!String(s.toString).includes("[native code]")&&(o=String(s)),o&&!o.startsWith("[object ")&&(r[n]=o.length>=t?o.slice(0,t)+"\u2026":o)}}return r}),tH=Ta(function(t,e){if(e)try{let r="<<default preview>>",i=e.call(this,r);if(i!==r)return String(i)}catch(r){return`<<indescribable>>${JSON.stringify([String(r),"object"])}`}if(typeof this=="object"&&this){let r;for(let i of[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")])try{r=this[i]();break}catch{}if(!r&&!String(this.toString).includes("[native code]")&&(r=String(this)),r&&!r.startsWith("[object "))return r.length>=t?r.slice(0,t)+"\u2026":r}});var Be=F(vt()),HR=w("crypto");var Dr=class{constructor(e=process.hrtime()){this.value=e}get ms(){return this.s*1e3}get s(){return this.value[0]+this.value[1]/1e9}elapsed(){return new Dr().subtract(this)}subtract(e){let r=this.value[1]-e.value[1],i=this.value[0]-e.value[0];return r<0&&(r+=1e9,i--),new Dr([i,r])}};var ol=class{constructor(e,r,i,n,s,o){this.launchConfig=e;this.targetInfo=r;this.parentTarget=i;this.targetOriginValue=n;this.cdp=s;this.logger=o;this.onNameChanged=new J().event;this.attached=!1;this.isWaitingForDebugger=!0;s.pause()}id(){return this.targetInfo.targetId}name(){return this.targetInfo.title}fileName(){return this.targetInfo.url}type(){return"node"}parent(){return this.parentTarget}children(){return[]}canStop(){return!1}stop(){}canRestart(){return!1}restart(){}canAttach(){return!this.attached}async attach(){return await this.cdp.Runtime.enable({}),await this.cdp.Debugger.enable({}),this.attached=!0,this.cdp}canDetach(){return this.attached}async detach(){await this.cdp.Debugger.resume({}),await this.cdp.NodeWorker.detach({sessionId:this.targetInfo.targetId}),this.attached=!1}targetOrigin(){return this.targetOriginValue}afterBind(){return this.cdp.resume(),Promise.resolve()}async runIfWaitingForDebugger(){this.isWaitingForDebugger=!1,await this.cdp.Runtime.runIfWaitingForDebugger({})}initialize(){return Promise.resolve()}waitingForDebugger(){return this.isWaitingForDebugger}supportsCustomBreakpoints(){return!1}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Oe(e):e}executionContextName(){return this.targetInfo.title}};var St=F(vt()),rH=new Map;function vw(){if(rH.size)return rH;function t(s,o){for(let a of o)a.group=s,rH.set(a.id,a)}function e(s,o){let a=o||s;return{id:"instrumentation:"+s,title:a,group:"",details:u=>{if(s==="webglErrorFired"){let c=u.webglErrorName;return c=c.replace(/^.*(0x[0-9a-f]+).*$/i,"$1"),{short:c,long:St.t('Paused on WebGL Error instrumentation breakpoint, error "{0}"',c)}}return s==="scriptBlockedByCSP"&&u.directiveText?{short:St.t('CSP violation "{0}"',u.directiveText),long:St.t('Paused on Content Security Policy violation instrumentation breakpoint, directive "{0}"',u.directiveText)}:{short:a,long:St.t('Paused on instrumentation breakpoint "{0}"',a)}},apply:async(u,c)=>c?!!await u.DOMDebugger.setInstrumentationBreakpoint({eventName:s}):!!await u.DOMDebugger.removeInstrumentationBreakpoint({eventName:s})}}function r(s,o,a){let u=o===void 0?"*":typeof o=="string"?[o]:o;return{id:"listener:"+s,title:a||s,group:"",details:c=>{let l=(c.targetName||"*").toLowerCase();return{short:l+"."+s,long:St.t('Paused on event listener breakpoint "{0}", triggered on "{1}"',s,l)}},apply:async(c,l)=>{let p=!0;for(let f of u)l?p=p&&!!await c.DOMDebugger.setEventListenerBreakpoint({eventName:s,targetName:f}):p=p&&!!await c.DOMDebugger.removeEventListenerBreakpoint({eventName:s,targetName:f});return p}}}t("Animation",[e("requestAnimationFrame",St.t("Request Animation Frame")),e("cancelAnimationFrame",St.t("Cancel Animation Frame")),e("requestAnimationFrame.callback",St.t("Animation Frame Fired"))]),t("Canvas",[e("canvasContextCreated",St.t("Create canvas context")),e("webglErrorFired",St.t("WebGL Error Fired")),e("webglWarningFired",St.t("WebGL Warning Fired"))]),t("Script",[e("scriptFirstStatement",St.t("Script First Statement")),e("scriptBlockedByCSP",St.t("Script Blocked by Content Security Policy"))]),t("Geolocation",[e("Geolocation.getCurrentPosition","getCurrentPosition"),e("Geolocation.watchPosition","watchPosition")]),t("Notification",[e("Notification.requestPermission","requestPermission")]),t("Parse",[e("Element.setInnerHTML",St.t("Set innerHTML")),e("Document.write","document.write")]),t("Timer",[e("setTimeout"),e("clearTimeout"),e("setInterval"),e("clearInterval"),e("setTimeout.callback",St.t("setTimeout fired")),e("setInterval.callback",St.t("setInterval fired"))]),t("Window",[e("DOMWindow.close","window.close")]),t("WebAudio",[e("audioContextCreated",St.t("Create AudioContext")),e("audioContextClosed",St.t("Close AudioContext")),e("audioContextResumed",St.t("Resume AudioContext")),e("audioContextSuspended",St.t("Suspend AudioContext"))]);let i=["audio","video"];t("Media",[r("play",i),r("pause",i),r("playing",i),r("canplay",i),r("canplaythrough",i),r("seeking",i),r("seeked",i),r("timeupdate",i),r("ended",i),r("ratechange",i),r("durationchange",i),r("volumechange",i),r("loadstart",i),r("progress",i),r("suspend",i),r("abort",i),r("error",i),r("emptied",i),r("stalled",i),r("loadedmetadata",i),r("loadeddata",i),r("waiting",i)]),t("Picture-in-Picture",[r("enterpictureinpicture","video"),r("leavepictureinpicture","video"),r("resize","PictureInPictureWindow")]),t("Clipboard",[r("copy"),r("cut"),r("paste"),r("beforecopy"),r("beforecut"),r("beforepaste")]),t("Control",[r("resize"),r("scroll"),r("zoom"),r("focus"),r("blur"),r("select"),r("change"),r("submit"),r("reset")]),t("Device",[r("deviceorientation"),r("devicemotion")]),t("DOM Mutation",[r("DOMActivate"),r("DOMFocusIn"),r("DOMFocusOut"),r("DOMAttrModified"),r("DOMCharacterDataModified"),r("DOMNodeInserted"),r("DOMNodeInsertedIntoDocument"),r("DOMNodeRemoved"),r("DOMNodeRemovedFromDocument"),r("DOMSubtreeModified"),r("DOMContentLoaded")]),t("Drag / drop",[r("drag"),r("dragstart"),r("dragend"),r("dragenter"),r("dragover"),r("dragleave"),r("drop")]),t("Keyboard",[r("keydown"),r("keyup"),r("keypress"),r("input")]),t("Load",[r("load"),r("beforeunload"),r("unload"),r("abort"),r("error"),r("hashchange"),r("popstate")]),t("Mouse",[r("auxclick"),r("click"),r("dblclick"),r("mousedown"),r("mouseup"),r("mouseover"),r("mousemove"),r("mouseout"),r("mouseenter"),r("mouseleave"),r("mousewheel"),r("wheel"),r("contextmenu")]),t("Pointer",[r("pointerover"),r("pointerout"),r("pointerenter"),r("pointerleave"),r("pointerdown"),r("pointerup"),r("pointermove"),r("pointercancel"),r("gotpointercapture"),r("lostpointercapture")]),t("Touch",[r("touchstart"),r("touchmove"),r("touchend"),r("touchcancel")]),t("Worker",[r("message"),r("messageerror")]);let n=["xmlhttprequest","xmlhttprequestupload"];return t("XHR",[r("readystatechange",n),r("load",n),r("loadstart",n),r("loadend",n),r("abort",n),r("error",n),r("progress",n),r("timeout",n)]),rH}var _w=Ta(function(t,e){let r=" ".repeat(e),i=`
`;function n(o){if(o instanceof Uint8Array)return Uint8Array;if(o instanceof Uint8ClampedArray)return Uint8ClampedArray;if(o instanceof Uint16Array)return Uint16Array;if(o instanceof Uint32Array)return Uint32Array;if(o instanceof BigUint64Array)return BigUint64Array;if(o instanceof Int8Array)return Int8Array;if(o instanceof Int32Array)return Int32Array;if(o instanceof BigInt64Array)return BigInt64Array;if(o instanceof Float32Array)return Float32Array;if(o instanceof Float64Array)return Float64Array}function s(o,a=0,u=[]){switch(typeof o){case"bigint":return`${o}n`;case"boolean":return o.toString();case"function":{let p=o.toString().replace(/^[^\s]+\(/,"function(").split(/\r?\n/g),f=/^$/;for(let g of p){let m=/^[ \t]+/.exec(g);if(m){f=new RegExp(`^[ \\t]{0,${m[0].length}}`);break}}return p.map((g,m)=>m===0?g:(g=g.replace(f,""),m===p.length-1?r.repeat(a)+g:r.repeat(a+1)+g)).join(i)}case"number":return`${o}`;case"object":if(o===null)return"null";if(u.includes(o))return"[Circular]";if(o instanceof Date)return`"${o.toISOString()}"`;if(typeof Node<"u"&&t instanceof Node)return t.outerHTML;let c=n(o);if(c)return`new ${c.name}([${o.join(", ")}])`;if(o instanceof ArrayBuffer)return`new Uint8Array([${new Uint8Array(o).join(", ")}]).buffer`;if(o instanceof Array)return["[",...o.map(p=>r.repeat(a+1)+s(p,a+1,[...u,o])+","),r.repeat(a)+"]"].join(i);let l=o;return["{",...Object.keys(l).map(p=>r.repeat(a+1)+(/^[$a-z_][0-9a-z_$]*$/i.test(p)?p:JSON.stringify(p))+": "+s(l[p],a+1,[...u,o])+","),r.repeat(a)+"}"].join(i);case"string":return JSON.stringify(o);case"symbol":return o.toString();case"undefined":return"undefined";default:return String(o)}}try{return s(t)}catch{return""+t}}),iR=zt(`
  function(spaces2) {
    const result = ${_w.expr("this","spaces2")};
    return result;
  }
`);var en=F(vt());var tu=F(pe());var nR=zt(function(){let t={__proto__:this.__proto__},e=Object.getOwnPropertyNames(this);for(let r=0;r<e.length;++r){let i=e[r],n=i>>>0;if(String(n>>>0)===i&&n>>>0!==4294967295)continue;let s=Object.getOwnPropertyDescriptor(this,i);s&&Object.defineProperty(t,i,s)}return t});var sR=zt(function(t,e){let r={},i=t===-1?0:t,n=e===-1?this.length:t+e;for(let s=i;s<n&&s<this.length;++s){let o=Object.getOwnPropertyDescriptor(this,s);o&&Object.defineProperty(r,s,o)}return r});var oR=zt(function(t){return t.call(this)});var ww=zt(function(t,e){let{buffer:r,byteLength:i,byteOffset:n}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,s=n+Math.min(t,i),o=Math.max(0,Math.min(e,i-t));return a(new Uint8Array(r,s,o));function a(u){let c="0123456789abcdef",l="";for(let p=0;p<u.length;p++){let f=u[p];l+=c[f>>>4]+c[f&15]}return l}});var Iw=zt(function(t,e){let r=u(e),{buffer:i,byteLength:n,byteOffset:s}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,o=s+Math.min(t,n),a=Math.max(0,Math.min(r.length,n-t));return new Uint8Array(i,o,a).set(r.subarray(0,a)),a;function u(c){let l=new Uint8Array(c.length>>>1);for(let p=0;p<c.length;p+=2)l[p>>>1]=parseInt(c.slice(p,p+2),16);return l}});var Jf=(()=>{let t=0,e=2147483647-1;return()=>t++%e+1})(),kw=t=>{if(typeof t=="string")return{value:t};let e=t;return e.objectId?{objectId:e.objectId}:e.unserializableValue?{unserializableValue:e.unserializableValue}:{value:e.value}},WQ=new Set(["typedarray","dataview","arraybuffer","webassemblymemory"]);var dR=1024,qQ=/^[$a-z_][0-9a-z_$]*$/i,VQ=/^#[0-9a-z_$]+$/i,GQ=t=>t.hasOwnProperty("configurable"),aR=(t,e,r)=>{let i=yT(t,Fm(e),r);return bs(i)},uR="<<indescribable>>",hR=t=>{if(!t.startsWith(uR))return t;let e,r;try{[e,r]=JSON.parse(t.slice(uR.length))}catch{return t}return en.t("{0} (couldn't describe: {1})",e,r)},Aw=t=>!!t&&typeof t=="object"&&"readMemory"in t&&"writeMemory"in t,cR={["PARAMETER"]:{name:en.t("Parameters"),sortOrder:-10},["LOCAL"]:{name:en.t("Locals"),sortOrder:-9},["GLOBAL"]:{name:en.t("Globals"),sortOrder:-8}},ru=class{constructor(e,r,i,n,s,o,a){this.cdp=e;this.parent=r;this.vars=n;this.locationProvider=s;this.currentRef=o;this.settings=a;this.name=i.name,this.presentationHint=i.presentationHint,this.sortOrder=i.sortOrder||0}get customDescriptionGenerator(){return this.settings.customDescriptionGenerator}createVariable(e,r,...i){var s;let n=new e(new ru(this.cdp,(s=this.currentRef)==null?void 0:s.call(this),r,this.vars,this.locationProvider,()=>n,this.settings),...i);return n.id>0&&this.vars.add(n),n}createVariableByType(e,r,i){if(gw(r))return this.createVariable(sH,e,r);if(r.objectId){if(r.subtype==="map"||r.subtype==="set")return this.createVariable(Lw,e,r,i);if(!mw.has(r.subtype))return this.createVariable(zf,e,r,i)}return this.createVariable(Tr,e,r)}async getDescriptionSymbols(e){return this.settings.descriptionSymbols??=tR({cdp:this.cdp,args:[],objectId:e}).then(r=>({objectId:r.objectId}),()=>({value:[]})),await this.settings.descriptionSymbols}async createObjectPropertyVars(e,r){var c;let i=[];if(this.settings.customPropertiesGenerator){let{result:l,errorDescription:p}=await this.evaluateCodeForObject(e,this.settings.customPropertiesGenerator,[]);l&&l.type!=="undefined"?e=l:i.push([this.createVariable(Pw,{name:"",sortOrder:-1},l,(l==null?void 0:l.description)||p||en.t("Unknown error"))])}if(!e.objectId)return[];r&&this.cdp.DotnetDebugger.setEvaluationOptions({options:r,type:"variable"});let[n,s,o]=await Promise.all([this.cdp.Runtime.getProperties({objectId:e.objectId,accessorPropertiesOnly:!0,ownProperties:!1,generatePreview:!0}),this.cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0,generatePreview:!0}),this.cdp.Runtime.callFunctionOn({functionDeclaration:rR.decl(`${dR}`,this.settings.customDescriptionGenerator||"null"),arguments:[await this.getDescriptionSymbols(e.objectId)],objectId:e.objectId,throwOnSideEffect:!0,returnByValue:!0}).then(l=>(l==null?void 0:l.result.value)||{}).catch(()=>({}))]);if(!n||!s)return[];let a=new Map,u=[];for(let l of n.result){if(l.symbol){u.push(l);continue}l.name==="__proto__"&&((c=s.internalProperties)!=null&&c.some(p=>p.name==="[[Prototype]]"))||a.set(l.name,l)}for(let l of s.result)l.get||l.set||(l.symbol?u.push(l):a.set(l.name,l));for(let l of[a.values(),u.values()])for(let p of l)i.push(this.createPropertyVar(p,e,o!=null&&o.hasOwnProperty(p.name)?hR(o[p.name]):void 0));for(let l of s.privateProperties??[])i.push(this.createPropertyVar(l,e,void 0,{presentationHint:{visibility:"private"},sortOrder:1}));for(let l of s.internalProperties||[]){if(l.name==="[[StableObjectId]]")continue;let p;l.name==="[[FunctionLocation]]"&&l.value&&l.value.subtype==="internal#location"?p=this.createVariable(xw,{name:l.name,presentationHint:{visibility:"internal",attributes:["readOnly"]},sortOrder:2},l.value):l.value!==void 0&&(p=this.createVariableByType({name:l.name,presentationHint:{visibility:"internal"},sortOrder:2},l.value)),p&&i.push([p])}return Ia(await Promise.all(i))}async createPropertyVar(e,r,i,n){let s=[],o=e.get&&e.get.type!=="undefined",a=e.set&&e.set.type!=="undefined",u={name:e.name,presentationHint:{},sortOrder:0,...n};return n||(GQ(e)?(e.enumerable===!1&&!o&&(u.presentationHint.visibility="internal",u.sortOrder=1),(e.writable===!1||o&&!a)&&(u.presentationHint.attributes=["readOnly"])):(u.presentationHint.visibility="private",u.sortOrder=1)),"value"in e&&e.value&&s.push(this.createVariableByType(u,e.value,i)),o?s.push(this.createVariable(Tw,u,e.get,r)):a&&s.push(this.createVariable(Dw,u,e.set)),s}async evaluateCodeForObject(e,r,i){try{let n=await this.cdp.Runtime.callFunctionOn({objectId:e.objectId,functionDeclaration:r,arguments:i.map(kw)});if(n){if(n.exceptionDetails===void 0)return{result:n.result};if(n&&n.result.description)return{errorDescription:n.result.description}}return{errorDescription:en.t("Unknown error")}}catch(n){return{errorDescription:n.stack||n.message||String(n)}}}},KQ=t=>typeof t=="number"||/^[0-9]+$/.test(t),Tr=class{constructor(e,r){this.context=e;this.remoteObject=r;this.id=Jf()}get name(){return this.context.name}get sortOrder(){return this.context.sortOrder}get accessor(){let{parent:e,name:r}=this.context;if(e instanceof Xf)return e.accessor;if(!(e instanceof Tr))return this.context.name;let i=e.context.parent;if(i instanceof Tr){if(this.remoteObject.subtype==="internal#entry")return`[...${i.accessor}.entries()][${+r}]`;if(e.remoteObject.subtype==="internal#entry")return`${e.accessor}[${this.name==="key"?0:1}]`}return KQ(r)?`${e.accessor}[${r}]`:qQ.test(r)?`${e.accessor}.${r}`:e.accessor==="this"&&VQ.test(r)?`${e.accessor}.${r}`:`${e.accessor}[${JSON.stringify(r)}]`}async toDap(e,r){let i=this.context.name;return this.context.parent instanceof al&&(i=await this.context.parent.getRename(i)),Promise.resolve({name:i,value:Za(this.remoteObject,e,r),evaluateName:this.accessor,type:this.remoteObject.type,variablesReference:0,presentationHint:this.context.presentationHint})}async setProperty(e,r){let i=await this.context.cdp.Runtime.callFunctionOn({objectId:this.remoteObject.objectId,functionDeclaration:`function(a) { return this[a] = ${r}; ${ft()} }`,arguments:[kw(e)],silent:!0});if(!i)throw new Z(Xe(en.t("Unable to set variable value")));if(i.exceptionDetails)throw new Z(mR(i.exceptionDetails));return this.context.createVariableByType({name:e},i.result)}async getChildren(e){return Promise.resolve([])}},iH=class{constructor(e){this.child=e;this.id=Jf()}getChildren(){return Promise.resolve([this.child])}},Sw=class extends Tr{constructor(r,i,n,s){var o;super(r,{type:((o=n[0])==null?void 0:o.type)??"string"});this.value=i;this.args=n;this.stackTrace=s}toDap(){return Promise.resolve({name:this.context.name,value:this.value,variablesReference:this.stackTrace||this.args.some(Qa)?this.id:0})}getChildren(r){let i=[],{args:n,stackTrace:s}=this;for(let o=0;o<n.length;++o)Qa(n[o])&&i.push(this.context.createVariableByType({name:`arg${o}`,sortOrder:o},n[o]));return s&&i.push(this.context.createVariable(Ew,{name:"",sortOrder:Number.MAX_SAFE_INTEGER},this.remoteObject,s)),Promise.resolve(i)}},Ew=class extends Tr{constructor(r,i,n){super(r,i);this.stacktrace=n}async toDap(){return{name:"",value:await this.stacktrace.format(),variablesReference:0}}},xw=class extends Tr{constructor(r,i){super(r,i);this.location=i.value}async toDap(){return{name:this.context.name,value:await this.context.locationProvider.renderDebuggerLocation(this.location),variablesReference:0,presentationHint:{visibility:"internal"}}}},Pw=class extends Tr{constructor(r,i,n){super(r,i);this.message=n}get accessor(){if(!(this.context.parent instanceof Tr))throw new Error("ErrorVariable must have a parent Variable");return this.context.parent.accessor}toDap(){return Promise.resolve({name:this.context.name,value:this.message,variablesReference:0})}},nH=Symbol("NoStringRepr"),zf=class extends Tr{constructor(r,i,n){super(r,i);this.customStringRepr=n}async toDap(r,i){let[n,s]=await Promise.all([await super.toDap(r,i),await this.getValueRepresentation(r)]);return{...n,type:this.remoteObject.className||this.remoteObject.subtype||this.remoteObject.type,variablesReference:this.id,memoryReference:WQ.has(this.remoteObject.subtype)?String(this.id):void 0,value:s}}async getValueRepresentation(r){if(typeof this.customStringRepr=="string")return this.customStringRepr;if(!this.context.parent&&this.remoteObject.objectId&&this.customStringRepr!==nH)try{let i=await this.context.cdp.Runtime.callFunctionOn({functionDeclaration:tH.decl(`${dR}`,this.context.customDescriptionGenerator||"null"),objectId:this.remoteObject.objectId,returnByValue:!0});if(i!=null&&i.result.value)return this.customStringRepr=hR(i.result.value)}catch{this.customStringRepr=nH}return this.context.name==="__proto__"&&this.remoteObject.description||Za(this.remoteObject,r)}async readMemory(r,i){let n=await ww({cdp:this.context.cdp,args:[r,i],objectId:this.remoteObject.objectId,returnByValue:!0});return Buffer.from(n.value,"hex")}async writeMemory(r,i){return(await Iw({cdp:this.context.cdp,args:[r,i.toString("hex")],objectId:this.remoteObject.objectId,returnByValue:!0})).value}getChildren(r){return this.context.createObjectPropertyVars(this.remoteObject,r.evaluationOptions)}},lR="[[Entries]]",Lw=class extends zf{constructor(r,i){var s;super(r,i,nH);this.baseChildren=Ae(()=>super.getChildren({variablesReference:this.id}));let n=i.preview;this.isMap=n.subtype==="map",this.size=Number((s=n.properties.find(o=>o.name==="size"))==null?void 0:s.value)??void 0}async toDap(r){let i=await super.toDap(r);return this.size&&this.size>100&&(i.indexedVariables=this.size),i}async getChildren(r){var s;let i=await this.baseChildren();return[...(await((s=i.find(o=>o.name===lR))==null?void 0:s.getChildren(r))||[]).filter(o=>o.sortOrder===0),...i.filter(o=>o.name!==lR)]}},sH=class extends zf{constructor(r,i){super(r,i,nH);this.length=0;let n=String(i.description).match(/\(([0-9]+)\)/);this.length=n?+n[1]:0}async toDap(r){return{...await super.toDap(r),indexedVariables:this.length>100?this.length:void 0,namedVariables:this.length>100?1:void 0}}async getChildren(r){switch(r==null?void 0:r.filter){case"indexed":return this.getArraySlots(r);case"named":return this.getArrayProperties();default:return Promise.all([this.getArrayProperties(),this.getArraySlots()]).then(Ia)}}async getArrayProperties(){try{let r=await nR({cdp:this.context.cdp,args:[],objectId:this.remoteObject.objectId,generatePreview:!0});return this.context.createObjectPropertyVars(r)}catch{return[]}}async getArraySlots(r){let i=r&&typeof r.start<"u"?r.start:-1,n=r&&typeof r.count<"u"?r.count:-1,s;try{s=await sR({cdp:this.context.cdp,generatePreview:!1,args:[i,n],objectId:this.remoteObject.objectId})}catch{return[]}let o=await this.context.createObjectPropertyVars(s);return s.objectId&&await this.context.cdp.Runtime.releaseObject({objectId:s.objectId}),o}},Cw=class extends sH{async toDap(e){return this.remoteObject.preview?{...await super.toDap(e),name:Jk(this.remoteObject.preview)}:super.toDap(e)}},Xf=class extends Tr{constructor(e,r){super(e,r)}getChildren(e){return this.context.createObjectPropertyVars(this.remoteObject)}},Dw=class extends Xf{async toDap(e,r){return{...await super.toDap(e,r),value:"write-only",variablesReference:this.id}}},Tw=class extends Xf{constructor(r,i,n){super(r,i);this.parentObject=n}async toDap(r,i){let n=await super.toDap(r,i);return n.variablesReference=this.id,n.presentationHint={...n.presentationHint,lazy:!0},n}async getChildren(r){try{let i=await oR({cdp:this.context.cdp,objectId:this.parentObject.objectId,args:[new tf(this.remoteObject.objectId)]});return[this.context.createVariableByType({name:this.name,presentationHint:this.context.presentationHint},i)]}catch(i){if(!(i instanceof Da))throw i}return super.getChildren(r)}},oH=class{constructor(e,r,i){this.context=e;this.variable=r;this.scopeRef=i;this.id=Jf();this.sortOrder=0}toDap(){return Promise.resolve({name:this.context.name,value:this.variable.description||"",variablesReference:this.variable.getChildren?this.id:0,memoryReference:this.variable.linearMemoryAddress?String(this.id):void 0,presentationHint:this.context.presentationHint})}async getChildren(){var r,i;return(await((i=(r=this.variable).getChildren)==null?void 0:i.call(r))||[]).map(n=>this.context.createVariable(oH,{name:n.name,presentationHint:oH.presentationHint},n.value,this.scopeRef))}async readMemory(e,r){let i=this.variable.linearMemoryAddress;if(i===void 0)return;let n=await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${ww.source}).call(memories[0].buffer, ${+i+e}, ${+r}) ${ft()}`,returnByValue:!0});if(!n)throw new Da({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});return Buffer.from(n.result.value,"hex")}async writeMemory(e,r){let i=this.variable.linearMemoryAddress;if(i===void 0)return 0;let n=await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${Iw.source}).call(memories[0].buffer, ${+i+e}, ${JSON.stringify(r.toString("hex"))}) ${ft()}`,returnByValue:!0});return(n==null?void 0:n.result.value)||0}},Kf=oH;Kf.presentationHint={attributes:["readOnly"]};var pR,$w=class{constructor(e,r,i,n){this.context=e;this.kind=r;this.variables=i;this.scopeRef=n;this.id=Jf();this.sortOrder=((pR=cR[this.kind])==null?void 0:pR.sortOrder)||0}toDap(){var e;return Promise.resolve({name:((e=cR[this.kind])==null?void 0:e.name)||this.kind,value:"",variablesReference:this.id})}getChildren(){return Promise.all(this.variables.map(async e=>{let r=await e.evaluate();return this.context.createVariable(Kf,{name:e.name,presentationHint:Kf.presentationHint},r,this.scopeRef)}))}},al=class{constructor(e,r,i,n,s){this.remoteObject=e;this.context=r;this.ref=i;this.extraProperties=n;this.renameProvider=s;this.id=Jf()}async getChildren(e){let r=await this.context.createObjectPropertyVars(this.remoteObject),i=new Set(r.map(n=>n.name));for(let n of this.extraProperties)i.has(n.name)||r.push(this.context.createVariableByType({name:n.name},n.value));return r}async getRename(e){return(await this.renameProvider.provideOnStackframe(this.ref.stackFrame)).getOriginalName(e,this.ref.stackFrame.rawPosition)||e}async setProperty(e,r){let i=await this.context.cdp.Debugger.evaluateOnCallFrame({expression:`${r} ${ft()}`,callFrameId:this.ref.callFrameId});if(!i)throw new Z(Ye(en.t("Invalid expression")));if(i.exceptionDetails)throw new Z(mR(i.exceptionDetails));return await this.context.cdp.Debugger.setVariableValue({callFrameId:this.ref.callFrameId,scopeNumber:this.ref.scopeNumber,variableName:e,newValue:kw(i.result)}),this.context.createVariableByType({name:e},i.result)}},Mw=class{constructor(){this.value=new Map}get(e){return this.value.get(e)}add(e){this.value.set(e.id,e)}clear(){this.value.clear()}},$o=class{constructor(e,r,i,n,s){this.renameProvider=e;this.cdp=r;this.dap=i;this.launchConfig=n;this.locationProvider=s;this.vars=new Mw;this.contextSettings={customDescriptionGenerator:n.customDescriptionGenerator&&aR(["defaultValue"],n.customDescriptionGenerator,!1),customPropertiesGenerator:n.customPropertiesGenerator&&aR([],n.customPropertiesGenerator,!1)}}createDetached(){return new $o(this.renameProvider,this.cdp,this.dap,this.launchConfig,this.locationProvider)}clear(){this.vars.clear()}createFloatingVariable(e,r){return this.createFloatingContext().createVariableByType({name:e},r)}createVariableForOutput(e,r,i,n){let s=this.createFloatingContext(),o=r.length===1&&n==="table"?s.createVariable(Cw,{name:""},r[0]):r.length===1&&Qa(r[0])&&!i?s.createVariableByType({name:""},r[0]):s.createVariable(Sw,{name:""},e,r,i),a=new iH(o);return this.vars.add(a),a}createScope(e,r,i){let n=new al(e,new ru(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>n,this.contextSettings),r,i,this.renameProvider);return this.vars.add(n),n}createWasmScope(e,r,i){let n=new $w(new ru(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>n,this.contextSettings),e,r,i);return this.vars.add(n),n}hasVariable(e){return!!this.vars.get(e)}hasMemory(e){return Aw(this.vars.get(Number(e)))}async readMemory(e,r,i){let n=this.vars.get(Number(e));return Aw(n)?n.readMemory(r,i):void 0}async writeMemory(e,r,i){let n=this.vars.get(Number(e)),s=Aw(n)?await n.writeMemory(r,i):0;return s>0&&this.dap.invalidated({areas:["variables"]}),s}async getVariableNames(e){let r=this.vars.get(e.variablesReference);return r?(await r.getChildren(e)).filter(_a(Tr)).map(n=>n.name):[]}async getVariables(e){let r=this.vars.get(e.variablesReference);if(!r)return[];let i=await r.getChildren(e);return(await Promise.all(i.map(s=>s.toDap(r instanceof al||r instanceof iH?"repl":"propertyValue",e.format).then(o=>({v:s,dap:o}))))).sort((s,o)=>s.v.sortOrder-o.v.sortOrder||+s.dap.name-+o.dap.name||s.dap.name.localeCompare(o.dap.name)).map(s=>s.dap)}async setVariable(e){let r=this.vars.get(e.variablesReference);if(!e.value)throw new Z(Ye(en.t("Cannot set an empty value")));if(r instanceof al||r instanceof Tr)return await(await r.setProperty(e.name,e.value)).toDap("propertyValue",e.format);throw new Z(Xe(en.t("Variable not found")))}createFloatingContext(){return new ru(this.cdp,void 0,{name:"<unnamed>"},this.vars,this.locationProvider,void 0,this.contextSettings)}};$o=z([(0,tu.injectable)(),E(0,(0,tu.inject)(vo)),E(1,(0,tu.inject)(dt)),E(2,(0,tu.inject)(qr)),E(3,(0,tu.inject)(Ne))],$o);function mR(t){let e=t.exception&&eu(t.exception).title||t.text;return Ye(e)}var aH=class{constructor(e){this.description=e;this.sourceMapLoads=new Map;this.scripts=[]}get isDefault(){return this.description.auxData&&this.description.auxData.isDefault}async remove(e){await Promise.all(this.scripts.map(async r=>{let i=await r.source;i.filterScripts(n=>n.executionContextId!==this.description.id),i.scripts.length||e.removeSource(i)}))}},Rw=class{constructor(e){this._obj=e;this._dapDeferred=je()}resolve(){this._dapDeferred.resolve(this._obj)}with(e){return this._dapDeferred.hasSettled()?e(this._obj):this._dapDeferred.promise.then(r=>e(r))}},XQ=50,gR=(t,e)=>t.sourceReference===e.sourceReference&&Vm(t.path||"",e.path||""),JQ=()=>`
//# sourceURL=eval-${(0,HR.randomBytes)(4).toString("hex")}${".repl"}
`,Ow=class{enqueue(e,r){var i;if(!this.queue||this.queue.operation!==e){let n=((i=this.queue)==null?void 0:i.result.then(r,r))??r(),s=this.queue={operation:e,result:n.finally(()=>{this.queue===s&&(this.queue=void 0)})}}return this.queue.result}},Mo=class{constructor(e,r,i,n,s,o,a,u,c,l,p,f,g,m){this.target=n;this.logger=o;this.evaluator=a;this.completer=u;this.launchConfig=c;this._breakpointManager=l;this.console=p;this.exceptionPause=f;this._smartStepper=g;this.shutdown=m;this._executionContexts=new Map;this._excludedCallers=[];this.stateQueue=new Ow;this._onPausedEmitter=new J;this.disposed=!1;this.debuggerReady=je();this.onPaused=this._onPausedEmitter.event;this._dap=new Rw(i),this._sourceContainer=e,this._cdp=r,this.id=Mo._lastThreadId++,this.replVariables=new $o(s,this._cdp,i,c,this),e.onSourceMappedSteppingChange(()=>this.refreshStackTrace()),this._initialize()}setExcludedCallers(e){this._excludedCallers=e}cdp(){return this._cdp}name(){return this.target.name()}pausedDetails(){return this._pausedDetails}pausedVariables(){return this._pausedVariables}defaultExecutionContext(){for(let e of this._executionContexts.values())if(e.isDefault)return e}resume(){return this.stateQueue.enqueue("resume",async()=>(this._sourceContainer.clearDisabledSourceMaps(),!await this._cdp.Debugger.resume({})&&this._pausedDetails!==void 0?Xe(Be.t("Unable to resume")):{allThreadsContinued:!1}))}pause(){return this.stateQueue.enqueue("pause",async()=>(this._expectedPauseReason={reason:"pause"},await this._cdp.Debugger.pause({})?{}:Xe(Be.t("Unable to pause"))))}stepOver(){return this.stateQueue.enqueue("stepOver",async()=>{this._expectedPauseReason={reason:"step",direction:1};let e=await this.getCurrentSkipList(1);return await this._cdp.Debugger.stepOver({skipList:e})?{}:Xe(Be.t("Unable to step next"))})}stepInto(e){return this.stateQueue.enqueue("stepInto",async()=>{var i,n;this._waitingForStepIn={lastDetails:this._pausedDetails},this._expectedPauseReason={reason:"step",direction:0};let r=(n=(i=this._pausedDetails)==null?void 0:i.stepInTargets)==null?void 0:n[e];if(r){let s=await this._cdp.Debugger.setBreakpoint({location:r.breakLocation});if(this._waitingForStepIn.intoTargetBreakpoint=s==null?void 0:s.breakpointId,await this._cdp.Debugger.resume({}))return{}}else{let s=await this.getCurrentSkipList(0);if(await this._cdp.Debugger.stepInto({breakOnAsyncCall:!0,skipList:s}))return{}}return Xe(Be.t("Unable to step in"))})}stepOut(){return this.stateQueue.enqueue("stepOut",async()=>(this._expectedPauseReason={reason:"step",direction:2},await this._cdp.Debugger.stepOut({})?{}:Xe(Be.t("Unable to step out"))))}async getCurrentSkipList(e){if(!this._pausedDetails)return;let[r]=await this._pausedDetails.stackTrace.loadFrames(1);if(!r||!yR(r))return;let i=await r.getStepSkipList(e);if(i)return Zs.simplify(i).map(n=>({start:n.begin.base0,end:n.end.base0,scriptId:r.root.scriptId}))}_stackFrameNotFoundError(){return Xe(Be.t("Stack frame not found"))}_evaluateOnAsyncFrameError(){return Xe(Be.t("Unable to evaluate on async stack frame"))}async restartFrame(e){var s,o;let r=(o=(s=this._pausedDetails)==null?void 0:s.stackTrace.frame(e.frameId))==null?void 0:o.root;if(!r)return this._stackFrameNotFoundError();let i=r.callFrameId();return i?await this._cdp.Debugger.restartFrame({callFrameId:i,mode:"StepInto"})?(this._expectedPauseReason={reason:"frame_entry",description:Be.t("Paused on frame entry")},r.canExplicitlyBeRestarted||await this._cdp.Debugger.stepInto({}),{}):Ye(Be.t("Frame could not be restarted")):Ye(Be.t("Cannot restart asynchronous frame"))}async stackTrace(e){return this._pausedDetails?this._pausedDetails.stackTrace.toDap(e):Xe(Be.t("Thread is not paused"))}async scopes(e){let r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0;return r?r.scopes():this._stackFrameNotFoundError()}async exceptionInfo(){let e=this._pausedDetails&&this._pausedDetails.exception;if(!e)return Xe(Be.t("Thread is not paused on exception"));let r=eu(e);return{exceptionId:r.title,breakMode:"all",details:{stackTrace:r.stackTrace,evaluateName:void 0}}}async revealPage(){return this._cdp.Page.bringToFront({}),{}}async completions(e){var n;let r;if(e.frameId!==void 0){if(r=this._pausedDetails?(n=this._pausedDetails.stackTrace.frame(e.frameId))==null?void 0:n.root:void 0,!r)return this._stackFrameNotFoundError();if(!r.callFrameId())return this._evaluateOnAsyncFrameError()}if(e.line===1&&e.text.startsWith("cd "))return{targets:this.getExecutionContextCompletions(e)};let i=await this.completer.completions({executionContextId:this._selectedContext?this._selectedContext.description.id:void 0,stackFrame:r,expression:e.text,position:new Ot(e.line||1,e.column)});return{targets:[...this.getExecutionContextCompletions(e),...i]}}getExecutionContextCompletions(e){if(e.line&&e.line>1)return[];let r=e.text.slice(0,e.column).trim();return[...this._executionContexts.values()].map(i=>`cd ${this.target.executionContextName(i.description)}`).filter(i=>i.startsWith(r)).map(i=>({label:i,start:0,length:e.text.length}))}async _evaluteWasm(e,r,i){var l;if(!e)return;let n=e.root,s=n.callFrameId(),o=await((l=n.scriptSource)==null?void 0:l.source);if(!Ra(o)||!s)return;let a=await o.sourceMap.value.promise;if(!a.evaluate)return;let u=new rr(e instanceof Qf?e.inlineFrameIndex:0,n.rawPosition.base0.columnNumber),c=await a.evaluate(s,u,r.expression);if(c)return await i.createFloatingVariable(r.expression,c).toDap(r.context,r.format)}async _evaluteJs(e,r,i){let n=e==null?void 0:e.root.callFrameId(),s=r.context==="clipboard"?{expression:_w.expr(r.expression,"2"),includeCommandLineAPI:!0,returnByValue:!0,objectGroup:"console"}:{expression:r.expression,includeCommandLineAPI:!0,objectGroup:"console",generatePreview:!0,timeout:r.context==="hover"?this.getHoverEvalTimeout():void 0};if(r.context==="repl"){if(s.expression=af(s.expression),s.expression.indexOf("await")!==-1){let u=NT(s.expression);u&&(s.expression=u,s.awaitPromise=!0)}s.expression+=JQ()}r.evaluationOptions&&this.cdp().DotnetDebugger.setEvaluationOptions({options:r.evaluationOptions,type:"evaluation"});let o=this.evaluator.evaluate(n?{...s,callFrameId:n}:{...s,contextId:this._selectedContext?this._selectedContext.description.id:void 0},{isInternalScript:!1,stackFrame:e==null?void 0:e.root});if(r.context==="repl")return await this._evaluateRepl(r,o,r.format);let a=await o;if(!a)throw new Z(Xe(Be.t("Unable to evaluate")));if(a.exceptionDetails){let u=a.exceptionDetails.exception?eu(a.exceptionDetails.exception).title:a.exceptionDetails.text;throw u.startsWith("Uncaught")||(u="Uncaught "+u),new Z(Xe(u))}return i.createFloatingVariable(s.expression,a.result).toDap(r.context,r.format)}async evaluate(e){let r,i;if(e.frameId!==void 0){if(i=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!i)throw new Z(this._stackFrameNotFoundError());if(r=i.root.callFrameId(),!r)throw new Z(this._evaluateOnAsyncFrameError())}if(e.context==="repl"&&e.expression.startsWith("cd ")){let o=e.expression.substring(3).trim();for(let a of this._executionContexts.values())if(this.target.executionContextName(a.description)===o)return this._selectedContext=a,{result:`[${o}]`,variablesReference:0}}let n=r?this._pausedVariables:this.replVariables;if(!n)throw new Z(Xe(Be.t("Unable to evaluate")));let s=await this._evaluteWasm(i,e,n)??await this._evaluteJs(i,e,n);return{type:s.type,result:s.value,variablesReference:s.variablesReference,namedVariables:s.namedVariables,indexedVariables:s.indexedVariables,memoryReference:s.memoryReference}}getHoverEvalTimeout(){var r;let e=(r=this.launchConfig.timeouts)==null?void 0:r.hoverEvaluation;if(e===void 0)return 500;if(!(e<=0))return e}async _evaluateRepl(e,r,i){let n=await r;if(!n)return{name:e.expression,value:"",variablesReference:0};if(n.exceptionDetails){let u=await new Yf(n.exceptionDetails).toDap(this);throw new Z(o$(u.output))}let s=this._selectedContext&&this.defaultExecutionContext()!==this._selectedContext?`\x1B[33m[${this.target.executionContextName(this._selectedContext.description)}] `:"",o=await this.replVariables.createFloatingVariable(e.expression,n.result).toDap("repl",i),a=Jg("repl").budget;return o.variablesReference===0&&o.value.length===a&&setImmediate(()=>this.console.enqueue(this,{toDap:()=>({output:Be.t("Output has been truncated to the first {0} characters. Run `{1}` to copy the full output.",a,`copy(${e.expression.trim()})`),category:"stdout"})})),{...o,value:`${s}${o.value}`}}_initialize(){this._cdp.Runtime.on("executionContextCreated",e=>{this._executionContextCreated(e.context)}),this._cdp.Runtime.on("executionContextDestroyed",e=>{this._executionContextDestroyed(e.executionContextId)}),this._cdp.Runtime.on("executionContextsCleared",()=>{this.launchConfig.noDebug||this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.replVariables.clear(),this._executionContextsCleared()}),this._cdp.Inspector.on("targetReloadedAfterCrash",()=>{this._breakpointManager.reapply()}),this.launchConfig.outputCapture==="console"&&(this._cdp.Runtime.on("consoleAPICalled",e=>{this.console.dispatch(this,e)}),this._cdp.Runtime.on("exceptionThrown",e=>{this.console.enqueue(this,new Yf(e.exceptionDetails))})),this._cdp.Runtime.on("inspectRequested",e=>{e.hints.copyToClipboard?this._copyObjectToClipboard(e.object):e.hints.queryObjects?this.console.enqueue(this,new eH(e.object,this.cdp())):this._revealObject(e.object)}),this._cdp.Debugger.on("paused",async e=>this._onPaused(e)),this._cdp.Debugger.on("resumed",()=>this.onResumed()),this._cdp.Debugger.on("scriptParsed",e=>this._onScriptParsed(e)),this._cdp.Debugger.on("scriptFailedToParse",e=>this._onScriptParsed(e)),this._cdp.Runtime.enable({}),this._cdp.Profiler.enable({}),this.launchConfig.noDebug?this.logger.info("runtime.launch","Running with noDebug, so debug domains are disabled"):this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.target.initialize(),this._dap.with(e=>e.thread({reason:"started",threadId:this.id}))}dapInitialized(){this._dap.resolve()}async getStepInTargets(e){var l,p;let r=this._pausedDetails;if(!r)return[];let i=r.stackTrace.frames.find(f=>f.frameId===e);if(!(i instanceof $t))return[];let n=await i.uiLocation();if(!n)return[];let s=r.event.callFrames[0].location,[o,a]=await Promise.all([this._breakpointManager.getBreakpointLocations(this,n.source,new Ot(n.lineNumber,1),new Ot(n.lineNumber+1,1)).then(f=>f.filter(g=>g.breakLocation.lineNumber!==s.lineNumber||g.breakLocation.columnNumber!==s.columnNumber)),n.source.content()]),u=((l=r.stepInTargets)==null?void 0:l.length)||0;r.stepInTargets=((p=r.stepInTargets)==null?void 0:p.concat(o))||o;let c=a&&new fo(a);return o.map((f,g)=>{let m=f.uiLocations.find(b=>b.source===n.source);if(!m)return;if(!c)return{id:u+g,label:`Column ${m}`,line:m.lineNumber,column:m.columnNumber};let y=BT(a.slice(c.getLineOffset(m.lineNumber-1),c.getLineOffset(m.lineNumber)),m.columnNumber-1);if(y)return{id:u+g,label:y.text,line:m.lineNumber,column:y.start+1,endLine:m.lineNumber,endColumn:y.end+1}}).filter(tr)}async refreshStackTrace(){this._pausedDetails&&(this._pausedDetails=await this._createPausedDetails(this._pausedDetails.event),this._onThreadResumed(),await this._onThreadPaused(this._pausedDetails))}_executionContextCreated(e){let r=new aH(e);this._executionContexts.set(e.id,r)}_executionContextDestroyed(e){let r=this._executionContexts.get(e);r&&(this._executionContexts.delete(e),r.remove(this._sourceContainer))}_executionContextsCleared(){this._removeAllScripts(),this._breakpointManager.executionContextWasCleared(),this._pausedDetails&&this.onResumed(),this._executionContexts.clear()}_ensureDebuggerEnabledAndRefreshDebuggerId(){this._cdp.Debugger.enable({}).then(e=>{this.debuggerReady.resolve(),e&&Mo._allThreadsByDebuggerId.set(e.debuggerId,this)}),this.exceptionPause.apply(this._cdp)}async _onPaused(e){var l,p,f,g,m;let r=e.hitBreakpoints??[],i=e.reason==="Break on start"||e.reason==="debugCommand",n=(l=e.callFrames[0])==null?void 0:l.location,s=((p=e.data)==null?void 0:p.scriptId)||(n==null?void 0:n.scriptId),o=s&&(e.reason==="instrumentation"||this._breakpointManager.isEntrypointBreak(r,s)||r.some(y=>{var b;return(b=this._pauseOnSourceMapBreakpointIds)==null?void 0:b.includes(y)}));if(this.evaluator.setReturnedValue((f=e.callFrames[0])==null?void 0:f.returnValue),o){this.launchConfig.perScriptSourcemaps==="auto"&&this._shouldEnablePerScriptSms(e)&&await this._enablePerScriptSourcemaps(),e.data&&!i&&(e.data.__rewriteAs="breakpoint");let y=this._expectedPauseReason;if(!(s&&await this._handleSourceMapPause(s,n))){if(!i){if(await this.isCrossThreadStep(e))e.data={...e.data,__rewriteAs:"step"};else if(!await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!0))if((y==null?void 0:y.reason)==="step"){if(y.direction!==0)return this._cdp.Debugger.stepOut({})}else return this.resume()}}}else if(!(e.reason==="exception"||e.reason==="promiseRejection"?await this.exceptionPause.shouldPauseAt(e):await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!1)))return this.resume();let a=(g=this._waitingForStepIn)==null?void 0:g.intoTargetBreakpoint;if(a){(m=e.hitBreakpoints)!=null&&m.includes(a)?(this._waitingForStepIn.intoTargetBreakpoint=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:a}),await this._cdp.Debugger.stepInto({breakOnAsyncCall:!1})):this.resume();return}if(i&&("continueOnAttach"in this.launchConfig&&this.launchConfig.continueOnAttach||this.launchConfig.type==="pwa-extensionHost"||this.target instanceof ol)){this.resume();return}let u=this._pausedDetails=await this._createPausedDetails(e);if(this._excludedCallers.length&&await this._matchesExcludedCaller(this._pausedDetails.stackTrace)){this.logger.info("runtime","Skipping pause due to excluded caller"),this.resume();return}let c=await this._smartStepper.getSmartStepDirection(u,this._expectedPauseReason);if(this._pausedDetails===u){switch(c){case 0:return this.stepInto();case 2:return this.stepOut();case 1:return this.stepOver();default:}this._waitingForStepIn=void 0,this._pausedVariables=this.replVariables.createDetached(),await this._onThreadPaused(u)}}async _matchesExcludedCaller(e){if(!this._excludedCallers.length)return!1;let r=e.frames[0],i=r instanceof $t&&await r.uiLocation();if(!i)return!1;let n,s,o=[];for(let{caller:a,target:u}of this._excludedCallers)if(!(u.line!==i.lineNumber||u.column!==i.columnNumber)&&(n??=await i.source.toDapShallow(),!!gR(n,u.source))){s||(s=await e.loadFrames(XQ).then(l=>Promise.all(l.slice(1).filter(_a($t)).map(p=>p.uiLocation()))));for(let c=0;c<s.length;c++){let l=s[c];if(!l||l.lineNumber!==a.line||l.columnNumber!==a.column)continue;let p=o[c]??=await l.source.toDapShallow();if(gR(p,a.source))return!0}}return!1}onResumed(){this._pausedDetails=void 0,this._pausedVariables=void 0,this.evaluator.setReturnedValue(void 0),this._onThreadResumed()}async dispose(){this.disposed=!0,await this.shutdown.shutdown();for(let[e,r]of Mo._allThreadsByDebuggerId)r===this&&Mo._allThreadsByDebuggerId.delete(e);this._removeAllScripts(!0),this._executionContextsCleared(),await this._dap.with(e=>e.thread({reason:"exited",threadId:this.id}))}rawLocation(e){if("location"in e){let r=e;return{lineNumber:Math.max(0,r.location.lineNumber)+1,columnNumber:Math.max(0,r.location.columnNumber||0)+1,scriptId:r.location.scriptId}}return{lineNumber:Math.max(0,e.lineNumber)+1,columnNumber:Math.max(0,e.columnNumber||0)+1,scriptId:e.scriptId}}rawLocationToUiLocation(e){if(!e.scriptId||this.disposed||this.launchConfig.noDebug)return;let r=this._sourceContainer.getScriptById(e.scriptId);return r?r.resolvedSource?this._sourceContainer.preferredUiLocation({...r.resolvedSource.offsetScriptToSource(e),source:r.resolvedSource}):r.source.then(i=>this._sourceContainer.preferredUiLocation({...i.offsetSourceToScript(e),source:i})):this.rawLocationToUiLocationWithWaiting(e)}async rawLocationToUiLocationWithWaiting(e){let r=e.scriptId?await this.getScriptByIdOrWait(e.scriptId):void 0;if(!r)return;let i=await r.source;return this._sourceContainer.preferredUiLocation({...i.offsetScriptToSource(e),source:i})}getScriptById(e){return this._sourceContainer.getScriptById(e)}getScriptByIdOrWait(e,r=500){return this._sourceContainer.getScriptById(e)||this.waitForScriptId(e,r)}waitForScriptId(e,r){return new Promise(i=>{let n=this._sourceContainer.onScript(o=>{o.scriptId===e&&(i(o),n.dispose(),clearTimeout(s))}),s=setTimeout(()=>{i(void 0),n.dispose()},r)})}async renderDebuggerLocation(e){let r=this.rawLocation(e),i=await this.rawLocationToUiLocation(r);return i?`@ ${await i.source.prettyName()}:${i.lineNumber}`:`@ VM${r.scriptId||"XX"}:${r.lineNumber}`}async updateCustomBreakpoint(e,r){if(!this.target.supportsCustomBreakpoints())return;let i=vw().get(e);i&&await i.apply(this._cdp,r)}async _createPausedDetails(e){var s,o;let r=e.reason==="assert"||e.reason==="exception"||e.reason==="promiseRejection"||e.reason==="other"||e.reason==="ambiguous";if((!!(e.hitBreakpoints&&e.hitBreakpoints.length)||!r)&&this._sourceContainer.clearDisabledSourceMaps(),e.hitBreakpoints&&this._sourceMapDisabler)for(let a of this._sourceMapDisabler(e.hitBreakpoints))this._sourceContainer.disableSourceMapForSource(a);let n=Pi.fromDebugger(this,e.callFrames,e.asyncStackTrace,e.asyncStackTraceId);if(((s=e.data)==null?void 0:s.__rewriteAs)==="breakpoint")return{thread:this,event:e,stackTrace:n,reason:"breakpoint",description:Be.t("Paused on breakpoint")};if(((o=e.data)==null?void 0:o.__rewriteAs)==="step")return{thread:this,event:e,stackTrace:n,reason:"step",description:Be.t("Paused")};switch(e.reason){case"assert":return{thread:this,event:e,stackTrace:n,reason:"exception",description:Be.t("Paused on assert")};case"debugCommand":return{thread:this,event:e,stackTrace:n,reason:"pause",description:Be.t("Paused on debug() call")};case"DOM":return{thread:this,event:e,stackTrace:n,reason:"data breakpoint",description:Be.t("Paused on DOM breakpoint")};case"EventListener":return this._resolveEventListenerBreakpointDetails(n,e);case"exception":return{thread:this,event:e,stackTrace:n,reason:"exception",description:Be.t("Paused on exception"),exception:e.data};case"promiseRejection":return{thread:this,event:e,stackTrace:n,reason:"exception",description:Be.t("Paused on {0}","promise rejection"),exception:e.data};case"instrumentation":return e.data&&e.data.scriptId?{thread:this,event:e,stackTrace:n,reason:"step",description:Be.t("Paused")}:{thread:this,event:e,stackTrace:n,reason:"function breakpoint",description:Be.t("Paused on instrumentation breakpoint")};case"XHR":return{thread:this,event:e,stackTrace:n,reason:"data breakpoint",description:Be.t("Paused on XMLHttpRequest or fetch")};case"OOM":return{thread:this,event:e,stackTrace:n,reason:"exception",description:Be.t("Paused before Out Of Memory exception")};default:if(e.hitBreakpoints&&e.hitBreakpoints.length){let a=!1,u=this.target.entryBreakpoint;if(u&&e.hitBreakpoints.includes(u.cdpId)){a=!0;let c=this._sourceContainer.source({path:Ht(u.path)});if(c!==void 0){let l=await this._sourceContainer.currentSiblingUiLocations({lineNumber:e.callFrames[0].location.lineNumber+1,columnNumber:(e.callFrames[0].location.columnNumber||0)+1,source:c});a=!(l!=null&&l.some(p=>this._breakpointManager.hasAtLocation(p)))}}return a||this._breakpointManager.registerBreakpointsHit(e.hitBreakpoints),{thread:this,event:e,stackTrace:n,hitBreakpoints:e.hitBreakpoints,reason:a?"entry":"breakpoint",description:Be.t("Paused on breakpoint")}}return this._expectedPauseReason?{thread:this,event:e,stackTrace:n,description:Be.t("Paused"),...this._expectedPauseReason}:{thread:this,event:e,stackTrace:n,reason:"pause",description:Be.t("Paused on debugger statement")}}}_resolveEventListenerBreakpointDetails(e,r){let i=r.data,n=i&&i.eventName||"",s=vw().get(n);if(s){let o=s.details(i);return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:o.short,text:o.long}}return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:Be.t("Paused on event listener")}}_clearDebuggerConsole(){return{category:"console",output:"\x1B[2J"}}_removeAllScripts(e=!1){this._sourceContainer.clear(e)}_onScriptParsed(e){if(e.url.endsWith(".cdp")||(mr(e.url)&&(e.url=Oe(e.url)),this._sourceContainer.getScriptById(e.scriptId)))return;e.url&&(e.url=this.target.scriptUrlToUrl(e.url));let r=this._executionContexts.get(e.executionContextId);r||(this.logger.info("internal","Creating missing execution context id",e),r=new aH({id:e.executionContextId,name:"<autofilled>",origin:"",uniqueId:String(e.executionContextId)}),this._executionContexts.set(e.executionContextId,r));let i=async()=>{let s=this._sourceContainer.getSourceByOriginalUrl(e.url);if(e.hash&&(s==null?void 0:s.contentHash)===e.hash)return s.addScript({scriptId:e.scriptId,url:e.url,executionContextId:e.executionContextId}),s;let o=async()=>{let p=await this._cdp.Debugger.getScriptSource({scriptId:e.scriptId});return p?p.scriptSource:void 0},a=e.startLine||e.startColumn?{lineOffset:e.startLine,columnOffset:e.startColumn}:void 0,u=e.url.endsWith("#vscode-extension")?{lineOffset:2,columnOffset:0}:void 0,c;e.sourceMapURL&&(c=sr(e.sourceMapURL)?e.sourceMapURL:e.url&&po(e.url,e.sourceMapURL)||e.url,c||this._dap.with(p=>YT(p,`Could not load source map from ${e.sourceMapURL}`)));let l=await this._sourceContainer.addSource(e,o,c,a,u,!e.hasSourceURL&&this.launchConfig.enableContentValidation?e.hash:void 0);return l.addScript({scriptId:e.scriptId,url:e.url,executionContextId:e.executionContextId}),l},n={url:e.url,scriptId:e.scriptId,executionContextId:e.executionContextId,source:i()};n.source.then(s=>n.resolvedSource=s),r.scripts.push(n),this._sourceContainer.addScriptById(n),(e.sourceMapURL||e.scriptLanguage==="WebAssembly")&&this._getOrStartLoadingSourceMaps(n)}async _handleSourceMapPause(e,r){this._pausedForSourceMapScriptId=e;let i=this._sourceContainer.sourceMapTimeouts().sourceMapMinPause,n=i+this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause,s=this._sourceContainer.getScriptById(e);if(!s)return this._pausedForSourceMapScriptId=void 0,!1;let o=new Dr,a=await Promise.race([this._getOrStartLoadingSourceMaps(s),ke(n)]),u=o.elapsed().ms,c=this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause-Math.max(u-i,0);this._sourceContainer.setSourceMapTimeouts({...this._sourceContainer.sourceMapTimeouts(),sourceMapCumulativePause:c}),this.logger.verbose("internal","Blocked execution waiting for source-map",{timeSpentWallClockInMs:u,sourceMapCumulativePause:c}),a||this._dap.with(f=>f.output({category:"stderr",output:Be.t("WARNING: Processing source-maps of {0} took longer than {1} ms so we continued execution without waiting for all the breakpoints for the script to be set.",s.url||s.scriptId,n)})),console.assert(this._pausedForSourceMapScriptId===e),this._pausedForSourceMapScriptId=void 0;let l=(r==null?void 0:r.lineNumber)||0,p=r==null?void 0:r.columnNumber;return!!(a!=null&&a.map(_s).some(f=>f.lineNumber===l&&(p===void 0||p===f.columnNumber)))}_getOrStartLoadingSourceMaps(e){let r=this._executionContexts.get(e.executionContextId);if(!r)return Promise.resolve([]);let i=r.sourceMapLoads.get(e.scriptId);if(i)return i;let n=e.source.then(s=>this._sourceContainer.waitForSourceMapSources(s)).then(s=>s.length&&this._scriptWithSourceMapHandler?this._scriptWithSourceMapHandler(e,s):[]);return r.sourceMapLoads.set(e.scriptId,n),n}async _revealObject(e){if(e.type!=="function"||e.objectId===void 0)return;let r=await this._cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0});if(r)for(let i of r.internalProperties||[]){if(i.name!=="[[FunctionLocation]]"||!i.value||i.value.subtype!=="internal#location")continue;let n=await this.rawLocationToUiLocation(this.rawLocation(i.value.value));n&&this._sourceContainer.revealUiLocation(n);break}}async _copyObjectToClipboard(e){if(!e.objectId){this._dap.with(r=>r.copyRequested({text:Za(e,"copy")}));return}try{let r=await iR({cdp:this.cdp(),objectId:e.objectId,args:[2],silent:!0,returnByValue:!0});this._dap.with(i=>i.copyRequested({text:r.value}))}catch{}finally{this.cdp().Runtime.releaseObject({objectId:e.objectId}).catch(()=>{})}}async _onThreadPaused(e){this._expectedPauseReason=void 0,this._onPausedEmitter.fire(e);let r;e.hitBreakpoints&&(r=await Promise.race([ke(1e3).then(()=>{}),Promise.all(e.hitBreakpoints.map(i=>this._breakpointManager._resolvedBreakpoints.get(i)).filter(_a(Ii)).map(i=>i.untilSetCompleted().then(()=>i.dapId)))])),await ke(0),this._dap.with(i=>i.stopped({reason:e.reason,description:e.description,threadId:this.id,text:e.text,hitBreakpointIds:r,allThreadsStopped:!1}))}_onThreadResumed(){this._dap.with(e=>e.continued({threadId:this.id,allThreadsContinued:!1}))}isCrossThreadStep(e){var n;if(!e.asyncStackTraceId||!e.asyncStackTraceId.debuggerId)return!1;let r=Mo.threadForDebuggerId(e.asyncStackTraceId.debuggerId);if(!r||!((n=r._waitingForStepIn)!=null&&n.lastDetails))return!1;let i=r._waitingForStepIn.lastDetails.stackTrace;return r._cdp.Debugger.getStackTrace({stackTraceId:e.asyncStackTraceId}).then(s=>!s||!s.stackTrace.callFrames.length||!$t.fromRuntime(r,s.stackTrace.callFrames[0],!1).equivalentTo(i.frames[0])?!1:(r._waitingForStepIn=void 0,!0))}async setScriptSourceMapHandler(e,r){var n,s,o;this._scriptWithSourceMapHandler=r;let i=e&&this._sourceContainer.sourceMapTimeouts().sourceMapMinPause&&r;if(i&&!((n=this._pauseOnSourceMapBreakpointIds)!=null&&n.length)){await this.debuggerReady.promise;let a=await Promise.all([this._cdp.Debugger.setInstrumentationBreakpoint({instrumentation:"beforeScriptWithSourceMapExecution"}),this._cdp.Debugger.setBreakpointByUrl({lineNumber:0,columnNumber:0,urlRegex:"\\.[wW][aA][sS][mM]"})]);this._pauseOnSourceMapBreakpointIds=a.map(u=>u==null?void 0:u.breakpointId).filter(tr)}else if(!i&&((s=this._pauseOnSourceMapBreakpointIds)!=null&&s.length)){let a=this._pauseOnSourceMapBreakpointIds;this._pauseOnSourceMapBreakpointIds=void 0,await Promise.all(a.map(u=>this._cdp.Debugger.removeBreakpoint({breakpointId:u})))}return!!((o=this._pauseOnSourceMapBreakpointIds)!=null&&o.length)}async _enablePerScriptSourcemaps(){await this._breakpointManager.updateEntryBreakpointMode(this,1),await this.setScriptSourceMapHandler(!1,this._scriptWithSourceMapHandler)}_shouldEnablePerScriptSms(e){var r,i,n,s;return(r=e.data)!=null&&r.url.includes("@vite/client")?!0:e.reason!=="instrumentation"||!sr((i=e.data)==null?void 0:i.sourceMapURL)?!1:((n=e.data.url)==null?void 0:n.startsWith("webpack"))||((s=e.data.url)==null?void 0:s.startsWith("ng:"))}setSourceMapDisabler(e){this._sourceMapDisabler=e}static threadForDebuggerId(e){return Mo._allThreadsByDebuggerId.get(e)}async replacePathsInStackTrace(e){let r=[];for(let n of new Do(e)){if(typeof n=="string"){r.push(n);continue}let s=this._sourceContainer.getSourceByOriginalUrl(Oe(n.path))||this._sourceContainer.getSourceByOriginalUrl(n.path);if(!s){r.push(n.toString());continue}r.push(this._sourceContainer.preferredUiLocation({columnNumber:n.position.base1.columnNumber,lineNumber:n.position.base1.lineNumber,source:s}).then(({source:o,lineNumber:a,columnNumber:u})=>`${o.absolutePath}:${a}:${u}`))}return(await Promise.all(r)).join("")}},ko=Mo;ko._lastThreadId=0,ko._allThreadsByDebuggerId=new Map;var yR=t=>typeof t.uiLocation=="function",Pi=class{constructor(e){this.thread=e;this.frames=[];this._frameById=new Map;this._lastInlineWasmExpanded=Promise.resolve(0);this._lastFrameThread=e}static fromRuntime(e,r){let i=new Pi(e);for(let n of r.callFrames)n.url.endsWith(".cdp")||i.frames.push($t.fromRuntime(e,n,!1));return r.parentId?(i._asyncStackTraceId=r.parentId,console.assert(!r.parent)):i._appendStackTrace(e,r.parent),i}static fromDebugger(e,r,i,n){let s=new Pi(e);for(let o of r)s._appendFrame($t.fromDebugger(e,o));return n?(s._asyncStackTraceId=n,console.assert(!i)):s._appendStackTrace(e,i),s}async loadFrames(e,r){return await this.expandAsyncStack(e,r),await this.expandWasmFrames(),this.frames}async expandAsyncStack(e,r){for(;this.frames.length<e&&this._asyncStackTraceId;){if(this._asyncStackTraceId.debuggerId&&(this._lastFrameThread=ko.threadForDebuggerId(this._asyncStackTraceId.debuggerId)),!this._lastFrameThread){this._asyncStackTraceId=void 0;break}r&&this._lastFrameThread.cdp().DotnetDebugger.setEvaluationOptions({options:{noFuncEval:r},type:"stackFrame"});let i=await this._lastFrameThread.cdp().Debugger.getStackTrace({stackTraceId:this._asyncStackTraceId});this._asyncStackTraceId=void 0,i&&this._appendStackTrace(this._lastFrameThread,i.stackTrace)}}expandWasmFrames(){return this._lastInlineWasmExpanded=this._lastInlineWasmExpanded.then(async e=>{var r;for(;e<this.frames.length;e++){let i=this.frames[e];if(!(i instanceof $t))continue;let n=(r=i.scriptSource)==null?void 0:r.resolvedSource;if(!Ra(n))continue;let s=await n.sourceMap.value.promise;if(!s.getFunctionStack)continue;let o=await s.getFunctionStack(i.rawPosition);if(o.length===0)continue;let a=[];for(let u=0;u<o.length;u++){let c=new Qf({source:n,thread:this.thread,inlineFrameIndex:u,name:o[u].name,root:i});this._frameById.set(c.frameId,c),a.push(c)}this._spliceFrames(e,1,...a),e+=o.length-1}return e})}frame(e){return this._frameById.get(e)}_appendStackTrace(e,r){for(console.assert(!r||!this._asyncStackTraceId);r;){if(r.description==="async function"&&r.callFrames.length&&r.callFrames.shift(),r.callFrames.length){this._appendFrame(new uH(r.description||"async"));for(let i of r.callFrames)this._appendFrame($t.fromRuntime(e,i,!0))}r.parentId&&(this._asyncStackTraceId=r.parentId,console.assert(!r.parent)),r=r.parent}}_spliceFrames(e,r,...i){this.frames.splice(e,r,...i);for(let n of i)n instanceof uH||this._frameById.set(n.frameId,n)}_appendFrame(e){this._spliceFrames(this.frames.length,0,e)}async formatAsNative(){return await this.formatWithMapper(e=>e.formatAsNative())}async format(){return await this.formatWithMapper(e=>e.format())}async formatWithMapper(e){let r=await this.loadFrames(50);for(let n=r.length-1;n>=0;n--){let s=r[n];if(s instanceof $t&&s.isReplEval){r=r.slice(0,n+1);break}}let i=r.map(e);return(await Promise.all(i)).join(`
`)+`
`}async toDap(e){let r=e.startFrame||0,i=(e.levels||50)+r,n=await this.loadFrames(i,e.noFuncEval);i=Math.min(n.length,e.levels?i:n.length);let s=[];for(let o=r;o<i;o++)s.push(n[o].toDap(e.format));return{stackFrames:await Promise.all(s),totalFrames:this._asyncStackTraceId?1e6:n.length}}},Bw=yh(),uH=class{constructor(e="async"){this.label=e;this.frameId=Bw()}async toDap(){return{name:this.label,id:0,line:0,column:0,presentationHint:"label"}}async formatAsNative(){return`    --- ${this.label} ---`}async format(){return`\u25C0 ${this.label} \u25B6`}},bR="<anonymous>",YQ=/^class\s+(.+) {($|\n)/;async function QQ(t,e,r){if(!e.functionName)return bR;if(e.functionName.includes("."))return e.functionName;let i;if(e.this.objectId&&r){let o=await t.cdp().Runtime.callFunctionOn({functionDeclaration:tH.decl("64","null"),objectId:e.this.objectId,returnByValue:!0});i=o==null?void 0:o.result.value}if(!i&&e.this.description){i=e.this.description;let o=YQ.exec(i);o&&(i=o[1])}if(!i)return e.functionName;let n=i.indexOf(`
`);n!==-1&&(i=i.slice(0,n).trim());let s=e.functionName;return i===s?`${i}.constructor`:i?`${i}.${s}`:s}function ZQ(t){return t.functionName||bR}var $t=class{constructor(e,r,i,n=!1){this.callFrame=r;this.isAsync=n;this.frameId=Bw();this.root=this;this.getLocationInfo=Ae(async()=>{let e=this.uiLocation(),r=await bw(this),i=this.overrideName||("this"in this.callFrame?await QQ(this._thread,this.callFrame,r===0):ZQ(this.callFrame));return{isSmartStepped:r,name:i,uiLocation:await e}});this.completions=Ae(async()=>{if(!this._scope)return[];let e=this._thread.pausedVariables();if(!e)return[];let r=[];for(let n=0;n<this._scope.chain.length;n++){let s=this._scopeVariable(n,this._scope);s&&r.push(e.getVariableNames({variablesReference:s.id}).then(o=>o.map(a=>({label:a,type:"property"}))))}let i=await Promise.all(r);return[].concat(...i)});this._rawLocation=i,this.uiLocation=Ae(()=>e.rawLocationToUiLocation(i)),this._thread=e;let s=i.scriptId?e.getScriptById(i.scriptId):void 0;this.isReplEval=s?s.url.endsWith(".repl"):!1}get rawPosition(){return new rr(this._rawLocation.lineNumber,this._rawLocation.columnNumber)}static fromRuntime(e,r,i){return new $t(e,r,e.rawLocation(r),i)}static fromDebugger(e,r){let i=new $t(e,r,e.rawLocation(r));return i._scope={chain:r.scopeChain,thisObject:r.this,returnValue:r.returnValue,variables:new Array(r.scopeChain.length).fill(void 0),callFrameId:r.callFrameId},i}get scriptId(){return"scriptId"in this.callFrame?this.callFrame.scriptId:this.callFrame.location.scriptId}get scriptSource(){return this._thread._sourceContainer.getScriptById(this.scriptId)}get canExplicitlyBeRestarted(){return!!this.callFrame.canBeRestarted}equivalentTo(e){return e instanceof $t&&e._rawLocation.columnNumber===this._rawLocation.columnNumber&&e._rawLocation.lineNumber===this._rawLocation.lineNumber&&e._rawLocation.scriptId===this._rawLocation.scriptId}callFrameId(){return this._scope?this._scope.callFrameId:void 0}async scopes(){let e=this._scope;if(!e)throw new Z(u$());return{scopes:(await Promise.all(e.chain.map(async(i,n)=>{let s="",o;switch(i.type){case"global":s=Gr.t("Global");break;case"local":s=Gr.t("Local"),o="locals";break;case"with":s=Gr.t("With Block"),o="locals";break;case"closure":s=Gr.t("Closure"),o="arguments";break;case"catch":s=Gr.t("Catch Block"),o="locals";break;case"block":s=Gr.t("Block"),o="locals";break;case"script":s=Gr.t("Script");break;case"eval":s=Gr.t("Eval");break;case"module":s=Gr.t("Module");break;default:s=i.type.substr(0,1).toUpperCase()+i.type.substr(1);break}i.name&&i.type==="closure"?s=Gr.t("Closure ({0})",i.name):i.name&&(s=`${s}: ${i.name}`);let a=this._scopeVariable(n,e);if(!a)return;let u={name:s,presentationHint:o,expensive:i.type==="global",variablesReference:a.id};if(i.startLocation){let c=this._thread.rawLocation(i.startLocation),l=await this._thread.rawLocationToUiLocation(c);if(u.line=(l||c).lineNumber,u.column=(l||c).columnNumber,l&&(u.source=await l.source.toDap()),i.endLocation){let p=this._thread.rawLocation(i.endLocation),f=await this._thread.rawLocationToUiLocation(p);u.endLine=(f||p).lineNumber,u.endColumn=(f||p).columnNumber}}return u}))).filter(tr)}}getStepSkipList(e){return Promise.resolve(void 0)}async toDap(e){let{isSmartStepped:r,name:i,uiLocation:n}=await this.getLocationInfo(),s=n?await n.source.toDap():void 0,o=r?"deemphasize":"normal";r&&s&&(s.origin=r===1?Gr.t("Skipped by smartStep"):Gr.t("Skipped by skipFiles"));let a=(n||this._rawLocation).lineNumber,u=(n||this._rawLocation).columnNumber,c=i;return s&&e&&(e.module&&(c+=` [${s.name}]`),e.line&&(c+=` Line ${a}`)),{id:this.frameId,name:c,line:a,column:u,source:s,presentationHint:o,canRestart:this.callFrame.canBeRestarted??!this.isAsync}}async formatAsNative(){let{name:e,uiLocation:r}=await this.getLocationInfo(),i=await(r==null?void 0:r.source.existingAbsolutePath())||await(r==null?void 0:r.source.prettyName())||this.callFrame.url,{lineNumber:n,columnNumber:s}=r||this._rawLocation;return`    at ${e} (${i}:${n}:${s})`}async format(){let{name:e,uiLocation:r}=await this.getLocationInfo(),i=await(r==null?void 0:r.source.prettyName())||"<unknown>",n=r||this._rawLocation,s=`${e} @ ${i}:${n.lineNumber}`;return n.columnNumber>1&&(s+=`:${n.columnNumber}`),s}_scopeVariable(e,r){let i=r.variables[e];if(i)return i;let n={stackFrame:this,callFrameId:r.callFrameId,scopeNumber:e},s=[];e===0&&(r.thisObject&&s.push({name:"this",value:r.thisObject}),r.returnValue&&s.push({name:Gr.t("Return value"),value:r.returnValue}));let o=this._thread.pausedVariables();if(!o)return;let a=o.createScope(r.chain[e].object,n,s);return r.variables[e]=a}},Nw={scopes:[]},Qf=class{constructor(e){this.frameId=Bw();this.name=e.name,this.root=e.root,this.thread=e.thread,this.source=e.source,this.inlineFrameIndex=e.inlineFrameIndex,this.wasmPosition=new rr(this.inlineFrameIndex,this.root.rawPosition.base0.columnNumber),this.uiLocation=Ae(()=>e.thread._sourceContainer.preferredUiLocation({columnNumber:e.root.rawPosition.base1.columnNumber,lineNumber:e.inlineFrameIndex+1,source:e.source}))}async formatAsNative(){let{columnNumber:e,lineNumber:r,source:i}=await this.uiLocation();return`    at ${this.name} (${i.url}:${r}:${e})`}async format(){let{columnNumber:e,lineNumber:r,source:i}=await this.uiLocation(),n=await i.prettyName()||"<unknown>";return`${this.name} @ ${n}:${r}:${e}`}async toDap(){let{columnNumber:e,lineNumber:r,source:i}=await this.uiLocation();return Promise.resolve({id:this.frameId,name:this.name,column:e,line:r,source:await i.toDapShallow()})}async getStepSkipList(e){let r=this.source.sourceMap.value.settledValue;if(!(r!=null&&r.getStepSkipList))return;let i=await this.uiLocation();return i?r.getStepSkipList(e,this.wasmPosition,i.source.compiledToSourceUrl.get(this.source),new Ot(i.lineNumber,i.columnNumber)):r.getStepSkipList(e,this.root.rawPosition)}async scopes(){var o;let e=this.source.sourceMap.value.settledValue,r=this.root.callFrameId();if(!e||!r)return Nw;let i=await((o=e.getVariablesInScope)==null?void 0:o.call(e,r,this.wasmPosition));if(!i)return Nw;let n=this.thread.pausedVariables();if(!n)return Nw;let s={stackFrame:this.root,callFrameId:r,scopeNumber:0};return{scopes:await Promise.all([...ET(i,a=>a.scope)].map(([a,u])=>n.createWasmScope(a,u,s).toDap("propertyValue").then(c=>({name:c.name,variablesReference:c.variablesReference,expensive:a!=="LOCAL"}))))}}};var vR=F(vt());var iu=class{constructor(e){this.event=e;this.stackTrace=Ae(e=>this.event.stackTrace?Pi.fromRuntime(e,this.event.stackTrace):void 0);this.getUiLocation=Ae(async e=>{let r=this.stackTrace(e);if(!r)return;let i;for(let n of r.frames){if(!(n instanceof $t))continue;let s=await n.uiLocation();if(s&&(i||(i=s),!s.source.blackboxed()))return{source:await s.source.toDap(),line:s.lineNumber,column:s.columnNumber}}if(i)return{source:await i.source.toDap(),line:i.lineNumber,column:i.columnNumber}})}formatDefaultString(e,r,i=!1){let s=r.length>1&&r[0].type==="string"?dw(r[0].value,r.slice(1),Hw):dw("",r,Hw),o=s.result+`
`;return s.usedAllSubs&&!r.some(Qa)?{output:o}:this.formatComplexStringOutput(e,o,r,i)}async formatComplexStringOutput(e,r,i,n){(i.some(o=>o.subtype==="error")||Do.isStackLike(r))&&(await this.getUiLocation(e),r=await e.replacePathsInStackTrace(r),n=!0);let s=e.replVariables.createVariableForOutput(r,i,n?this.stackTrace(e):void 0);return{output:r,variablesReference:s.id}}},cH=class extends iu{async toDap(e){var r;return((r=this.event.args[0])==null?void 0:r.value)==="console.assert"&&(this.event.args[0].value=vR.t("Assertion failed")),{category:"stderr",...await this.formatDefaultString(e,this.event.args,!0),...await this.getUiLocation(e)}}},nu=class extends iu{constructor(r,i,n){super(r);this.includeStack=i;this.category=n}async toDap(r){return{category:this.category,...await this.formatDefaultString(r,this.event.args,this.includeStack),...await this.getUiLocation(r)}}},Ro=class extends nu{constructor(e){super(e,!1,"stdout")}},lH=class extends nu{constructor(e){super(e,!0,"stdout")}},pH=class extends nu{constructor(e){super(e,!0,"stderr")}},fH=class extends nu{constructor(e){super(e,!0,"stderr")}},dH=class extends iu{async toDap(e){return{category:"stdout",group:this.event.type==="startGroupCollapsed"?"startCollapsed":"start",...await this.formatDefaultString(e,this.event.args),...await this.getUiLocation(e)}}},hH=class extends nu{constructor(e){super(e,!1,"stdout")}async toDap(e){var r;return(r=this.event.args[0])!=null&&r.preview?{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput("",this.event.args,void 0,this.event.type).id,...await this.getUiLocation(e)}:super.toDap(e)}};var Yf=class extends iu{constructor(){super(...arguments);this.stackTrace=Ae(r=>{if(this.event.stackTrace)return Pi.fromRuntime(r,this.event.stackTrace);if(this.event.scriptId)return Pi.fromRuntime(r,{callFrames:[{functionName:"(program)",lineNumber:this.event.lineNumber,columnNumber:this.event.columnNumber,scriptId:this.event.scriptId,url:this.event.url||""}]})})}async toDap(r){var a;let i=this.event.exception?eu(this.event.exception):{title:""},n=i.title;n.startsWith("Uncaught")||(n=`Uncaught ${((a=this.event.exception)==null?void 0:a.className)??"Error"} `+n);let s=this.stackTrace(r),o=this.event.exception&&!i.stackTrace?[this.event.exception]:[];return Do.isStackLike(n)?n=await r.replacePathsInStackTrace(n):s&&(n+=`
`+await s.formatAsNative()),{category:"stderr",output:n,variablesReference:s||o.length?r.replVariables.createVariableForOutput(n,o,s).id:void 0,...await this.getUiLocation(r)}}};var mH=Symbol("IConsole");var su=F(pe()),IR=w("os"),AR=w("path");var Fw=w("path"),_R=(0,Fw.join)(__dirname,"diagnosticTool.js"),wR=(0,Fw.join)(__dirname,"diagnosticTool.css");var Yn=Symbol("ITarget"),$r=Symbol("ILauncher");var Oo=class{constructor(e,r,i,n){this.fs=e;this.sources=r;this.breakpoints=i;this.target=n}async generateObject(){let[e]=await Promise.all([this.dumpSources()]);return{breakpoints:this.dumpBreakpoints(),sources:e,config:this.target.launchConfig}}async generateHtml(e=(0,AR.join)((0,IR.tmpdir)(),"js-debug-diagnostics.html")){return await this.fs.writeFile(e,`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>${await this.fs.readFile(wR,"utf-8")}<</style>
      </head>
      <body>
        <script>window.DUMP=${JSON.stringify(await this.generateObject())}</script>
        <script>${await this.fs.readFile(_R,"utf-8")}</script>
      </body>
      </html>`),e}dumpBreakpoints(){let e=[];for(let r of[this.breakpoints.appliedByPath,this.breakpoints.appliedByRef])for(let i of r.values())for(let n of i){let s=n.diagnosticDump();e.push({source:s.source,params:s.params,cdp:s.cdp.map(o=>o.state===1?{...o,uiLocations:o.uiLocations.map(a=>this.dumpUiLocation(a))}:{...o,done:void 0})})}return e}dumpSources(){let e=[],r=0;for(let i of this.sources.sources)e.push((async()=>({uniqueId:r++,url:i.url,sourceReference:i.sourceReference,absolutePath:i.absolutePath,actualAbsolutePath:await i.existingAbsolutePath(),scriptIds:i.scripts.map(n=>n.scriptId),prettyName:await i.prettyName(),compiledSourceRefToUrl:i instanceof It?[...i.compiledToSourceUrl.entries()].map(([n,s])=>[n.sourceReference,s]):void 0,sourceMap:Ho(i)?{url:i.sourceMap.metadata.sourceMapUrl,metadata:i.sourceMap.metadata,sources:fs(Object.fromEntries(i.sourceMap.sourceByUrl),n=>n.sourceReference)}:void 0}))());return Promise.all(e)}dumpUiLocation(e){return{lineNumber:e.lineNumber,columnNumber:e.columnNumber,sourceReference:e.source.sourceReference}}};Oo=z([(0,su.injectable)(),E(0,(0,su.inject)(it)),E(1,(0,su.inject)(Jt)),E(2,(0,su.inject)(Ei)),E(3,(0,su.inject)(Yn))],Oo);var No=F(pe());var cl=Symbol("IExceptionPauseService");var ul=class{constructor(e,r,i,n,s){this.evaluator=e;this.scriptSkipper=r;this.dap=i;this.sourceContainer=s;this.state={cdp:"none"};this.blocker=je();this.noDebug=!!n.noDebug,this.breakOnError=n.__breakOnConditionalError,this.blocker.resolve()}get launchBlocker(){return this.blocker.promise}async setBreakpoints(e){if(!this.noDebug){try{this.state=this.parseBreakpointRequest(e)}catch(r){if(!(r instanceof Z))throw r;this.dap.output({category:"stderr",output:r.message});return}this.cdp?await this.sendToCdp(this.cdp):this.state.cdp!=="none"&&this.blocker.hasSettled()&&(this.blocker=je())}}async shouldPauseAt(e){var i;if(e.reason!=="exception"&&e.reason!=="promiseRejection"||this.state.cdp==="none"||this.shouldScriptSkip(e))return!1;let r=this.state.condition;if((i=e.data)!=null&&i.uncaught){if(r.uncaught&&!await this.evalCondition(e,r.uncaught))return!1}else if(r.caught&&!await this.evalCondition(e,r.caught))return!1;return!0}async apply(e){this.cdp=e,this.state.cdp!=="none"&&await this.sendToCdp(e)}async sendToCdp(e){await e.Debugger.setPauseOnExceptions({state:this.state.cdp}),this.blocker.resolve()}async evalCondition(e,r){let i=await r({callFrameId:e.callFrames[0].callFrameId},{error:e.data});return!!(i!=null&&i.result.value)}shouldScriptSkip(e){var i;if((i=e.data)!=null&&i.uncaught||!e.callFrames.length)return!1;let r=this.sourceContainer.getScriptById(e.callFrames[0].location.scriptId);return!!r&&this.scriptSkipper.isScriptSkipped(r.url)}parseBreakpointRequest(e){let r=(e.filterOptions??[]).concat(e.filters.map(a=>({filterId:a}))),i="none",n=[],s=[];for(let{filterId:a,condition:u}of r)a==="all"?(i="all",u&&n.push(a)):a==="uncaught"&&(i==="none"&&(i="uncaught"),u&&s.push(a));let o=a=>{if(a.length===0)return;let u="!!("+r.map(p=>p.condition).filter(tr).join(") || !!(")+")",c=go(u);if(c)throw new Z(yo({line:0,condition:u},c.message));let l=this.breakOnError?g0(u):u;return this.evaluator.prepare(l,{hoist:["error"]}).invoke};return i==="none"?{cdp:i}:{cdp:i,condition:{caught:o(n),uncaught:o(s)}}}};ul=z([(0,No.injectable)(),E(0,(0,No.inject)(wi)),E(1,(0,No.inject)(Eo)),E(2,(0,No.inject)(qr)),E(3,(0,No.inject)(Ne)),E(4,(0,No.inject)(Jt))],ul);var yH=F(pe());var gH=class{constructor(){this.didEnable=new WeakSet}async retrieve(e){this.didEnable.has(e)||(this.didEnable.add(e),await e.Performance.enable({}));let r=await e.Performance.getMetrics({});if(!r)return{error:"Error in CDP"};let i={};for(let n of r.metrics)i[n.name]=n.value;return{metrics:i}}};var HH=class{async retrieve(e){let r=await e.Runtime.evaluate({expression:`({
        memory: process.memoryUsage(),
        cpu: process.cpuUsage(),
        timestamp: Date.now(),
        resourceUsage: process.resourceUsage && process.resourceUsage(),
      })${ft()}`,returnByValue:!0});return r?r.exceptionDetails?{error:r.exceptionDetails.text}:{metrics:r.result.value}:{error:"No response from CDP"}}};var bH=Symbol("IPerformanceProvider"),ou=class{constructor(e){this.target=e}create(){return this.target.type()==="node"?new HH:new gH}};ou=z([(0,yH.injectable)(),E(0,(0,yH.inject)(Yn))],ou);var Gw=F(vt()),PR=w("crypto"),Bo=F(pe()),LR=w("os"),CR=w("path");var wH=F(pe());var Uw=F(vt()),au=F(pe()),vH=w("path");var ll=class{constructor(e){this.sources=e;this.locationIdCounter=0;this.locationsByRef=new Map}getLocationIdFor(e){let r=[e.functionName,e.url,e.scriptId,e.lineNumber,e.columnNumber].join(":"),i=this.locationsByRef.get(r);if(i)return i.id;let n=this.locationIdCounter++;return this.locationsByRef.set(r,{id:n,callFrame:e,locations:(async()=>{var a;let s=await((a=this.sources.getScriptById(e.scriptId))==null?void 0:a.source);if(!s)return[];let o=await this.sources.currentSiblingUiLocations({lineNumber:e.lineNumber+1,columnNumber:e.columnNumber+1,source:s});return Promise.all(o.map(async u=>({...u,source:await u.source.toDapShallow()})))})()}),n}getLocations(){return Promise.all([...this.locationsByRef.values()].sort((e,r)=>e.id-r.id).map(async e=>({callFrame:e.callFrame,locations:await e.locations})))}};var er=class{constructor(e,r,i,n){this.cdp=e;this.fs=r;this.sources=i;this.launchConfig=n}static canApplyTo(){return!0}async start(e,r){if(!await this.cdp.Profiler.start({}))throw new Z(Ac());return new jw(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}async save(e,r){let i=await SR(e,this.sources,this.launchConfig.__workspaceFolder);(0,vH.isAbsolute)(r)||(r=(0,vH.join)(this.launchConfig.__workspaceFolder,r)),await this.fs.writeFile(r,JSON.stringify(i))}};er.type="cpu",er.extension=".cpuprofile",er.label=Uw.t("CPU Profile"),er.description=Uw.t("Generates a .cpuprofile file you can open in the Chrome devtools"),er.editable=!0,er=z([(0,au.injectable)(),E(0,(0,au.inject)(dt)),E(1,(0,au.inject)(it)),E(2,(0,au.inject)(Jt)),E(3,(0,au.inject)(Ne))],er);var jw=class{constructor(e,r,i,n,s){this.cdp=e;this.fs=r;this.sources=i;this.workspaceFolder=n;this.file=s;this.stopEmitter=new J;this.disposed=!1;this.onUpdate=new J().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,this.stopEmitter.fire())}async stop(){let e=await this.cdp.Profiler.stop({});if(!e)throw new Z(Ac());await this.dispose();let r=await SR(e.profile,this.sources,this.workspaceFolder);await this.fs.writeFile(this.file,JSON.stringify(r))}};async function SR(t,e,r){let i=new ll(e),n=t.nodes.map(s=>{var o;return{...s,locationId:i.getLocationIdFor(s.callFrame),positionTicks:(o=s.positionTicks)==null?void 0:o.map(a=>({...a,startLocationId:i.getLocationIdFor({...s.callFrame,lineNumber:a.line-1,columnNumber:0}),endLocationId:i.getLocationIdFor({...s.callFrame,lineNumber:a.line,columnNumber:0})}))}});return{...t,nodes:n,$vscode:{rootPath:r,locations:await i.getLocations()}}}var Ww=F(vt()),uu=F(pe());var si=class{constructor(e,r,i,n){this.cdp=e;this.fs=r;this.sources=i;this.launchConfig=n}static canApplyTo(){return!0}async start(e,r){if(await this.cdp.HeapProfiler.enable({}),!await this.cdp.HeapProfiler.startSampling({}))throw new Z(Ac());return new qw(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}};si.type="heap",si.extension=".heapprofile",si.label=Ww.t("Heap Profile"),si.description=Ww.t("Generates a .heapprofile file you can open in the Chrome devtools"),si.editable=!0,si=z([(0,uu.injectable)(),E(0,(0,uu.inject)(dt)),E(1,(0,uu.inject)(it)),E(2,(0,uu.inject)(Jt)),E(3,(0,uu.inject)(Ne))],si);var qw=class{constructor(e,r,i,n,s){this.cdp=e;this.fs=r;this.sources=i;this.workspaceFolder=n;this.file=s;this.stopEmitter=new J;this.disposed=!1;this.onUpdate=new J().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,await this.cdp.HeapProfiler.disable({}),this.stopEmitter.fire())}async stop(){let e=await this.cdp.HeapProfiler.stopSampling({});if(!e)throw new Z(Ac());await this.dispose();let r=await this.annotateSources(e.profile);await this.fs.writeFile(this.file,JSON.stringify(r))}async annotateSources(e){let r=new ll(this.sources),i=(s,o)=>{o.locationId=r.getLocationIdFor(s.callFrame);for(let a of s.children){let u={...a,children:[]};o.children.push(u),i(a,u)}},n={...e.head,children:[]};return i(e.head,n),{...e,head:n,$vscode:{rootPath:this.workspaceFolder,locations:await r.getLocations()}}}};var Vw=F(vt()),ER=w("fs"),_H=F(pe());var oi=class{constructor(e){this.cdp=e;this.cdp.HeapProfiler.on("addHeapSnapshotChunk",({chunk:r})=>{var i;return(i=this.currentWriter)==null?void 0:i.stream.write(r)})}static canApplyTo(){return!0}async start(e,r){return{onStop:new J().event,onUpdate:new J().event,dispose:()=>{},stop:async()=>{await this.cdp.HeapProfiler.enable({}),await this.dumpToFile(r),await this.cdp.HeapProfiler.disable({})}}}async dumpToFile(e){let{stream:r,promise:i}=this.currentWriter={stream:(0,ER.createWriteStream)(e),promise:this.cdp.HeapProfiler.takeHeapSnapshot({})};await i,r.end(),this.currentWriter=void 0}};oi.type="memory",oi.extension=".heapsnapshot",oi.label=Vw.t("Heap Snapshot"),oi.description=Vw.t("Generates a .heapsnapshot file you can open in the Chrome devtools"),oi.instant=!0,oi=z([(0,_H.injectable)(),E(0,(0,_H.inject)(dt))],oi);var IH=Symbol("IProfilerFactory"),xR=()=>{let t=new Date;return["vscode-profile",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()].map(e=>String(e).padStart(2,"0")).join("-")},Ps=class{constructor(e){this.container=e}get(e){let r=Ps.ctors.find(i=>i.type===e);if(!r)throw new Error(`Invalid profilter type ${e}`);return this.container.get(r)}};Ps.ctors=[er,si,oi],Ps=z([(0,wH.injectable)(),E(0,(0,wH.inject)(xc))],Ps);var AH=Symbol("IProfileController"),pl=class{constructor(e,r,i,n,s){this.cdp=e;this.factory=r;this.basicCpuProfiler=i;this.breakpoints=n;this.shutdown=s;this.seenConsoleProfileNames=Object.create(null)}connect(e,r){e.on("startProfile",async i=>(await this.start(e,r,i),{})),e.on("stopProfile",()=>this.stopProfiling(e)),this.cdp.Profiler.on("consoleProfileStarted",()=>{e.output({output:Gw.t("Console profile started")+`
`,category:"console"})}),this.cdp.Profiler.on("consoleProfileFinished",async i=>{let n=this.saveConsoleProfile(e,i),s=this.shutdown.register(0,()=>n);await n,s.dispose()}),r.onPaused(()=>this.stopProfiling(e))}async start(e,r,i){if(this.profile)throw new Z(s$());this.profile=this.startProfileInner(e,r,i).catch(n=>{throw this.profile=void 0,n}),await this.profile}async saveConsoleProfile(e,r){var n;let i;if(r.title){i=(n=r.title)==null?void 0:n.replace(/[\/\\]/g,"-");let s=this.seenConsoleProfileNames[r.title]||0;this.seenConsoleProfileNames[r.title]=s+1,s>0&&(i+=`-${s}`)}else i=xR();i+=er.extension,await this.basicCpuProfiler.save(r.profile,i),e.output({output:Gw.t('CPU profile saved as "{0}" in your workspace folder',i)+`
`,category:"console"})}async startProfileInner(e,r,i){var l;let n=!1,s;if((l=i.stopAtBreakpoint)!=null&&l.length){let p=new Set(i.stopAtBreakpoint);n=!0,s=f=>!(f instanceof Ii)||p.has(f.dapId)}else s=()=>!1;await this.breakpoints.applyEnabledFilter(s);let o=(0,CR.join)((0,LR.tmpdir)(),`vscode-js-profile-${(0,PR.randomBytes)(4).toString("hex")}`),a=await this.factory.get(i.type).start(i,o),u={file:o,profile:a,enableFilter:s,keptDebuggerOn:n};a.onUpdate(p=>e.profilerStateUpdate({label:p,running:!0})),a.onStop(()=>this.disposeProfile(u));let c=!!r.pausedDetails();return n?await r.resume():c&&(await this.cdp.Debugger.disable({}),c&&r.onResumed()),e.profileStarted({file:u.file,type:i.type}),u}async stopProfiling(e){var i;let r=await((i=this.profile)==null?void 0:i.catch(()=>{}));return!r||!this.profile?{}:(this.profile=void 0,await(r==null?void 0:r.profile.stop()),e.profilerStateUpdate({label:"",running:!1}),{})}async disposeProfile({profile:e,enableFilter:r,keptDebuggerOn:i}){i||await this.cdp.Debugger.enable({}),await this.breakpoints.applyEnabledFilter(void 0,r),e.dispose()}};pl=z([(0,Bo.injectable)(),E(0,(0,Bo.inject)(dt)),E(1,(0,Bo.inject)(IH)),E(2,(0,Bo.inject)(er)),E(3,(0,Bo.inject)(Ei)),E(4,(0,Bo.inject)(wo))],pl);var Ls=class{constructor(e,r,i,n){this.asyncStackPolicy=r;this.launchConfig=i;this._services=n;this._disposables=new Qe;this._customBreakpoints=new Set;this._threadDeferred=je();this.breakpointIdCounter=yh();this._cdpProxyProvider=this._services.get(qg);this._configurationDoneDeferred=je(),this.sourceContainer=n.get(Jt),this.breakpointManager=n.get(Ei);let s=n.get(bH),o=n.get(Lr);o.onFlush(()=>{o.report("breakpointStats",this.breakpointManager.statisticsForTelemetry()),o.report("statistics",this.sourceContainer.statistics())}),this.dap=e,this.dap.on("initialize",a=>this.onInitialize(a)),this.dap.on("setBreakpoints",a=>this._onSetBreakpoints(a)),this.dap.on("setExceptionBreakpoints",a=>this.setExceptionBreakpoints(a)),this.dap.on("configurationDone",()=>this.configurationDone()),this.dap.on("loadedSources",()=>this._onLoadedSources()),this.dap.on("disableSourcemap",a=>this._onDisableSourcemap(a)),this.dap.on("source",a=>this._onSource(a)),this.dap.on("threads",()=>this._onThreads()),this.dap.on("stackTrace",a=>this._withThread(u=>u.stackTrace(a))),this.dap.on("variables",a=>this._onVariables(a)),this.dap.on("readMemory",a=>this._onReadMemory(a)),this.dap.on("writeMemory",a=>this._onWriteMemory(a)),this.dap.on("setVariable",a=>this._onSetVariable(a)),this.dap.on("setExpression",a=>this._onSetExpression(a)),this.dap.on("continue",()=>this._withThread(a=>a.resume())),this.dap.on("pause",()=>this._withThread(a=>a.pause())),this.dap.on("next",()=>this._withThread(a=>a.stepOver())),this.dap.on("stepIn",a=>this._withThread(u=>u.stepInto(a.targetId))),this.dap.on("stepOut",()=>this._withThread(a=>a.stepOut())),this.dap.on("restartFrame",a=>this._withThread(u=>u.restartFrame(a))),this.dap.on("scopes",a=>this._withThread(u=>u.scopes(a))),this.dap.on("evaluate",a=>this.onEvaluate(a)),this.dap.on("completions",a=>this._withThread(u=>u.completions(a))),this.dap.on("exceptionInfo",()=>this._withThread(a=>a.exceptionInfo())),this.dap.on("enableCustomBreakpoints",a=>this.enableCustomBreakpoints(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("disableCustomBreakpoints",a=>this._disableCustomBreakpoints(a)),this.dap.on("prettyPrintSource",a=>this._prettyPrintSource(a)),this.dap.on("revealPage",()=>this._withThread(a=>a.revealPage())),this.dap.on("getPerformance",()=>this._withThread(a=>s.retrieve(a.cdp()))),this.dap.on("breakpointLocations",a=>this._breakpointLocations(a)),this.dap.on("createDiagnostics",a=>this._dumpDiagnostics(a)),this.dap.on("requestCDPProxy",()=>this._requestCDPProxy()),this.dap.on("setExcludedCallers",a=>this._onSetExcludedCallers(a)),this.dap.on("saveDiagnosticLogs",({toFile:a})=>this._saveDiagnosticLogs(a)),this.dap.on("setSourceMapStepping",a=>this._setSourceMapStepping(a)),this.dap.on("stepInTargets",a=>this._stepInTargets(a)),this.dap.on("setDebuggerProperty",a=>this._setDebuggerProperty(a)),this.dap.on("setSymbolOptions",a=>this._setSymbolOptions(a))}_setDebuggerProperty(e){var r;return(r=this._thread)==null||r.cdp().DotnetDebugger.setDebuggerProperty(e),Promise.resolve({})}_setSymbolOptions(e){var r;return(r=this._thread)==null||r.cdp().DotnetDebugger.setSymbolOptions(e),Promise.resolve({})}_breakpointLocations(e){return this._withThread(async r=>{let i=this.sourceContainer.source(e.source);return i?{breakpoints:(await this.breakpointManager.getBreakpointLocations(r,i,new Ot(e.line,e.column||1),new Ot(e.endLine||e.line+1,e.endColumn||e.column||1))).map(s=>s.uiLocations.find(o=>o.source===i)).filter(tr).map(s=>({line:s.lineNumber,column:s.columnNumber}))}:{breakpoints:[]}})}_stepInTargets(e){return this._withThread(async r=>({targets:await r.getStepInTargets(e.frameId)}))}_setSourceMapStepping({enabled:e}){return this.sourceContainer.doSourceMappedStepping=e,Promise.resolve({})}async _saveDiagnosticLogs(e){let r=this._services.get(ae).getRecentLogs();return await this._services.get(it).writeFile(e,r.map(i=>JSON.stringify(i)).join(`
`)),{}}async launchBlocker(){await this._configurationDoneDeferred.promise,await this._services.get(cl).launchBlocker,await this.breakpointManager.launchBlocker()}async _onSetExcludedCallers({callers:e}){return(await this._threadDeferred.promise).setExcludedCallers(e),{}}async onInitialize(e){console.assert(e.linesStartAt1),console.assert(e.columnsStartAt1);let r=Ls.capabilities(!0);return setTimeout(()=>this.dap.initialized({}),0),setTimeout(()=>{var i;return(i=this._thread)==null?void 0:i.dapInitialized()},0),r}static capabilities(e=!1){return{supportsConfigurationDoneRequest:!0,supportsFunctionBreakpoints:!1,supportsConditionalBreakpoints:!0,supportsHitConditionalBreakpoints:!0,supportsEvaluateForHovers:!0,supportsReadMemoryRequest:!0,supportsWriteMemoryRequest:!0,exceptionBreakpointFilters:[{filter:"all",label:Li.t("Caught Exceptions"),default:!1,supportsCondition:!0,description:Li.t("Breaks on all throw errors, even if they're caught later."),conditionDescription:'error.name == "MyError"'},{filter:"uncaught",label:Li.t("Uncaught Exceptions"),default:!1,supportsCondition:!0,description:Li.t("Breaks only on errors or promise rejections that are not handled."),conditionDescription:'error.name == "MyError"'}],supportsStepBack:!1,supportsSetVariable:!0,supportsRestartFrame:!0,supportsGotoTargetsRequest:!1,supportsStepInTargetsRequest:!0,supportsCompletionsRequest:!0,supportsModulesRequest:!1,additionalModuleColumns:[],supportedChecksumAlgorithms:[],supportsRestartRequest:!0,supportsExceptionOptions:!1,supportsValueFormattingOptions:!0,supportsExceptionInfoRequest:!0,supportTerminateDebuggee:!0,supportsDelayedStackTraceLoading:!0,supportsLoadedSourcesRequest:!0,supportsLogPoints:!0,supportsTerminateThreadsRequest:!1,supportsSetExpression:!0,supportsTerminateRequest:!1,completionTriggerCharacters:[".","[",'"',"'"],supportsBreakpointLocationsRequest:!0,supportsClipboardContext:!0,supportsExceptionFilterOptions:!0,supportsEvaluationOptions:!!e,supportsDebuggerProperties:!!e,supportsSetSymbolOptions:!!e}}async _onSetBreakpoints(e){var r;return this.breakpointManager.setBreakpoints(e,((r=e.breakpoints)==null?void 0:r.map(()=>this.breakpointIdCounter()))??[])}async setExceptionBreakpoints(e){return await this._services.get(cl).setBreakpoints(e),{}}async configurationDone(){return this._configurationDoneDeferred.resolve(),{}}async _onLoadedSources(){return{sources:await this.sourceContainer.loadedSources()}}async _onDisableSourcemap(e){var i;let r=this.sourceContainer.source(e.source);if(!r)return Xe(Li.t("Source not found"));if(!(r instanceof It))return Xe(Li.t("Source not a source map"));for(let n of r.compiledToSourceUrl.keys())this.sourceContainer.disableSourceMapForSource(n,!0);return await((i=this._thread)==null?void 0:i.refreshStackTrace()),{}}async _onSource(e){e.source||(e.source={sourceReference:e.sourceReference}),e.source.path=Yi(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Xe(Li.t("Source not found"));let i=await r.content();return i===void 0?(r instanceof It&&this.dap.suggestDisableSourcemap({source:e.source}),Xe(Li.t("Unable to retrieve source content"))):{content:i,mimeType:r.getSuggestedMimeType}}async _onThreads(){let e=[];return this._thread&&e.push({id:this._thread.id,name:this._thread.name()}),{threads:e}}findVariableStore(e){if(!this._thread)return;let r=this._thread.pausedVariables();if(r&&e(r))return r;if(e(this._thread.replVariables))return this._thread.replVariables}async _onVariables(e){let r=this.findVariableStore(i=>i.hasVariable(e.variablesReference));return{variables:await(r==null?void 0:r.getVariables(e))??[]}}async _onReadMemory(e){var n;let r=e.memoryReference,i=await((n=this.findVariableStore(s=>s.hasMemory(r)))==null?void 0:n.readMemory(r,e.offset??0,e.count));return i?{address:"0",data:i.toString("base64"),unreadableBytes:e.count-i.length}:{address:"0",unreadableBytes:e.count}}async _onWriteMemory(e){var n;let r=e.memoryReference;return{bytesWritten:await((n=this.findVariableStore(s=>s.hasMemory(r)))==null?void 0:n.writeMemory(r,e.offset??0,Buffer.from(e.data,"base64")))}}async _onSetExpression(e){if(!this._thread)throw new Z(l0());let r=await this._thread.evaluate({expression:`${e.expression} = ${af(e.value)}`,context:"repl",frameId:e.frameId});return{value:r.result,variablesReference:r.variablesReference,indexedVariables:r.indexedVariables,namedVariables:r.namedVariables,presentationHint:r.presentationHint,type:r.type}}async _onSetVariable(e){let r=this.findVariableStore(i=>i.hasVariable(e.variablesReference));return r?(e.value=af(e.value.trim()),r.setVariable(e)):Xe(Li.t("Variable not found"))}_withThread(e){if(!this._thread)throw new Z(l0());return e(this._thread)}async _refreshStackTrace(){if(!this._thread)return;this._thread.pausedDetails()&&await this._thread.refreshStackTrace()}createThread(e,r){this._thread=new ko(this.sourceContainer,e,this.dap,r,this._services.get(vo),this._services.get(ae),this._services.get(wi),this._services.get(Vg),this.launchConfig,this.breakpointManager,this._services.get(mH),this._services.get(cl),this._services.get(To),this._services.get(wo));let i=this._services.get(AH);i.connect(this.dap,this._thread),"profileStartup"in this.launchConfig&&this.launchConfig.profileStartup&&i.start(this.dap,this._thread,{type:er.type});for(let n of this._customBreakpoints)this._thread.updateCustomBreakpoint(n,!0);return this.asyncStackPolicy.connect(e).then(n=>this._disposables.push(n)).catch(n=>this._services.get(ae).error("internal","Error enabling async stacks",n)),this.breakpointManager.setThread(this._thread),this._services.get(mt).attach(e),this._threadDeferred.resolve(this._thread),this._thread}async enableCustomBreakpoints(e){let r=[];for(let i of e.ids)this._customBreakpoints.add(i),this._thread&&r.push(this._thread.updateCustomBreakpoint(i,!0));return await Promise.all(r),{}}async _disableCustomBreakpoints(e){let r=[];for(let i of e.ids)this._customBreakpoints.delete(i),this._thread&&r.push(this._thread.updateCustomBreakpoint(i,!1));return await Promise.all(r),{}}async _toggleSkipFileStatus(e){return await this._services.get(Eo).toggleSkippingFile(e),await this._refreshStackTrace(),{}}async _prettyPrintSource(e){if(!e.source||!this._thread)return{canPrettyPrint:!1};e.source.path=Yi(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Xe(Li.t("Source not found"));let i=await r.prettyPrint();if(!i)return Xe(Li.t("Unable to pretty print"));let{map:n,source:s}=i;return await this.breakpointManager.moveBreakpoints(this._thread,r,n,s),this.sourceContainer.clearDisabledSourceMaps(r),await this._refreshStackTrace(),{}}onEvaluate(e){return e.expression===".scripts"?this._dumpDiagnostics({fromSuggestion:!1}).then(this.dap.openDiagnosticTool).then(()=>({result:"Opening diagnostic tool...",variablesReference:0})):this._withThread(r=>r.evaluate(e))}async _dumpDiagnostics(e){let r={file:await this._services.get(Oo).generateHtml()};return e.fromSuggestion&&this._services.get(Lr).report("diagnosticPrompt",{event:"opened"}),r}async _requestCDPProxy(){return await this._cdpProxyProvider.proxy()}dispose(){this._disposables.dispose(),ng(this._services)}};var P8=F(vt()),rv=F(w("os"));var tZ={connect:async()=>Wu},TR=t=>({async connect(e){return await e.Debugger.setAsyncCallStackDepth({maxDepth:t}),Wu}}),rZ=t=>{let e=new J,r=!1,i=()=>{r||(r=!0,e.fire())};return{async connect(n){if(r)return await n.Debugger.setAsyncCallStackDepth({maxDepth:t}),Wu;let s=new Qe;return s.push(e.event(()=>{s.dispose(),n.Debugger.setAsyncCallStackDepth({maxDepth:t})}),n.Debugger.on("breakpointResolved",i),n.Debugger.on("paused",o=>{o.reason!=="instrumentation"&&i()})),s}}},DR=TR(32),$R=t=>t===!1?tZ:t===!0?DR:"onAttach"in t?TR(t.onAttach):"onceBreakpointResolved"in t?rZ(t.onceBreakpointResolved):DR;var MR=w("inspector"),kR=w("fs"),SH=class{constructor(e){this.file=e;this.session=new MR.Session;this.session.connect()}async start(){try{await this.post("Profiler.enable")}catch{}await this.post("Profiler.start")}async stop(){let{profile:e}=await this.post("Profiler.stop");await kR.promises.writeFile(this.file,JSON.stringify(e))}dispose(){this.session.disconnect()}post(e,r){return new Promise((i,n)=>this.session.post(e,r,(s,o)=>{s?n(s):i(o)}))}};var Zf=Symbol("MutableLaunchConfig"),RR=t=>{let e=new J;return new Proxy({},{ownKeys(){return Object.keys(t)},get(r,i){switch(i){case"update":return n=>{t=n,e.fire()};case"onChange":return e.event;default:return t[i]}}})};var Qb=F(nI()),b8=F(h_()),Yb=w("fs"),Zb=F(pe());var td=F(pe());var ed=class{toDap(){return{category:"console",output:"\x1B[2J"}}},MH=class{toDap(){return{category:"stdout",output:"",group:"end"}}};var kH=class{constructor(e){this.sink=e;this.q=[];this.disposed=!1;this.onDrainedEmitter=new J;this.onDrained=this.onDrainedEmitter.event}get length(){return this.q.length}enqueue(e){this.disposed||(this.q.push(new sI(e)),this.q.length===1&&this.process())}dispose(){this.disposed=!0,this.q=[]}async process(){let e=this.q.findIndex(r=>r.value===KR);e===0?await this.q[0].wait:e===-1?(this.sink(GR(this.q)),this.q=[]):(this.sink(GR(this.q.slice(0,e))),this.q=this.q.slice(e)),this.q.length?this.process():this.onDrainedEmitter.fire()}},GR=t=>t.map(e=>e.value).filter(e=>e!==zR),KR=Symbol("unsettled"),zR=Symbol("unsettled"),sI=class{constructor(e){this.value=KR;e instanceof Promise?this.wait=e.then(r=>{this.value=r},()=>{this.value=zR}):(this.value=e,this.wait=Promise.resolve())}};var xZ=new Set(["group","assert","count"]),dl=class{constructor(e,r){this.dap=e;this.isDirty=!1;this.queue=new kH(e=>{for(let r of e)this.dap.output(r)});this.onDrained=this.queue.onDrained;r.register(0,async()=>{this.length&&await new Promise(i=>this.onDrained(i)),this.dispose()})}get length(){return this.queue.length}dispose(){this.queue.dispose()}dispatch(e,r){let i=this.parse(r);i&&this.enqueue(e,i)}enqueue(e,r){if(!(r instanceof ed))this.isDirty=!0;else if(this.isDirty)this.isDirty=!1;else return;this.queue.enqueue(r.toDap(e))}parse(e){var r;if(e.type==="log"){let i=(r=e.stackTrace)==null?void 0:r.callFrames[0];if(i&&i.url==="internal/console/constructor.js"&&xZ.has(i.functionName))return}switch(e.type){case"clear":return new ed;case"endGroup":return new MH;case"assert":return new cH(e);case"table":return new hH(e);case"startGroup":case"startGroupCollapsed":return new dH(e);case"debug":case"log":case"info":return new Ro(e);case"trace":return new lH(e);case"error":return new fH(e);case"warning":return new pH(e);case"dir":case"dirxml":return new Ro(e);case"count":return new Ro(e);case"profile":case"profileEnd":return new Ro(e);case"timeEnd":return new Ro(e);default:try{gh(e.type,"unknown console message type")}catch{}}}};dl=z([(0,td.injectable)(),E(0,(0,td.inject)(qr)),E(1,(0,td.inject)(wo))],dl);var $i=F(pe());var bB=F(JR()),vB=w("dns"),py=F(yB()),fu=F(pe());var ly=Symbol("IRequestOptionsProvider");var qo=class{constructor(e,r){this.fs=e;this.options=r;this.autoLocalhostPortFallbacks={}}async fetch(e,r=Cr,i){try{let s=(0,bB.default)(e);return{ok:!0,url:e,body:s.toString("utf-8"),statusCode:200}}catch{}let n=mr(e)?e:Ht(e);if(n)try{return{ok:!0,url:e,body:await this.fs.readFile(n,"utf-8"),statusCode:200}}catch(s){return{ok:!1,url:e,error:s,statusCode:200}}return this.fetchHttp(e,r,i)}async fetchJson(e,r,i){let n=await this.fetch(e,r,{Accept:"application/json",...i});if(!n.ok)return n;try{return{...n,body:JSON.parse(n.body)}}catch(s){return{...n,ok:!1,url:e,error:s}}}async fetchHttp(e,r,i){var p;let n=new URL(e),s=n.protocol!=="http:",o=Number(n.port)??(s?443:80),a={headers:i,followRedirect:!0};s&&await yc(e)&&(a.rejectUnauthorized=!1),(p=this.options)==null||p.provideOptions(a,e);let u=n.hostname==="localhost";if(u&&this.autoLocalhostPortFallbacks[o]){let f=await this.requestHttp(n.toString(),a,r);return f.statusCode!==503?f:(delete this.autoLocalhostPortFallbacks[o],this.requestHttp(e,a,r))}let l=await this.requestHttp(e,a,r);if(l.statusCode===503&&u){let f;try{f=await vB.promises.lookup(n.hostname)}catch{return l}n.hostname=f.family===6?"127.0.0.1":"[::1]",l=await this.requestHttp(n.toString(),a,r),l.statusCode!==503&&(this.autoLocalhostPortFallbacks[o]=n.hostname)}return l}async requestHttp(e,r,i){var s,o,a;(s=this.options)==null||s.provideOptions(r,e);let n=new Qe;try{let u=(0,py.default)(e,r);n.push(i.onCancellationRequested(()=>u.cancel()));let c=await u;return{ok:!0,url:e,body:c.body,statusCode:c.statusCode}}catch(u){if(!(u instanceof py.RequestError))throw u;let c=u.response?String((o=u.response)==null?void 0:o.body):u.message,l=((a=u.response)==null?void 0:a.statusCode)??503;return{ok:!1,body:c,statusCode:l,url:e,error:new Zm(l,e,c)}}finally{n.dispose()}}};qo=z([(0,fu.injectable)(),E(0,(0,fu.inject)(it)),E(1,(0,fu.optional)()),E(1,(0,fu.inject)(ly))],qo);var du=class extends qo{constructor(r,i,n,s,o){super(r,o);this.logger=i;this.target=n;this.cdp=s;this.disposables=new Qe}dispose(){this.disposables.dispose()}async fetchHttp(r,i,n={}){let s=await super.fetchHttp(r,i,n);return s.ok?s:(this.logger.info("runtime","Network load failed, falling back to CDP",{url:r,res:s}),this.fetchOverBrowserNetwork(r,s))}async fetchOverBrowserNetwork(r,i){var u,c;if(!this.cdp)return i;let n=await this.cdp.Network.loadNetworkResource({frameId:(u=this.target)==null?void 0:u.targetInfo.targetId,url:r,options:{includeCredentials:!0,disableCache:!0}});if(!n||!n.resource.success||!n.resource.httpStatusCode||n.resource.httpStatusCode>=400||!n.resource.stream)return i;let s=Number((c=n.resource.headers)==null?void 0:c["Content-Length"]);isNaN(s)&&(s=1/0);let o=[],a=0;for(;;){let l=await this.cdp.IO.read({handle:n.resource.stream,offset:a});if(!l)return this.logger.info("runtime","Stream error encountered in middle, falling back",{url:r}),i;let p=l.base64Encoded?Buffer.from(l.data,"base64").toString():l.data;if(a+=Buffer.byteLength(p,"utf-8"),o.push(p),a>=s){this.cdp.IO.close({handle:n.resource.stream});break}if(l.eof)break}return{ok:!0,body:o.join(""),statusCode:n.resource.httpStatusCode,url:r}}};du=z([(0,$i.injectable)(),E(0,(0,$i.inject)(it)),E(1,(0,$i.inject)(ae)),E(2,(0,$i.optional)()),E(2,(0,$i.inject)(Yn)),E(3,(0,$i.optional)()),E(3,(0,$i.inject)(dt)),E(4,(0,$i.optional)()),E(4,(0,$i.inject)(ly))],du);var Go=F(pe()),IB=F(Af());var Vo="node:";function wB(t){let e=[];for(let r=0;r<t.length;r++){let i=t[r];if(i.startsWith("!")){let n=_B(i.slice(1));for(let s=0;s<e.length;s++)e[s]=`^(?!${n.slice(1)})${e[s].slice(1)}`}else e.push(_B(i))}return e.map(r=>new RegExp(r,"i"))}function _B(t){let e=t.split("/"),r=[];for(let i=0;i<e.length;i++){let n=e[i];if(n==="**")i===0?r.push("(.+/)?"):i===e.length-1||r.push(".*/");else{if(n.includes("*")){let s=n.split("*");r.push(s.map(o=>Er(o)).join("[^\\/]*"))}else r.push(Er(n));r.push(i<e.length-1?"\\/":"$")}}return`^${r.join("")}`}function Dre(t){let e=/^<node_internals>[\/\\](.*)$/,r=t.map(i=>{i=i.trim();let n=e.exec(i);return n?n[1]:null}).filter(tr);return r.length>0?r:void 0}function Tre(t,e){return e.filter(i=>!i.includes("<node_internals>")).map(i=>mr(i)?bc(t.rebaseLocalToRemote(i)):lt(i)).map(qm)}var Zn=class{constructor({skipFiles:e},r,i,n,s){this.logger=i;this.cdp=n;this._regexForAuthored=cx(wB);this._scriptsWithSkipping=new Set;this._targetId=s.id(),this._rootTargetId=AB(s).id(),this._isUrlFromSourceMapSkipped=new kn(o=>this._normalizeUrl(o)),this._authoredGlobs=Tre(r,e),this._nodeInternalsGlobs=Dre(e),this._initNodeInternals(s),this._updateSkippedDebounce=px(500,()=>this._updateGeneratedSkippedSources()),e.length&&this._updateGeneratedSkippedSources(),Zn.sharedSkipsEmitter.event(o=>{o.rootTargetId===this._rootTargetId&&o.targetId!==this._targetId&&this._toggleSkippingFile(o.params)})}setSourceContainer(e){this._sourceContainer=e}_testSkipNodeInternal(e){return this._nodeInternalsGlobs?(e.startsWith(Vo)&&(e=e.slice(Vo.length)),(0,IB.default)([e],this._nodeInternalsGlobs).length>0):!1}_testSkipAuthored(e){return this._regexForAuthored(this._authoredGlobs).some(r=>r.test(e))}_isNodeInternal(e,r){return e.startsWith(Vo)?!0:(r==null?void 0:r.has(e))||/^internal\/.+\.js$/.test(e)}async _updateGeneratedSkippedSources(){var i;let e=this._regexForAuthored(this._authoredGlobs).map(n=>n.source),r=(i=this._allNodeInternals)==null?void 0:i.settledValue;if(r){e.push(`^(${Vo})?internal\\/`);for(let n of r)this._testSkipNodeInternal(n)&&e.push(`^(${Vo})?${Er(n)}$`)}await this.cdp.Debugger.setBlackboxPatterns({patterns:e})}_normalizeUrl(e){return lt(e.toLowerCase())}isScriptSkipped(e){var r;return this._isNodeInternal(e,(r=this._allNodeInternals)==null?void 0:r.settledValue)?this._testSkipNodeInternal(e):(e=this._normalizeUrl(e),this._isUrlFromSourceMapSkipped.get(e)===!0?!0:this._testSkipAuthored(e))}async _updateSourceWithSkippedSourceMappedSources(e,r){let i=this.isScriptSkipped(e.url),n=[],s=i;for(let a of e.sourceMap.sourceByUrl.values()){let u=this.isScriptSkipped(a.url);if(typeof u>"u"&&(u=i),u!==s){let c=await this._sourceContainer.currentSiblingUiLocations({source:a,lineNumber:1,columnNumber:1},e);c[0]?(n.push({lineNumber:c[0].lineNumber-1,columnNumber:c[0].columnNumber-1}),s=!s):this.logger.error("internal","Could not map script beginning for "+a.sourceReference)}}let o=r;n.length||(o=o.filter(a=>this._scriptsWithSkipping.has(a.scriptId)),o.forEach(a=>this._scriptsWithSkipping.delete(a.scriptId))),await Promise.all(o.map(({scriptId:a})=>this.cdp.Debugger.setBlackboxedRanges({scriptId:a,positions:n})))}initializeSkippingValueForSource(e){this._initializeSkippingValueForSource(e)}_initializeSkippingValueForSource(e,r=e.scripts){let i=e.url,n=this.isScriptSkipped(i);if(!n&&e.absolutePath&&this._testSkipAuthored(Oe(e.absolutePath))&&(this.setIsUrlBlackboxSkipped(i,!0),n=!0,this._updateSkippedDebounce()),xr(e)){if(n)for(let s of e.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(s.url,!0);for(let s of e.sourceMap.sourceByUrl.values())this._initializeSkippingValueForSource(s,r);this._updateSourceWithSkippedSourceMappedSources(e,r)}}async _initNodeInternals(e){if(e.type()!=="node"||!this._nodeInternalsGlobs||this._allNodeInternals)return;let r=this._allNodeInternals=je(),i=await this.cdp.Runtime.evaluate({expression:"require('module').builtinModules"+ft(),returnByValue:!0,includeCommandLineAPI:!0});i&&!i.exceptionDetails?r.resolve(new Set(i.result.value.map(n=>n+".js"))):r.resolve(new Set),await this._updateGeneratedSkippedSources()}async _toggleSkippingFile(e){let r;e.resource&&mr(e.resource)&&(r=e.resource);let i={path:r,sourceReference:e.sourceReference},n=this._sourceContainer.source(i);if(!n)return{};let s=!this.isScriptSkipped(n.url);if(n instanceof It){this._isUrlFromSourceMapSkipped.set(n.url,s);let o=Array.from(n.compiledToSourceUrl.keys());await Promise.all(o.map(a=>this._updateSourceWithSkippedSourceMappedSources(a,a.scripts)))}else{if(xr(n))for(let o of n.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(o.url,s);this.setIsUrlBlackboxSkipped(n.url,s),await this._updateGeneratedSkippedSources()}return{}}setIsUrlBlackboxSkipped(e,r){let i=e,n=`!${i}`,s=this._authoredGlobs.filter(o=>o!==i&&o!==n);this._regexForAuthored(s).some(o=>o.test(e))!==r&&(s.push(r?i:n),this._regexForAuthored.clear()),this._authoredGlobs=s}async toggleSkippingFile(e){let r=await this._toggleSkippingFile(e);return Zn.sharedSkipsEmitter.fire({params:e,rootTargetId:this._rootTargetId,targetId:this._targetId}),r}};Zn.sharedSkipsEmitter=new J,Zn=z([(0,Go.injectable)(),E(0,(0,Go.inject)(Ne)),E(1,(0,Go.inject)(et)),E(2,(0,Go.inject)(ae)),E(3,(0,Go.inject)(dt)),E(4,(0,Go.inject)(Yn))],Zn);function AB(t){let e=t.parent();return e?AB(e):t}var fd=F(pe());var EB=w("path");var SB=/^webpack:\/{3}([^/]+?\.vue)(\?[0-9a-z]*)?$/i,$re=/^webpack:\/{3}\.\/.+\.vue\?[0-9a-z]+$/i,xl=Symbol("IVueFileMapper");var El=class{constructor(e,r){this.files=e;this.search=r;this.getMapping=Ae(async()=>{let e=new Map;return await this.search.streamAllChildren(this.files,r=>e.set((0,EB.basename)(r),r)),e})}async lookup(e){let r=SB.exec(e);return r?(await this.getMapping()).get(r[1]):void 0}getVueHandling(e){return this.files.empty?0:SB.test(e)?1:$re.test(e)?2:0}};El=z([(0,fd.injectable)(),E(0,(0,fd.inject)(ws)),E(1,(0,fd.inject)(Dc))],El);var es=class{constructor(){this.changeEmitter=new J;this.addEmitter=new J;this.removeEmitter=new J;this.targetMap=new Map;this.onChanged=this.changeEmitter.event;this.onAdd=this.addEmitter.event;this.onRemove=this.removeEmitter.event}get size(){return this.targetMap.size}add(e,r){this.targetMap.set(e,r),this.addEmitter.fire([e,r]),this.changeEmitter.fire()}get(e){return this.targetMap.get(e)}remove(e){let r=this.targetMap.get(e);return r===void 0?!1:(this.targetMap.delete(e),this.removeEmitter.fire([e,r]),this.changeEmitter.fire(),!0)}value(){return this.targetMap.values()}};var QF=F(XF()),by=F(pe());var JF=w("child_process"),ks=class extends Error{constructor(r,i,n,s,o){super(`${r} exited with code ${s||-1}: ${i}`);this.command=r;this.stderr=i;this.stdout=n;this.code=s;this.innerError=o}static fromExeca(r){return new ks(r.command,r.stderr.toString(),r.stdout.toString(),r.exitCode)}};function yy(t,e,r){return new Promise((i,n)=>{let s=(0,JF.spawn)(t,e,{...r,stdio:"pipe"}),o=[],a=[];s.stderr.on("data",c=>o.push(c)),s.stdout.on("data",c=>a.push(c));let u=(c,l)=>n(new ks(t,Buffer.concat(o).toString(),Buffer.concat(a).toString(),c,l));s.on("error",c=>u(void 0,c)),s.on("close",c=>c?u(c):i({stdout:Buffer.concat(a).toString(),stderr:Buffer.concat(o).toString()}))})}var Oie=new Map([["chrome",0],["safari",1],["firefox",2],["msedge",3],["microsoft edge",3],["appxq0fevzme2pys62n3e0fbqa7peapykr8v",4],["ie.http",5]]),YF=t=>{t=t.toLowerCase();for(let[e,r]of Oie.entries())if(t.includes(e))return r},ZF=Symbol("IDefaultBrowserProvider"),Cl=class{constructor(e,r=process.platform){this.execa=e;this.platform=r;this.lookup=Ae(()=>this.platform==="win32"?this.lookupWindows():this.lookupUnix())}async lookupUnix(){let{name:e}=await(0,QF.default)();return YF(e)}async lookupWindows(){let e=await this.execa("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]);if(e.failed)throw ks.fromExeca(e);let r=/ProgId\s*REG_SZ\s*(\S+)/.exec(e.stdout);if(r)return YF(r[1])}};Cl=z([(0,by.injectable)(),E(0,(0,by.inject)(gf))],Cl);var t2=F(pe()),_y=F(w("os"));var vy=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}};var LA=class{constructor(e=512){this.size=e;this.items=[];this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}},Mi=class{constructor(){this.logTarget={queue:[]};this.logBuffer=new LA}static async test(){let e=new Mi;return e.setup({sinks:[new vy],showWelcome:!1}),e}info(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:1})}verbose(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:0})}warn(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:2})}error(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:3})}fatal(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:4})}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget){this.logTarget.queue.push(e);return}for(let r of this.logTarget.sinks)r.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(let e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map(i=>i.setup())),e.showWelcome!==!1){let i=Nie();for(let n of e.sinks)n.write(i)}let r=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in r?r.sinks.forEach(i=>i.dispose()):r.queue.forEach(i=>this.log(i))}};Mi.null=(()=>{let e=new Mi;return e.setup({sinks:[]}),e})(),Mi=z([(0,t2.injectable)()],Mi);var Nie=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${Qm} v${pf} started`,metadata:{os:`${_y.platform()} ${_y.arch()}`,nodeVersion:process.version,adapterVersion:pf}});var PW=F(EW()),db=F(pe());var Pu=Symbol("touched"),sa;(u=>{function t(){return{children:{},[Pu]:1}}u.root=t;function e(c,l){return c[Pu]=1,a(c,o(l),0)}u.getPath=e;function r(c){c[Pu]=1}u.touch=r;function i(c){c[Pu]=2}u.touchAll=i;function n(c,l){let p=c.children[l]??={children:{}};return p[Pu]=1,p}u.getOrMakeChild=n;function s(c){if(c[Pu]){for(let[l,p]of Object.entries(c.children))switch(p[Pu]){case 1:s(p);break;case 2:break;default:delete c.children[l]}return c}}u.prune=s;function o(c){let l=c.split(/\/|\\/);return l[0]===""&&l.unshift(),l}function a(c,l,p){let f=n(c,l[p]);return p===l.length-1?f:a(f,l,p+1)}})(sa||={});var EE=w("fs"),xE=F(Af()),Lu=w("path"),xW=F(AE());var xle=/\//g,fb=class{constructor(e){this.stat=wa(e=>EE.promises.lstat(e));this.readdir=wa(e=>EE.promises.readdir(e,{withFileTypes:!0}));this.alreadyProcessedFiles=new Set;this.fileEmitter=new J;this.onFile=this.fileEmitter.event;this.errorEmitter=new J;this.onError=this.errorEmitter.event;this.processor=e.fileProcessor,this.filter=e.filter,this.ignore=e.ignore.map(n=>xE.default.matcher((0,xW.default)(lt(n),{cwd:e.cwd})));let r=(0,Lu.isAbsolute)(e.pattern)?(0,Lu.relative)(e.cwd,e.pattern):e.pattern,i=xE.default.parse(lt(r),{ignore:e.ignore,cwd:e.cwd,expand:!0});this.done=Promise.all(i.map(n=>{let s=[];for(let c=1;c<n.tokens.length;){let l=c+1;for(;l<n.tokens.length&&n.tokens[l].type!=="slash";)l++;let p=n.tokens[c];p.type==="globstar"?s.push("**"):l===c+1&&p.type==="text"?s.push(p.value):s.push(new RegExp("^"+n.tokens.slice(c,l).map(f=>f.output||f.value).join("")+"$")),c=l+1}let o=s[0]==="**"?[0,1]:[0],a=sa.getPath(e.cache,e.cwd),u={elements:s,seen:new Set};return Promise.all(o.map(c=>this.readSomething(u,c,e.cwd,[],a)))})).then(()=>{})}async readSomething(e,r,i,n,s){if(this.alreadyProcessedFiles.has(s))return;let o=`${r}:${i}`;if(e.seen.has(o))return;e.seen.add(o);let a;try{a=await this.stat(i)}catch(c){this.errorEmitter.fire({path:i,error:c});return}if(this.alreadyProcessedFiles.has(s))return;let u=s.data;if(u&&a.mtimeMs===u.mtime){if(u.type===0){let c=[],p=Object.entries(s.children).filter(([,f])=>{var g;return((g=f.data)==null?void 0:g.type)!==0}).map(([f])=>f);for(let[f,g]of Object.entries(s.children))c.push(g.data!==void 0?this.handleDirectoryEntry(e,r,i,{name:f,type:g.data.type},p,s):this.stat(i).then(m=>this.handleDirectoryEntry(e,r,i,{name:f,type:m.isFile()?1:0},p,s),()=>{}));await Promise.all(c)}else u.type===1&&(this.alreadyProcessedFiles.add(s),this.fileEmitter.fire(u.extracted));return}a.isDirectory()?await this.handleDir(e,r,a.mtimeMs,i,s):(this.alreadyProcessedFiles.add(s),await this.handleFile(a.mtimeMs,i,n,s))}applyFilterToFile(e,r,i){var o;let n=i.children[e];if(this.alreadyProcessedFiles.has(n))return!1;if(!this.filter)return!0;let s=((o=n.data)==null?void 0:o.type)===1?n.data.extracted:void 0;return sa.touch(n),this.filter(r,s)}handleDirectoryEntry(e,r,i,n,s,o){let a=i+"/"+n.name,u=this.getDirectoryReadDescends(e,r,i,n);if(u===void 0)return;let c=sa.getOrMakeChild(o,n.name);if(!(n.type===1&&!this.applyFilterToFile(n.name,a,o)))return typeof u=="number"?this.readSomething(e,r+u,a,s,c):Promise.all(u.map(l=>this.readSomething(e,r+l,a,s,c)))}getDirectoryReadDescends(e,r,i,n){let s=i+"/"+n.name;if(this.ignore.some(u=>u(s)))return;let o=r===e.elements.length-1,a=e.elements[r];if(a==="**")return n.type===1?o?0:this.getDirectoryReadDescends(e,r+1,i,n):o?0:[0,1];if((a instanceof RegExp&&a.test(n.name)||a===n.name)&&(n.type===0?!o:o))return 1}async handleFile(e,r,i,n){let s=Lu.sep==="/"?r:r.replace(xle,Lu.sep),o;try{o=await this.processor(s,{siblings:i,mtime:e})}catch(a){this.errorEmitter.fire({path:s,error:a});return}n.data={type:1,mtime:e,extracted:o},this.fileEmitter.fire(o)}async handleDir(e,r,i,n,s){let o;try{o=await this.readdir(n)}catch(c){this.errorEmitter.fire({path:n,error:c});return}let a=[],u=o.filter(c=>c.isFile()).map(c=>c.name);for(let c of o){if(c.name.startsWith("."))continue;let l;if(c.isDirectory())l=0;else if(c.isFile())l=1;else continue;a.push(this.handleDirectoryEntry(e,r,n,{name:c.name,type:l},u,s))}await Promise.all(a),s.data={type:0,mtime:i}}};var Kl=class{constructor(e){this.logger=e}async streamAllChildren(e,r){let i=[];return await this.globForFiles(e,s=>i.push(r(_t(s.path)))),(await Promise.all(i)).filter(s=>s!==void 0)}async streamChildrenWithSourcemaps(e){let r=[],i=e.lastState||{},n={};return await Promise.all([...e.files.explode()].map(async o=>{let a=JSON.stringify(o),u=i[a]||sa.root();await this._streamChildrenWithSourcemaps(u,e,r,o);let c=sa.prune(u);c&&(n[a]=c)})),this.logger.info("sourcemap.parsing",`turboGlobStream search found ${r.length} files`),{values:(await Promise.all(r)).filter(tr),state:n}}async _streamChildrenWithSourcemaps(e,r,i,n){let s=new fb({pattern:n.pattern,ignore:n.negations,cwd:n.cwd,cache:e,filter:r.filter,fileProcessor:(o,a)=>_$(o,a).then(u=>u&&r.processMap(u))});s.onError(({path:o,error:a})=>{this.logger.warn("sourcemap.parsing","Error parsing source map",{error:a,path:o})}),s.onFile(o=>o&&i.push(r.onProcessedMap(o))),await s.done}async globForFiles(e,r){await Promise.all([...e.explode()].map(i=>new Promise((n,s)=>(0,PW.default)([i.pattern,"!**/*.asar/**"],{ignore:i.negations,matchBase:!0,cwd:i.cwd}).on("data",r).on("finish",n).on("error",s))))}};Kl=z([(0,db.injectable)(),E(0,(0,db.inject)(ae))],Kl);var Ab=F(vt()),ca=F(pe());var LW=w("url"),CW=F(w("path"));var hb=class{constructor(){this._onFrameAddedEmitter=new J;this._onFrameRemovedEmitter=new J;this._onFrameNavigatedEmitter=new J;this.onFrameAdded=this._onFrameAddedEmitter.event;this.onFrameRemoved=this._onFrameRemovedEmitter.event;this.onFrameNavigated=this._onFrameNavigatedEmitter.event;this._frames=new Map}attached(e,r){e.Page.enable({}),e.Page.getResourceTree({}).then(i=>{this._processCachedResources(e,i?i.frameTree:void 0,r)})}mainFrame(){return this._mainFrame}_processCachedResources(e,r,i){r&&this._addFramesRecursively(e,r,r.frame.parentId,i),e.Page.on("frameAttached",n=>{this._frameAttached(e,i,n.frameId,n.parentFrameId)}),e.Page.on("frameNavigated",n=>{this._frameNavigated(e,i,n.frame)}),e.Page.on("frameDetached",n=>{this._frameDetached(e,i,n.frameId)})}_addFrame(e,r,i){let n=new LE(this,e,r,i);return this._frames.set(n.id,n),n.isMainFrame()&&(this._mainFrame=n),this._onFrameAddedEmitter.fire(n),n}_frameAttached(e,r,i,n){let s=this._frames.get(i);return s||(s=this._addFrame(e,i,n)),s._ref(r),s}_frameNavigated(e,r,i){let n=this._frames.get(i.id);n||(n=this._frameAttached(e,r,i.id,i.parentId)),n._navigate(i,r),this._onFrameNavigatedEmitter.fire(n)}_frameDetached(e,r,i){let n=this._frames.get(i);n&&n._unref(r)}frameForId(e){return this._frames.get(e)}frames(){return Array.from(this._frames.values())}_addFramesRecursively(e,r,i,n){let s=r.frame,o=this._frames.get(s.id);o?(o._navigate(s,n),this._onFrameNavigatedEmitter.fire(o)):(o=this._addFrame(e,s.id,i),o._navigate(s,n));for(let a=0;r.childFrames&&a<r.childFrames.length;++a)this._addFramesRecursively(e,r.childFrames[a],o.id,n)}},LE=class{constructor(e,r,i,n){this._targets=new Set;this.cdp=r,this.model=e,this._parentFrameId=n,this.id=i,this._url=""}_ref(e){this._targets.add(e)}_navigate(e,r){this._name=e.name,this._url=e.url,this._securityOrigin=e.securityOrigin,this._unreachableUrl=e.unreachableUrl||"",this._ref(r),this._unrefChildFrames(r)}name(){return this._name||""}url(){return this._url}securityOrigin(){return this._securityOrigin}unreachableUrl(){return this._unreachableUrl}isMainFrame(){return!this._parentFrameId}parentFrame(){return this._parentFrameId?this.model.frameForId(this._parentFrameId):void 0}childFrames(){return this.model.frames().filter(e=>e._parentFrameId===this.id)}_unrefChildFrames(e){for(let r of this.childFrames())r._unref(e)}_unref(e){this._targets.delete(e),!this._targets.size&&(this._unrefChildFrames(e),this.model._frames.delete(this.id),this.model._onFrameRemovedEmitter.fire(this))}displayName(){return this._name?this._name:Ple(this._url)||`<iframe ${this.id}>`}};function PE(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function Ple(t){let e;try{e=new LW.URL(t)}catch{return PE(t,20)}if(e.protocol==="data")return PE(t,20);if(e.protocol==="blob"||t==="about:blank")return t;let r=CW.basename(e.pathname);return r||(r=(e.host||"")+"/"),r==="/"&&(r=PE(t,20)),r}var DW=w("url"),CE=class{constructor(e){this.versions=new Map;this.id=e.registrationId,this.scopeURL=e.scopeURL}},DE=class{constructor(e,r){this.revisions=[];this.registration=e,this.id=r.versionId,this.scriptURL=r.scriptURL,this._targetId=r.targetId,this._status=r.status,this._runningStatus=r.runningStatus}addRevision(e){this._targetId&&e.targetId&&this._targetId!==e.targetId&&console.error(`${this._targetId} !== ${e.targetId}`),e.targetId&&(this._targetId=e.targetId),this._status=e.status,this._runningStatus=e.runningStatus,this.revisions.unshift(e)}status(){return this._status}runningStatus(){return this._runningStatus}targetId(){return this._targetId}label(){let e=new DW.URL(this.registration.scopeURL),r=e.pathname.substr(1);r.endsWith("/")&&(r=r.substring(0,r.length-1));let i=r||`${e.host}`,n=this._status==="activated"?"":` ${this._status}`,s=this._runningStatus==="running"?"":` ${this._runningStatus}`;return`${i} #${this.id}${n}${s}`}},oa=class{constructor(e){this._registrations=new Map;this._versions=new Map;this._onDidChangeUpdater=new J;this.onDidChange=this._onDidChangeUpdater.event;this._targets=new Set;this._frameModel=e,oa._instances.add(this)}dispose(){oa._instances.delete(this)}attached(e){this._targets.add(e),!this._cdp&&(this._cdp=e,e.ServiceWorker.enable({}),e.ServiceWorker.on("workerRegistrationUpdated",r=>this._workerRegistrationsUpdated(r.registrations)),e.ServiceWorker.on("workerVersionUpdated",r=>this._workerVersionsUpdated(r.versions)),oa._mode!=="normal"&&this.setMode(oa._mode))}async detached(e){this._targets.delete(e)}version(e){return this._versions.get(e)}registrations(){let e=[],r=this._frameModel.frames().map(i=>i.url());for(let i of this._registrations.values())for(let n of r)if(n.startsWith(i.scopeURL)){e.push(i);break}return e}registration(e){return this._registrations.get(e)}_workerVersionsUpdated(e){for(let r of e){let i=this._registrations.get(r.registrationId);if(!i)continue;let n=i.versions.get(r.versionId);n||(n=new DE(i,r),i.versions.set(r.versionId,n)),r.targetId&&this._versions.set(r.targetId,n),n.addRevision(r),n.status()==="redundant"&&n.runningStatus()==="stopped"&&(r.targetId&&this._versions.delete(r.targetId),i.versions.delete(n.id))}this._onDidChangeUpdater.fire()}_workerRegistrationsUpdated(e){for(let r of e)if(r.isDeleted){if(!this._registrations.has(r.registrationId))debugger;this._registrations.delete(r.registrationId)}else{if(this._registrations.has(r.registrationId))return;this._registrations.set(r.registrationId,new CE(r))}this._onDidChangeUpdater.fire()}static setModeForAll(e){oa._mode=e;for(let r of oa._instances)r.setMode(e)}setMode(e){if(this._cdp){this._cdp.ServiceWorker.setForceUpdateOnPageLoad({forceUpdateOnPageLoad:e==="force"});for(let r of this._targets.values())e==="bypass"?(r.Network.enable({}),r.Network.setBypassServiceWorker({bypass:!0})):r.Network.disable({})}}async stopWorker(e){if(!this._cdp)return;let r=this.version(e);r&&await this._cdp.ServiceWorker.stopWorker({versionId:r.id})}},th=oa;th._instances=new Set;var aa=class{constructor(e,r,i,n,s,o,a,u){this.process=r;this.logger=s;this.telemetry=o;this.launchParams=a;this._targets=new Map;this._detachedTargets=new Set;this.frameModel=new hb;this.serviceWorkerModel=new th(this.frameModel);this._lifecycleQueue=Promise.resolve();this._onTargetAddedEmitter=new J;this._onTargetRemovedEmitter=new J;this.onTargetAdded=this._onTargetAddedEmitter.event;this.onTargetRemoved=this._onTargetRemovedEmitter.event;this._connection=e,this._sourcePathResolver=n,this._browser=i,this._targetOrigin=u,this.serviceWorkerModel.onDidChange(()=>{for(let c of this._targets.values())c.type()==="service_worker"&&c._onNameChangedEmitter.fire()})}static async connect(e,r,i,n,s,o,a){let c=await e.rootSession().Target.attachToBrowserTarget({});if(!c)return;let l=e.createSession(c.sessionId);return new this(e,r,l,i,s,o,n,a)}dispose(){this.serviceWorkerModel.dispose()}targetList(){return Array.from(this._targets.values()).filter(e=>rf.has(e.type()))}async getCandiateInfo(e){let r=await this._browser.Target.getTargets({});return r?e?r.targetInfos.filter(e):r.targetInfos:[]}async closeBrowser(){var e;if(this.launchParams.request==="launch"){if(this.launchParams.cleanUp==="wholeBrowser")await this._browser.Browser.close({}),(e=this.process)==null||e.kill();else for(let r of this._targets.values())await this._browser.Target.closeTarget({targetId:r.targetId}),this._connection.close();this.process=void 0}}waitForMainTarget(e){let r,i=new Promise(s=>r=s),n=async s=>{if([...this._targets.values()].some(u=>u.targetId===s.targetId)||this._detachedTargets.has(s.targetId)||e&&!e(s))return;let o=this._browser.Target.on("targetInfoChanged",u=>{u.targetInfo.targetId===s.targetId&&(s=u.targetInfo)}),a;try{a=await this._browser.Target.attachToTarget({targetId:s.targetId,flatten:!0})}finally{o.dispose()}if(!a){r(void 0);return}r(this.attachedToTarget(s,a.sessionId,!0))};return this._browser.Target.setDiscoverTargets({discover:!0}),this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(s=>n(s.targetInfo))),this._browser.Target.on("targetInfoChanged",s=>this._targetInfoChanged(s.targetInfo,this.enqueueLifecycleFn(n))),this._browser.Target.on("detachedFromTarget",this.enqueueLifecycleFn(async s=>{s.targetId&&await this._detachedFromTarget(s.sessionId,!1)})),i}enqueueLifecycleFn(e){return r=>this._lifecycleQueue=this._lifecycleQueue.then(()=>e(r))}attachedToTarget(e,r,i,n,s=!0){let o=this._targets.get(r);if(o)return o;let a=this._connection.createSession(r),u=new mc(this,e,a,n,i,this.launchParams,r,this.logger,()=>{this._connection.disposeSession(r),this._detachedFromTarget(r)});this._targets.set(r,u),n&&n._children.set(e.targetId,u),a.Target.on("attachedToTarget",async l=>{this.attachedToTarget(l.targetInfo,l.sessionId,l.waitingForDebugger,u)}),a.Target.on("detachedFromTarget",async l=>{l.targetId&&this._detachedFromTarget(l.sessionId,!1)}),a.Target.setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:s,flatten:!0}),a.Network.setCacheDisabled({cacheDisabled:this.launchParams.disableNetworkCache}).catch(l=>this.logger.info("runtime.target","Error setting network cache state",l)),n||this.retrieveBrowserTelemetry(a);let c=e.type;return Y_.has(c)&&this.frameModel.attached(a,e.targetId),this.serviceWorkerModel.attached(a),this._onTargetAddedEmitter.fire(u),!rf.has(c)||c==="service_worker"?u.runIfWaitingForDebugger():c==="page"&&s&&a.Page.waitForDebugger({}),u}async retrieveBrowserTelemetry(e){try{let r=await e.Browser.getVersion({});if(!r)throw new Error("Undefined return from getVersion()");let i={targetCRDPVersion:r.protocolVersion,targetRevision:r.revision,targetUserAgent:r.userAgent,targetV8:r.jsVersion,targetVersion:"",targetProject:"",targetProduct:""};this.logger.verbose("runtime.target","Retrieved browser information",r);let n=(r.product||"").split("/");n.length===2?(i.targetProject=n[0],i.targetVersion=n[1]):i.targetProduct=r.product,this.telemetry.report("browserVersion",i)}catch(r){this.logger.warn("runtime.target","Error getting browser telemetry",r)}}async _detachedFromTarget(e,r=!0){var n;let i=this._targets.get(e);if(i){this._targets.delete(e),(n=i.parentTarget)==null||n._children.delete(e);try{await i._detached()}catch{}if(this._onTargetRemovedEmitter.fire(i),r&&(this._detachedTargets.add(i.targetId),await this._browser.Target.detachFromTarget({sessionId:e})),!this._targets.size&&this.launchParams.request==="launch")try{this.launchParams.cleanUp==="wholeBrowser"?await this._browser.Browser.close({}):(await this._browser.Target.closeTarget({targetId:i.id()}),this._connection.close())}catch{}}}async _targetInfoChanged(e,r){let i=[...this._targets.values()].filter(n=>n.targetId===e.targetId);if(!e.attached||!i.length)return i.length&&await Promise.all(i.map(n=>this._detachedFromTarget(n.sessionId,!1))),r(e);for(let n of i)n._updateFromInfo(e);for(let n of this._targets.values())n.targetId!==e.targetId&&n._onNameChangedEmitter.fire()}};var KW=F(w("child_process")),zW=w("fs");var Lle=50,kr=class{constructor(e){this.messageEmitter=new J;this.endEmitter=new J;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this._ws=e,this._ws.addEventListener("message",r=>{this.messageEmitter.fire([r.data.toString("utf-8"),new Dr])}),this._ws.addEventListener("close",()=>{this.endEmitter.fire(),this._ws=void 0}),this._ws.addEventListener("error",()=>{})}static async create(e,r,i){let n=!e.startsWith("ws://"),s=await yc(e);for(;;){let o=Date.now()+Lle;try{let a={headers:{host:i??"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(n&&s),followRedirects:!0},u=new ck(e,[],a);return await Kn(new Promise((c,l)=>{u.addEventListener("open",()=>c(new kr(u))),u.addEventListener("error",p=>{let f=e===u.url?e:u.url.replace(/^http(s?):/,"ws$1:");if(f===e){l(p.error);return}this.create(f,r,i).then(c,l)})}),Yt.withTimeout(2e3,r).token,`Could not open ${e}`).catch(c=>{throw u.close(),c})}catch(a){if(r.isCancellationRequested)throw a;let u=o-Date.now();u>0&&await ke(u)}}}send(e){var r;(r=this._ws)==null||r.send(e)}dispose(){return new Promise(e=>{if(!this._ws)return e();this._ws.addEventListener("close",()=>e()),this._ws.close()})}};var mb=F(w("path"));function Cle(t){let e=[/^APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL$/i,/^ELECTRON_.+$/i,/^GOOGLE_API_KEY$/i,/^VSCODE_.+$/i,/^SNAP(|_.*)$/i,/^GDK_PIXBUF_.+$/i];return new xt(t).map((r,i)=>e.some(n=>n.test(r))?void 0:i)}var Oi=class{constructor(e){this.defined=Ae(()=>ju(this.value));this.value=e?sx(e):{}}lookup(e){return Oi.platform==="win32"?ux(this.value,e):this.value[e]}addToPath(e,r="append",i=!1){let n=Oi.platform==="win32"?"Path":"PATH",s=Oi.platform==="win32"?mb.win32.delimiter:mb.posix.delimiter,o=this.lookup(n);return i&&!o&&(o=`\${env:${n}}`),o?r==="append"?o=o+s+e:o=e+s+o:o=e,this.update(n,o)}addNodeOption(e){let r=this.lookup("NODE_OPTIONS");return this.update("NODE_OPTIONS",r?`${r} ${e}`:e)}update(e,r){return Oi.merge(this,{[e]:r})}merge(...e){return Oi.merge(this,...e)}map(e){return new Oi(fs(this.value,(r,i)=>e(i,r)))}static merge(...e){let r=e.map(n=>n instanceof Oi?n.value:n),i=Oi.platform==="win32"?ax(...r):Object.assign({},...r);return new Oi(i)}},xt=Oi;xt.platform=process.platform,xt.empty=new Oi({}),xt.processEnv=Ae(()=>Cle(process.env));var TW="--remote-debugging-port",$W="--remote-debugging-pipe",MW=t=>{let e={};for(let r of t){let i=r.indexOf("=");i===-1?e[r]=null:e[r.slice(0,i)]=r.slice(i+1)}return e},gb=t=>{let e=[];for(let r of Object.keys(t)){let i=t[r];i!==void 0&&e.push(i===null?r:`${r}=${i}`)}return e},Vs=class{constructor(e=[]){this.args=e;this.argMap=Ae(()=>MW(this.args))}add(e,r=null){return new Vs(gb({...this.argMap(),[e]:r}))}remove(e){return new Vs(gb({...this.argMap(),[e]:void 0}))}merge(e){return new Vs(gb({...this.argMap(),...e instanceof Vs?e.argMap():MW(e)}))}setConnection(e){return new Vs(gb({...this.argMap(),[$W]:e==="pipe"?null:void 0,[TW]:e!=="pipe"?String(e):void 0}))}getSuggestedConnection(){let e=this.argMap();if(e.hasOwnProperty($W))return"pipe";let r=e[TW];if(r!==void 0)return r&&Number(r)||0}filter(e){let r=this.argMap(),i=[];for(let n of Object.keys(r)){let s=r[n];e(n,s)&&i.push(s===null?n:`${n}=${s}`)}return new Vs(i)}toArray(){return this.args.slice()}},Gs=Vs;Gs.default=new Vs(["--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-renderer-backgrounding","--disable-sync","--metrics-recording-only","--no-first-run","--no-default-browser-check"]);var TE=w("url");function Hb(t,e,r){let i=wa(o=>{if(o)return new TE.URL(o);throw new Error(`A valid url wasn't supplied: <${o}>`)}),n={"url.hostname":()=>i(e).hostname,"url.port":()=>i(e).port,browserInspectUri:()=>encodeURIComponent(r),browserInspectUriPath:()=>new TE.URL(r).pathname,wsProtocol:()=>i(e).protocol==="https:"?"wss":"ws"};return t.replace(/{([^\}]+)}/g,(o,a)=>n.hasOwnProperty(a)?n[a]():o)}var WW=F(w("readline"));var NW=F(bb());var Ni=class{constructor(e,r,i){this.logger=e;this.pipeWrite=r;this.pipeRead=i;this.messageEmitter=new J;this.endEmitter=new J;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this.onceEnded=Ae(()=>{var e;this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),(e=this.pipeRead)==null||e.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",()=>{}),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())});this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};let n=i||r;this.streams={read:n.on("error",s=>this.logger.error("internal","pipeRead error",{error:s})).pipe((0,NW.default)("\0")).on("data",s=>this.messageEmitter.fire([s,new Dr])).on("end",this.onceEnded),write:r.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){var r;(r=this.streams)==null||r.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}};var vb=w("child_process"),$E=w("path");function un(t,e,r="forceful"){if(r==="none")return!0;if(process.platform==="win32"){let i=process.env.WINDIR||"C:\\Windows",n=(0,$E.join)(i,"System32","taskkill.exe");try{return(0,vb.execSync)(`${n} ${r==="forceful"?"/F":""} /T /PID ${t}`,{stdio:"pipe"}),!0}catch(s){return e.error("runtime.exception","Error running taskkill.exe",s),!1}}else try{let i=(0,$E.join)(__dirname,"./targets/node/terminateProcess.sh"),n=(0,vb.spawnSync)("sh",[i,t.toString(),r==="forceful"?"9":"15"]);return n.stderr&&n.status?(e.error("runtime.exception","Error running terminateProcess",n),!1):!0}catch(i){return e.error("runtime.exception","Error running terminateProcess",i),!1}}var UW=w("fs");async function ME(t,e,r,i){let n=new qo(UW.promises),[s,o]=await Promise.all([BW(n,new URL("/json/version",t),e),i?BW(n,new URL("/json/list",t),e):Promise.resolve(void 0)]);if(!s.ok)r.verbose("runtime.launch","Error looking up /json/version",s);else if(s.body.webSocketDebuggerUrl){let a=FW(s.url,s.body.webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/version",{url:s.body.webSocketDebuggerUrl,fixed:a}),a}if(o)if(!o.ok)r.verbose("runtime.launch","Error looking up /json/list",o);else{let a=FW(o.url,o.body[0].webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/list",{url:o.body[0].webSocketDebuggerUrl,fixed:a}),a}throw new Error("Could not find any debuggable target")}async function BW(t,e,r){if(e.hostname!=="localhost")return t.fetchJson(e.toString(),r,{host:"localhost"});let i=e.toString();e.hostname="127.0.0.1";let n=e.toString(),s=new Yt(r);try{let o;return await qu([i,n].map(async u=>(o=await t.fetchJson(u,s.token),o.ok&&o)))||o}finally{s.cancel()}}var jW=t=>async(e,r,i)=>{for(;;)try{return await ME(e,r,i,t)}catch(n){if(r.isCancellationRequested)throw new Error(`Could not connect to debug target at ${e}: ${n.message}`);await ke(200)}},zl=jW(!0),_b=jW(!1);function FW(t,e){let r=new URL(t),i=new URL(e);return i.host=r.host,i.toString()}var qW=async(t,e,r,i)=>{let n=r.connection===0?await Ole(e,i):await _b(`http://localhost:${r.connection}`,i,t),s=r.inspectUri?Hb(r.inspectUri,r.url,n):n;for(;;)try{return await kr.create(s,i)}catch(o){if(i.isCancellationRequested)throw o;await ke(200)}},wb=class{constructor(e){this.logger=e;this.pid=void 0;this.onExit=new J().event;this.onError=new J().event}async transport(e,r){return qW(this.logger,this,e,r)}kill(){}},Ib=class{constructor(e,r){this.cp=e;this.logger=r;this.pid=void 0;this.exitEmitter=new J;this.onExit=this.exitEmitter.event;this.errorEmitter=new J;this.onError=this.errorEmitter.event;e.on("exit",i=>this.exitEmitter.fire(i||0)),e.on("error",i=>this.errorEmitter.fire(i))}get stderr(){return this.cp.stderr}get stdio(){return this.cp.stdio}async transport(e,r){return e.connection==="pipe"?new Ni(this.logger,this.cp.stdio[3],this.cp.stdio[4]):qW(this.logger,this,e,r)}kill(){un(this.cp.pid,this.logger)}};function Ole(t,e){if(!t.stderr)throw new Error("Cannot wait for a websocket for a target that lacks stderr");return new Promise((r,i)=>{let n=WW.createInterface({input:t.stderr}),s="",o=()=>c();n.on("line",l),n.on("close",o);let a=new Qe([t.onExit(()=>c()),t.onError(c)]),u=e.onCancellationRequested(()=>{p(),i(new Gn(`Timed out after ${u} ms while trying to connect to the browser!`))});function c(f){p(),i(new Error(["Failed to launch browser!"+(f?" "+f.message:""),s,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join(`
`)))}function l(f){s+=f+`
`;let g=f.match(/^DevTools listening on (ws:\/\/.*)$/);g&&(p(),r(g[1]))}function p(){u.dispose(),n.removeListener("line",l),n.removeListener("close",o),a.dispose()}})}async function VW(t,e,r,i){let n=t.launchUnelevatedRequest({process:e,args:r});await Kn(n,i,"Could not launch browser unelevated")}var GW=()=>{};async function XW(t,e,r,i,n,s,o={}){var q,N,M,O;let{onStderr:a=GW,onStdout:u=GW,args:c=[],dumpio:l=!1,cwd:p=process.cwd(),env:f=xt.empty,connection:g="pipe",cleanUp:m="wholeBrowser",url:y,inspectUri:b}=o,I=new Gs(c),B=I.getSuggestedConnection();o.includeLaunchArgs!==!1?(I=kE(I,o),B===void 0&&(I=I.setConnection(g),B=g)):B===void 0&&(B="pipe");let W=["pipe","pipe","pipe"];B==="pipe"&&(l?W=["ignore","pipe","pipe","pipe","pipe"]:W=["ignore","ignore","ignore","pipe","pipe"]);let P;if(!!(n.supportsLaunchUnelevatedProcessRequest&&o.launchUnelevated)&&typeof B=="number"&&B!==0)await VW(t,e,I.toArray(),s),P=new wb(r);else{r.info("runtime.launch",`Launching Chrome from ${e}`);let S=KW.spawn(e,I.toArray(),{detached:!0,env:f.defined(),cwd:await Zu(zW.promises,p)?p:process.cwd(),stdio:W});if(S.pid===void 0)throw await Promise.race([ke(1e3).then(()=>new Error("Unable to launch the executable (undefined pid)")),new Promise($=>S.once("error",$))]);P=new Ib(S,r)}l?((q=P.stderr)==null||q.on("data",S=>a(S.toString())),(N=P.stdout)==null||N.on("data",S=>u(S.toString()))):((M=P.stderr)==null||M.resume(),(O=P.stdout)==null||O.resume());let G=()=>{m==="wholeBrowser"&&P.kill()};process.on("exit",G),P.onExit(()=>process.removeListener("exit",G));try{if(o.promisedPort){let R;B=await Promise.race([o.promisedPort,new Promise((X,L)=>{R=P.onExit(C=>{L(new Z(d$(C)))})})]).finally(()=>R.dispose())}let S=await P.transport({connection:B,inspectUri:b||void 0,url:y||void 0},s),$=new Tt(S,r,i);return G=async()=>{m==="wholeBrowser"?(await $.rootSession().Browser.close({}),P.kill()):$.close()},{cdp:$,process:P}}catch(S){throw G(),S}}function kE(t,e={}){let{userDataDir:r=null,ignoreDefaultArgs:i=!1}=e,n=i===!0?new Gs:Gs.default;return i instanceof Array&&(n=n.filter(s=>!i.includes(s))),r&&(n=n.add("--user-data-dir",r)),n=n.merge(t),t.toArray().every(s=>s.startsWith("-"))&&e.hasUserNavigation&&(n=n.add("about:blank")),n}async function JW(t,e,r,i){let{browserWSEndpoint:n,browserURL:s}=t;if(n){let o=await kr.create(n,e);return new Tt(o,r,i)}else if(s){let o=await _b(s,e,r),a=t.inspectUri?Hb(t.inspectUri,t.pageURL,o):o,u=await kr.create(a,e);return new Tt(u,r,i)}throw new Error("Either browserURL or browserWSEndpoint needs to be specified")}var Bi=class{constructor(e,r,i){this.logger=e;this.pathResolver=r;this.vscode=i;this._disposables=[];this._onTerminatedEmitter=new J;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new J;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[],this._attemptTimer&&clearTimeout(this._attemptTimer),this._targetManager&&this._targetManager.dispose()}resolveParams(e){return e.request==="attach"&&(e.type==="pwa-chrome"||e.type==="pwa-msedge"&&typeof e.useWebView!="object")&&e.browserAttachLocation==="workspace"}async launch(e,r){return this.resolveParams(e)?(this._lastLaunchParams={...e,timeout:1/0},await this.attemptToAttach(this._lastLaunchParams,r),{blockSessionTermination:!0}):{blockSessionTermination:!1}}_scheduleAttach(e,r){this._attemptTimer=setTimeout(()=>{this._attemptTimer=void 0,this.attemptToAttach(e,{...r,cancellationToken:Cr})},1e3)}createTargetManager(e,r,i){return aa.connect(e,void 0,this.pathResolver,r,this.logger,i.telemetryReporter,i.targetOrigin)}async attemptToAttach(e,r){let i=await this.acquireConnectionForBrowser(r,e);this._connection=i,i.onDisconnected(()=>{this._connection=void 0,this._targetManager&&(this._targetManager.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire()),this._lastLaunchParams===e&&e.restart?this._scheduleAttach(e,r):this._onTerminatedEmitter.fire({killed:!0,code:0})},void 0,this._disposables);let n=this._targetManager=await this.createTargetManager(i,e,r);if(!n)return;n.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),n.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),n.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),n.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire(),n.targetList().length||this._onTerminatedEmitter.fire({killed:!0,code:0})});let s=await Promise.race([n.waitForMainTarget(await this.getTargetFilter(n,e)),ke(e.timeout).then(()=>{throw new Z(tg())})]);return typeof s=="string"?s:void 0}async getTargetFilter(e,r){let i=mo(r),n=vc(i);if(r.targetSelection!=="pick")return n;let s=await e.getCandiateInfo(n);if(s.length===0)return n;if(s.length===1||!this.vscode)return u=>u.targetId===s[0].targetId;let o=Ab.t("Select a tab"),a=await this.vscode.window.showQuickPick(s.map(u=>({label:u.title,detail:u.url,targetId:u.targetId})),{matchOnDescription:!0,matchOnDetail:!0,placeHolder:o});return a?u=>u.targetId===a.targetId:n}async acquireConnectionForBrowser({telemetryReporter:e,cancellationToken:r},i){for(;this._lastLaunchParams===i;)try{return await this.acquireConnectionInner(e,i,r)}catch(n){if(r.isCancellationRequested)throw new Z(ff(Ab.t("Cannot connect to the target at {0}: {1}",`${i.address}:${i.port}`,n.message)));await ke(1e3)}throw new Z(ff(Ab.t("Cannot connect to the target at {0}: {1}",`${i.address}:${i.port}`,"Cancelled")))}async acquireConnectionInner(e,r,i){let n=`http://${r.address}:${r.port}`;return await JW({browserURL:n,inspectUri:r.inspectUri,pageURL:r.url},i,this.logger,e)}async terminate(){var e;this._lastLaunchParams=void 0,(e=this._connection)==null||e.close()}async restart(){if(this._targetManager)for(let e of this._targetManager.targetList())e.type()==="page"&&!e.name().startsWith("devtools://")&&e.restart()}targetList(){let e=this._targetManager;return e?e.targetList():[]}};Bi=z([(0,ca.injectable)(),E(0,(0,ca.inject)(ae)),E(1,(0,ca.inject)(et)),E(2,(0,ca.optional)()),E(2,(0,ca.inject)(_o))],Bi);var cn=F(pe());var QW=F(nI()),rh=F(w("fs")),la=F(pe()),Xl=F(w("path"));var os=class{constructor(e,r,i,n,s){this.storagePath=e;this.logger=r;this.pathResolver=i;this.initializeParams=n;this.fs=s;this._disposables=new Qe;this._terminated=!1;this._onTerminatedEmitter=new J;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new J;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){this._disposables.dispose()}async launchBrowser({runtimeExecutable:e,trace:r,includeDefaultArgs:i,includeLaunchArgs:n,runtimeArgs:s,userDataDir:o,env:a,cwd:u,port:c,url:l,file:p,inspectUri:f,webRoot:g,cleanUp:m,launchUnelevated:y},b,I,B,W){let P=await this.findBrowserPath(e||"stable"),D;return typeof o=="string"?D=Xl.resolve(o):o&&(D=Xl.resolve(Xl.join(this.storagePath,s!=null&&s.includes("--headless")?".headless-profile":".profile"))),rh.mkdirSync(this.storagePath,{recursive:!0}),D&&(rh.mkdirSync(D,{recursive:!0}),D=rh.realpathSync(D)),await XW(b,P,this.logger,B,this.initializeParams,I,{onStdout:G=>b.output({category:"stdout",output:G}),onStderr:G=>b.output({category:"stderr",output:G}),dumpio:typeof r=="boolean"?r:r.stdio,cleanUp:m,hasUserNavigation:!!(l||p),cwd:u||g||void 0,env:xt.merge(xt.processEnv(),a),args:s||[],userDataDir:D,connection:c||(f?0:"pipe"),launchUnelevated:y,ignoreDefaultArgs:!i,includeLaunchArgs:n,url:l,inspectUri:f,promisedPort:W})}getFilterForTarget(e){return vc(mo(e,["about:blank"]))}async prepareLaunch(e,{dap:r,targetOrigin:i,cancellationToken:n,telemetryReporter:s}){let o;try{o=await this.launchBrowser(e,r,n,s)}catch(c){throw new Z(a$(c))}if(this._disposables.push(o.cdp.onDisconnected(()=>this.fireTerminatedEvent())),this._connectionForTest=o.cdp,this._launchParams=e,this._targetManager=await aa.connect(o.cdp,o.process,this.pathResolver,this._launchParams,this.logger,s,i),!this._targetManager)throw o.process.kill(),new Z(ff());this._targetManager.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),this._targetManager.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),this._disposables.push(this._targetManager),this._targetManager.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),this._targetManager.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire()});let a=this.getFilterForTarget(e),u=await Kn(this._targetManager.waitForMainTarget(a),n,"Could not attach to main target");if(!u)throw o.process.kill(),new Z(tg());return u}async finishLaunch(e,r){if("skipNavigateForTest"in r)return;let i;if(r.file){let n=Xl.resolve(r.webRoot||r.rootPath||"",r.file),s=Math.min(n.includes("#")?n.indexOf("#"):1/0,n.includes("?")?n.indexOf("?"):1/0);isFinite(s)&&!await ro(this.fs,n)?i=Oe(n.slice(0,s))+n.slice(s):i=Oe(n)}else i=r.url;i&&await e.cdp().Page.navigate({url:i})}async launch(e,r){let i=this.resolveParams(e);if(!i)return{blockSessionTermination:!1};let n=await this.prepareLaunch(i,r);return await this.finishLaunch(n,i),{blockSessionTermination:!0}}async terminate(){var e;await((e=this._targetManager)==null?void 0:e.closeBrowser())}async restart(){for(let e of this.targetList())e.type()==="page"&&e.restart()}async findBrowserByExe(e,r){var i;if(r==="*"){let n=await e.findWhere(s=>s.quality==="stable")||(await e.findAll())[0];return n==null?void 0:n.path}else return(0,QW.isQuality)(r)?(i=await e.findWhere(n=>n.quality===r))==null?void 0:i.path:r}targetList(){let e=this._targetManager;return e?e.targetList():[]}connectionForTest(){return this._connectionForTest}fireTerminatedEvent(){this._terminated||(this._terminated=!0,this._onTerminatedEmitter.fire({code:0,killed:!0}))}};os=z([(0,la.injectable)(),E(0,(0,la.inject)(Bn)),E(1,(0,la.inject)(ae)),E(2,(0,la.inject)(et)),E(3,(0,la.inject)(gr)),E(4,(0,la.inject)(it))],os);var Cu=class extends os{constructor(r,i,n,s,o,a){super(r,i,o,a,s);this.browserFinder=n}resolveParams(r){return r.type==="pwa-chrome"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}async findBrowserPath(r){let i=await this.findBrowserByExe(this.browserFinder,r);if(!i||!await Zu(this.fs,i))throw new Z(eg("Chrome",r,(await this.browserFinder.findAll()).map(n=>n.quality)));return i}};Cu=z([(0,cn.injectable)(),E(0,(0,cn.inject)(Bn)),E(1,(0,cn.inject)(ae)),E(2,(0,cn.inject)(Fa)),E(2,(0,cn.tagged)("browser","chrome")),E(3,(0,cn.inject)(it)),E(4,(0,cn.inject)(et)),E(5,(0,cn.inject)(gr))],Cu);var ZW=w("crypto"),ln=F(pe()),eq=w("net"),tq=w("os"),rq=w("path");var Nle=["--do-not-de-elevate"],Jl=class extends os{constructor(r,i,n,s,o,a){super(r,i,o,a,s);this.browserFinder=n}resolveParams(r){return r.type==="pwa-msedge"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}launchBrowser(r,i,n,s){return super.launchBrowser({...r,runtimeArgs:r.runtimeArgs??Nle},i,n,s,r.useWebView?this.getWebviewPort(r,s):void 0)}getFilterForTarget(r){return r.useWebView&&r.urlFilter?vc(mo(r)):super.getFilterForTarget(r)}async getWebviewPort(r,i){let n=je();if(!r.runtimeExecutable)return n.resolve(r.port),n.promise;let s=r.runtimeExecutable.split(/\\|\//).pop(),o=`VSCode_${(0,ZW.randomBytes)(12).toString("base64")}`,a=`\\\\.\\pipe\\WebView2\\Debugger\\${s}\\${o}`,u=(0,eq.createServer)(c=>{c.on("data",async l=>{let p=JSON.parse(l.toString()),f=p.devtoolsActivePort||"",g=parseInt(f.split(`
`).shift()||""),m=r.port||g;n.resolve(m);let y=`ws://${r.address}:${m}/devtools/${p.type}/${p.id}`,b=await kr.create(y,Cr),I=new Tt(b,this.logger,i);await I.rootSession().Runtime.runIfWaitingForDebugger({}),I.close()})});return u.on("error",n.reject),u.on("close",()=>n.resolve(r.port)),u.listen(a),r.userDataDir=r.userDataDir||(0,rq.join)((0,tq.tmpdir)(),`vscode-js-debug-userdatadir_${r.port}`),r.env=r.env||{},r.env.WEBVIEW2_USER_DATA_FOLDER=r.userDataDir.toString(),r.env.WEBVIEW2_ADDITIONAL_BROWSER_ARGUMENTS=`--remote-debugging-port=${r.port}`,r.env.WEBVIEW2_WAIT_FOR_SCRIPT_DEBUGGER="true",r.env.WEBVIEW2_PIPE_FOR_SCRIPT_DEBUGGER=o,n.promise}async findBrowserPath(r){let i=await this.findBrowserByExe(this.browserFinder,r);if(!i||!await Zu(this.fs,i))throw new Z(eg("Edge",r,(await this.browserFinder.findAll()).map(n=>n.quality)));return i}};Jl=z([(0,ln.injectable)(),E(0,(0,ln.inject)(Bn)),E(1,(0,ln.inject)(ae)),E(2,(0,ln.inject)(Fa)),E(2,(0,ln.tagged)("browser","edge")),E(3,(0,ln.inject)(it)),E(4,(0,ln.inject)(et)),E(5,(0,ln.inject)(gr))],Jl);var Ks=F(pe());var iq=w("crypto"),Sb=F(pe());var Ble=0,as=class{constructor(e){this.portLeaseTracker=e;this.teardown=new WeakMap}async launch(e,r,i){this.server&&this.server.close();let n=`/${(0,iq.randomBytes)(20).toString("hex")}`,s=this.server=await Wg(this.portLeaseTracker,{perMessageDeflate:!0,host:"127.0.0.1",path:n}),o=++Ble;e.launchBrowserInCompanion({...i,serverPort:s.address().port,path:n,launchId:o});let a=await Kn(new Promise((c,l)=>{s.once("connection",c),s.once("error",l)}),r,"Timed out waiting for browser connection"),u=new kr(a);return this.teardown.set(u,()=>e.killCompanionBrowser({launchId:o})),u}close(e){var r;(r=this.teardown.get(e))==null||r()}dispose(){var e;(e=this.server)==null||e.close(),this.server=void 0}};as=z([(0,Sb.injectable)(),E(0,(0,Sb.inject)(xi))],as);var Yl=class extends Bi{constructor(r,i,n,s){super(i,n,s);this.helper=r}resolveParams(r){return r.request==="attach"&&(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.browserAttachLocation==="ui"}async acquireConnectionForBrowser(r,i){let n=await this.helper.launch(r.dap,r.cancellationToken,{type:i.type==="pwa-chrome"?"chrome":"edge",params:i,attach:{host:i.address,port:i.port}});return new Tt(n,this.logger,r.telemetryReporter)}};Yl=z([(0,Ks.injectable)(),E(0,(0,Ks.inject)(as)),E(1,(0,Ks.inject)(ae)),E(2,(0,Ks.inject)(et)),E(3,(0,Ks.optional)()),E(3,(0,Ks.inject)(_o))],Yl);var zs=F(pe());var Ql=class extends os{constructor(r,i,n,s,o,a){super(r,i,n,s,o);this.helper=a}resolveParams(r){return(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.request==="launch"&&r.browserLaunchLocation==="ui"?r:void 0}async launchBrowser(r,i,n,s){let o=await this.helper.launch(i,n,{type:r.type==="pwa-chrome"?"chrome":"edge",browserArgs:kE(new Gs(r.runtimeArgs||[]),{hasUserNavigation:!!r.url,ignoreDefaultArgs:!r.includeDefaultArgs}).setConnection(r.port||"pipe").toArray(),params:r});return{cdp:new Tt(o,this.logger,s),process:{onExit:new J().event,onError:new J().event,transport:()=>Promise.resolve(o),kill:()=>this.helper.close(o)}}}async findBrowserPath(){throw new Error("not implemented")}};Ql=z([(0,zs.injectable)(),E(0,(0,zs.inject)(Bn)),E(1,(0,zs.inject)(ae)),E(2,(0,zs.inject)(et)),E(3,(0,zs.inject)(gr)),E(4,(0,zs.inject)(it)),E(5,(0,zs.inject)(as))],Ql);var pa=F(pe()),lq=w("net");var Zl=class extends Bi{constructor(e,r,i){super(e,r,i)}resolveParams(e){return e.request==="attach"&&e.type==="pwa-msedge"&&typeof e.useWebView=="object"}async acquireConnectionForBrowser(e,r){let{getAppContainerProcessTokens:i}=await Promise.resolve().then(()=>F(cq())),n=i(r.useWebView.pipeName);if(!n)throw new Z(c$());let s=n.map(u=>(0,lq.connect)(u)),o;try{o=await Kn(qu(s.map(u=>new Promise(c=>u.on("error",()=>c(void 0)).on("connect",()=>c(u))))),e.cancellationToken)}finally{for(let u of s)u!==o&&u.destroy()}if(!o)throw new Z(l$());let a=new Ni(this.logger,o);return new Tt(a,this.logger,e.telemetryReporter)}};Zl=z([(0,pa.injectable)(),E(0,(0,pa.inject)(ae)),E(1,(0,pa.inject)(et)),E(2,(0,pa.optional)()),E(2,(0,pa.inject)(_o))],Zl);var np=F(pe()),Aq=w("net");var li=F(pe());var RE=Symbol("ILinkedBreakpointLocation");var yq=F(w("path"));var nh=F(pe()),da=F(w("path")),Hq=w("url");var pq=w("fs"),Xs=F(w("path")),OE=w("url");function xb(t,e){return t?(t.endsWith("/")||(t+="/"),t+e):e}async function Pb(t,e,r,i,n){e=Ht(e)||e;let s;if(t){if(vi(t))s=Ht(t);else if(mr(t))s=await i(t,r,n)||t;else if(Xs.isAbsolute(e))s=Gle(e,t);else{let o=new OE.URL(e).pathname,a=await i(o,r,n),u=Xs.dirname(a);s=io(u,t)}n.verbose("sourcemap.parsing","resolved sourceRoot",{sourceRoot:t,absSourceRoot:s})}else if(Xs.isAbsolute(e))s=Xs.dirname(e),n.verbose("sourcemap.parsing","no sourceRoot specified, using script dirname",{absSourceRoot:s});else{let o=new OE.URL(e).pathname||"/placeholder.js",a=await i(o,r,n);s=a?Xs.dirname(a):"",n.verbose("sourcemap.parsing","no sourceRoot specified, using webRoot + script path dirname",{absSourceRoot:s})}return s=MT(s),s=_t(s),s}var ih=async(t,e,r)=>{if(!t||!t.startsWith("/"))return"";let i=Object.keys(e).sort((n,s)=>s.length-n.length);for(let n of i){if(!n)continue;let s=e[n];if(n[0]!=="/"&&(r.verbose("sourcemap.parsing",`Keys should be absolute: ${n}`),n="/"+n),qle(n,t))return Vle(n,s,t)}return""},fq=(t,e)=>async(r,i,n)=>{if(process.platform==="win32"&&/^[a-z]:/i.test(r))return r;let s=await Gm(t,Xs.dirname(e),"package.json");if(!s)return ih(r,i,n);let o=await ih(r,ox(i,a=>a.length>=s.length),n);if(process.platform!=="win32"&&r!=="/"&&!o){let a=await pq.promises.stat(r).catch(()=>{});if(a!=null&&a.isDirectory())return r}return o||s};function qle(t,e){return t===e?!0:(t.endsWith("/")||(t+="/"),e.startsWith(t))}function Vle(t,e,r){let i=decodeURIComponent(r.substring(t.length));return i?io(e,i):e}function Gle(t,e){return Yr(Xs.dirname(t),e)}var gq=F(Af()),tp=F(w("path"));var Db="*",dq=new RegExp(Er(Db),"g"),Lb="?:"+Db,Kle=new RegExp(Er(Lb),"g"),NE=(t,e)=>{let r=e.match(t);return t.lastIndex=0,r?r.length:0},hq=new RegExp(`${Er(Lb)}|${Er(Db)}`,"g"),Cb=class{constructor(e,r){this.logger=r;this.replacers=[];let i=Object.keys(e).sort((n,s)=>s.replace(Lb,"*").length-n.replace(Lb,"*").length);for(let n of i){let s=e[n];if(!s.includes("*")&&/\$[0-9'`&]/.test(s)){this.replacers.push([new RegExp(`^${n}$`,"i"),s]);continue}let o=lt(n),a=`"${o}": "${s}"`,u=NE(dq,o)-NE(Kle,o);if(u>1){r.warn("runtime.sourcemap",`Warning: only one asterisk allowed in a sourceMapPathOverrides entry - ${a}`);continue}if(NE(dq,s)>u){r.warn("runtime.sourcemap",`The right side of a sourceMapPathOverrides entry must have 0 or 1 asterisks - ${a}}`);continue}let c="^",l=0;for(hq.lastIndex=0;;){let p=hq.exec(o);if(c+=Er(o.slice(l,p==null?void 0:p.index),"/"),!p)break;p[0]===Db?c+="(.*?)":c+=".*?",l=p.index+p[0].length}u===0&&(c+="([\\/\\\\].*)?",s+="*"),this.replacers.push([new RegExp(c+"$","i"),s.replace(/\$/g,"$$$$").replace(/\*/,"$1")])}}apply(e){let r=lt(e);for(let[i,n]of this.replacers){let s=r.replace(i,n);if(s!==r)return this.logger.verbose("runtime.sourcemap",`SourceMap: mapping ${e} => ${s}, via sourceMapPathOverrides entry - ${i.toString()}`),io(s)}return e}};var zle=/\x00/,mq,ep=class{constructor(e,r){this.options=e;this.logger=r;this.sourceMapOverrides=new Cb(this.options.sourceMapOverrides,this.logger);this.resolvePatterns=(mq=this.options.resolveSourceMapLocations)==null?void 0:mq.map(e=>{let r=e.startsWith("!")?"!":"",i=e.slice(r.length).replace(/\.[a-z0-9]+$/,".*");if(!mr(i))return lt(e);i=lt(Yr(i));let n=m_(this.options.workspaceFolder),s=m_(i),o=0;for(let a=0;a<n.length&&a<s.length&&s[a].toLowerCase()===n[a].toLowerCase();a++)o+=n[a].length+1;return i=i.slice(0,o).replace(/[\[\]\(\)\{\}\!\*]/g,"\\$&")+i.slice(o),r+i})}shouldResolveSourceMap({sourceMapUrl:e,compiledPath:r}){if(r.startsWith(Vo)||r==="")return!1;if(!this.resolvePatterns||this.resolvePatterns.length===0)return!0;let i=Ht(e)||sr(e)&&r||e;if(i.startsWith("webpack-internal:///"))return!0;let n=ym(e)?!1:e0(),s=this.rebaseRemoteToLocal(i);return(0,gq.default)((s!==i?[i,s]:[i]).map(lt),this.resolvePatterns,{dot:!0,nocase:!n}).length>0}rebaseRemoteToLocal(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return tp.resolve(e);let r=Bp(this.options.remoteRoot,e);if(r.startsWith(".."))return"";let i=io(this.options.localRoot,r);return i=g_(i),this.logger.verbose("runtime.sourcemap",`Mapped remoteToLocal: ${e} -> ${i}`),Yr(i)}rebaseLocalToRemote(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return e;let r=Bp(this.options.localRoot,e),i=io(this.options.remoteRoot,r);return i=_t(i,!0),this.logger.verbose("runtime.sourcemap",`Mapped localToRemote: ${e} -> ${i}`),i}normalizeSourceMapUrl(e){e=e.replace(zle,"");let r=e.lastIndexOf("?");return r!==-1&&e.slice(r-4,r)!==".vue"&&(e=e.slice(0,r)),e}canMapPath(e){return tp.posix.isAbsolute(e)||tp.win32.isAbsolute(e)||vi(e)}};var BE="https?:\\/\\/[^\\/]+\\/",fa=class extends ep{constructor(r,i,n,s){super(n,s);this.vueMapper=r;this.fsUtils=i}absolutePathToUrlPath(r){r=da.normalize(r);let{baseUrl:i,pathMapping:n}=this.options,s=["/",n["/"]],o=Object.entries(n).sort(([c,l],[p,f])=>f.length-l.length||p.length-c.length).find(([,c])=>YC(c,r))||s;if(!o)return{url:Oe(r),needsWildcard:!1};if(i&&vi(i))return{url:bc(r),needsWildcard:!1};let a=ho(da.relative(o[1],r)),u=o[0].replace(/\/$|^\//g,"");return u&&(a=u+"/"+a),!i&&!zm(a)?{url:a,needsWildcard:!0}:{url:Km(i,a),needsWildcard:!1}}async urlToAbsolutePath({url:r,map:i}){let n=r.indexOf("?");return n!==-1&&r.slice(n-4,n)!==".vue"&&(r=r.slice(0,n)),i?this.sourceMapSourceToAbsolute(r,i):this.simpleUrlToAbsolute(r)}async simpleUrlToAbsolute(r){if(!r)return;if(vi(r)){let o=Ht(r);if(await this.fsUtils.exists(o))return o;let a=kT(r);if(await this.fsUtils.exists(a))return a}let i;try{let o=new Hq.URL(r);if(!o.pathname||o.pathname==="/"?i="index.html":i=o.pathname,o.protocol==="webpack-internal:")return}catch{i=r}let n=da.extname(i),s=i.replace(/^\//,"").split(/[\/\\]/);for(;s.length>0;){let o="/"+s.join("/"),a=await ih(o,this.options.pathMapping,this.logger);if(a){if(!n&&await this.fsUtils.exists(a+".html"))return a+".html";if(await this.fsUtils.exists(a))return a}s.shift()}}async sourceMapSourceToAbsolute(r,i){if(!this.shouldResolveSourceMap(i.metadata))return;switch(this.vueMapper.getVueHandling(r)){case 2:return;case 1:let a=await this.vueMapper.lookup(r);if(a)return _t(a);break;default:}r=this.normalizeSourceMapUrl(r);let{pathMapping:n}=this.options,s=xb(i.sourceRoot,r),o=this.sourceMapOverrides.apply(s);if(o!==s){o=_t(o);let a=Yr(n["/"],"..","ClientApp",Bp(n["/"],o));return this.options.clientID==="visualstudio"&&s.startsWith("webpack:///")&&!await this.fsUtils.exists(o)&&await this.fsUtils.exists(a)?a:o}return vi(r)?Ht(r):da.isAbsolute(r)?_t(r):Yr(await Pb(i.sourceRoot,i.metadata.compiledPath,n,ih,this.logger),r)}absolutePathToUrlRegexp(r){let i=this.absolutePathToUrlPath(r),n=i.url,s=n.length;n.endsWith("index.html")?(s=n.length-10-1,n=n.slice(0,s)+"\\/?($|index(\\.html)?)"):n.endsWith(".html")&&(s=n.length-5,n=n.slice(0,s)+"(\\.html)?");let o=0;i.needsWildcard&&(n=BE+n,o=BE.length,s+=BE.length);let a=bi(n,[o,s]);return i.needsWildcard?`${bi(Oe(r))}|${a}`:a}};fa=z([(0,nh.injectable)(),E(0,(0,nh.inject)(xl)),E(1,(0,nh.inject)(Fr))],fa);var Tb=class extends fa{constructor(r,i,n,s){super(r,i,n,s);this.blazorInCodespacesRegexpSubstitution="$1:\\$2";if(this.options.remoteFilePrefix){let o=`\\${yq.default.sep}`,a=this.options.remoteFilePrefix.replace(new RegExp(o,"g"),o);this.blazorInCodespacesRegexp=new RegExp(`^${a}${o}([A-z])\\$${o}(.*)$`)}else this.blazorInCodespacesRegexp=new RegExp("")}absolutePathToUrlRegexp(r){if(this.options.remoteFilePrefix){let i=r.replace(this.blazorInCodespacesRegexp,this.blazorInCodespacesRegexpSubstitution),s=ho(i).replace(/^(\w):(.*)$/,"$1$2"),o=bi(s);if(o){let a=`dotnet://.*\\.dll/${o}`;return this.logger.verbose("runtime.breakpoints","absolutePathToUrlRegexp.blazor.remoteFs",{absolutePath:r,dotnetUrlRegexp:a}),a}}else{let i=Oe(r),n=bi(i),s=super.absolutePathToUrlRegexp(r);return n.includes(s)?n:`${n}|${s}`}return super.absolutePathToUrlRegexp(r)}};var bq=w("url");function vq(t){if("file"in t&&t.file)return bc(t.file);if(t.url)try{let e=new bq.URL(t.url);return e.pathname="/",e.search="",e.hash="",e.protocol==="data:"?void 0:e.href}catch{}}var Du=F(w("path")),wq=w("url");var _q="node:",pn=class extends ep{constructor(r,i,n,s){super(n,s);this.fsUtils=r;this.linkedBp=i;this.options=n;this.logger=s}static shouldWarnAboutSymlinks(r){var i;return"runtimeArgs"in r&&!((i=r.runtimeArgs)!=null&&i.includes("--preserve-symlinks"))}static getOptions(r){return{workspaceFolder:r.__workspaceFolder,resolveSourceMapLocations:r.resolveSourceMapLocations,basePath:r.cwd,sourceMapOverrides:r.sourceMapPathOverrides,remoteRoot:r.remoteRoot,localRoot:r.localRoot}}derive(r){return new pn(this.fsUtils,this.linkedBp,{...this.options,...r},this.logger)}get resolutionOptions(){return this.options}async urlToAbsolutePath({url:r,map:i}){if(r=this.normalizeSourceMapUrl(r),r.startsWith(_q)&&this.options.basePath)return r=Du.join(this.options.basePath,"lib",r.slice(_q.length)),r.endsWith(".js")||(r+=".js"),r;if(i)return this.sourceMapSourceToAbsolute(r,i);let n=Ht(r);if(n)return this.rebaseRemoteToLocal(n);if(zm(r)){let o=this.sourceMapOverrides.apply(r);r=o===r?new wq.URL(r).pathname.slice(1):o}else if(Du.isAbsolute(r))r=this.sourceMapOverrides.apply(r);else return`<node_internals>/${r}`;let s=Yr(this.options.basePath??"",r);return this.rebaseRemoteToLocal(s)}absolutePathToUrl(r){return Oe(this.rebaseLocalToRemote(Du.normalize(r)))}async absolutePathToUrlRegexp(r){var n;let i=r;try{i=await this.fsUtils.realPath(r)}catch{}return Vm(i,r)?bi(this.absolutePathToUrl(r)):((n=this.linkedBp)==null||n.warn(),bi(this.absolutePathToUrl(r))+"|"+bi(this.absolutePathToUrl(i)))}async sourceMapSourceToAbsolute(r,i){if(!this.shouldResolveSourceMap(i.metadata))return;let n=xb(i.sourceRoot,r),s=this.sourceMapOverrides.apply(n);return s!==n?_t(s):vi(r)?Ht(r):!Du.isAbsolute(r)&&this.options.basePath?Yr(await Pb(this.options.remoteRoot&&mr(i.sourceRoot)&&this.rebaseRemoteToLocal(i.sourceRoot)||i.sourceRoot,i.metadata.compiledPath,{"/":this.options.basePath},fq(this.fsUtils,i.metadata.compiledPath),this.logger),r):this.rebaseRemoteToLocal(r)||r}};var fn=Symbol("ISourcePathResolverFactory"),rp=class{constructor(e,r){this.fsUtils=e;this.linkedBp=r}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new pn(this.fsUtils,pn.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,pn.getOptions(e),r);throw new Error(`Not usable for type ${e.type}`)}};rp=z([(0,li.injectable)(),E(0,(0,li.inject)(Fr)),E(1,(0,li.optional)()),E(1,(0,li.inject)(RE))],rp);var ip=class{constructor(e,r,i,n){this.initializeParams=e;this.vueMapper=r;this.fsUtils=i;this.linkedBp=n}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new pn(this.fsUtils,pn.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,pn.getOptions(e),r);{let i=!!e.inspectUri;return new(i?Tb:fa)(this.vueMapper,this.fsUtils,{workspaceFolder:e.__workspaceFolder,resolveSourceMapLocations:e.resolveSourceMapLocations,baseUrl:vq(e),localRoot:null,remoteRoot:null,pathMapping:{"/":e.webRoot,...e.pathMapping},sourceMapOverrides:e.sourceMapPathOverrides,clientID:this.initializeParams.clientID,remoteFilePrefix:e.__remoteFilePrefix},r)}}};ip=z([(0,li.injectable)(),E(0,(0,li.inject)(gr)),E(1,(0,li.inject)(xl)),E(2,(0,li.inject)(Fr)),E(3,(0,li.optional)()),E(3,(0,li.inject)(RE))],ip);var Iq=w("url");var $b=class extends aa{constructor(){super(...arguments);this.baseFilter=mo(this.launchParams);this.filter=r=>{let{debugWebWorkerExtHost:i,debugWebviews:n}=this.launchParams;return!!(i&&(r.type==="worker"&&r.title==="DebugWorkerExtensionHost"||r.type==="page"&&r.title.includes("[Extension Development Host]"))||n&&r.type==="iframe"&&this.baseFilter(r))}}static async connectRenderer(r,i,n,s,o,a){let c=await r.rootSession().Target.attachToBrowserTarget({});if(!c)return;let l=r.createSession(c.sessionId);return new this(r,void 0,l,i,s,o,n,a)}waitForMainTarget(r){let i=this.launchParams;return i.debugWebWorkerExtHost&&this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(async({targetInfo:n})=>{if(!n.url.includes(i.__sessionId))return;let s=await this._browser.Target.attachToTarget({targetId:n.targetId,flatten:!0});s&&this.attachedToTarget(n,s.sessionId,!1)})),super.waitForMainTarget(r)}attachedToTarget(r,i,n,s){let o=super.attachedToTarget(r,i,n||this.filter(r),s,!1);return r.type==="iframe"&&o.setComputeNameFn(Xle),o}},Xle=t=>{let e;try{e=new Iq.URL(t.targetInfo.url)}catch{return}switch(e.searchParams.get("purpose")){case"customEditor":return`${e.searchParams.get("extensionId")} editor: ${e.host}`;case"notebookRenderer":return`Notebook Renderer: ${e.host}`;default:let r=e.searchParams.get("extensionId");return`Webview: ${r?r+" ":""} ${e.host}`}};var dn=class extends Bi{constructor(r,i,n){super(r,i);this.pathResolverFactory=n}async launch(r,i){if(r.type!=="pwa-extensionHost"||r.request!=="attach")return{blockSessionTermination:!1};let n=dn.debugIdToRendererDebugPort.get(r.__sessionId);if(!n)return{blockSessionTermination:!1};let s=Ic({name:"Webview",type:"pwa-chrome",request:"attach",port:n,__workspaceFolder:r.__workspaceFolder,urlFilter:"",...r.rendererDebugOptions});return s.__sessionId=r.__sessionId,s.debugWebWorkerExtHost=r.debugWebWorkerHost,s.debugWebviews=r.debugWebviews,super.launch(s,i).catch(o=>this.logger.error("runtime.exception","Error in webview attach",{err:o})),{blockSessionTermination:!1}}async acquireConnectionInner(r,i,n){let s=new Qe,o=await new Promise((a,u)=>{let c=(0,Aq.createConnection)({port:i.port},()=>a(c));c.on("error",u),s.push(n.onCancellationRequested(()=>{c.destroy(),u(new Error("connection timed out"))}))}).finally(()=>s.dispose());return new Tt(new Ni(this.logger,o),this.logger,r)}async getTargetFilter(r){return r.filter}async createTargetManager(r,i,n){return new $b(r,void 0,r.rootSession(),this.pathResolverFactory.create(i,this.logger),this.logger,n.telemetryReporter,i,n.targetOrigin)}};dn.debugIdToRendererDebugPort=new Map,dn=z([(0,np.injectable)(),E(0,(0,np.inject)(ae)),E(1,(0,np.inject)(et)),E(2,(0,np.inject)(fn))],dn);var ha=class{constructor(){this.target={queue:[]}}connectTo(e){this.target={logger:e}}info(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:1})}verbose(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:0})}warn(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:2})}error(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:3})}fatal(e,r,i){this.log({tag:e,timestamp:Date.now(),message:r,metadata:i,level:4})}log(e){this.target&&("queue"in this.target?this.target.queue.push(e):this.target.logger.log(e))}getRecentLogs(){return this.target?"queue"in this.target?this.target.queue:this.target.logger.getRecentLogs():[]}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}setup(){throw new Error("A ProxyLogger cannot be setup()")}dispose(){this.target=void 0}forTarget(){return new ha}};var Sq=Symbol("ITargetOrigin"),Mb=class{constructor(e){this.id=e}},kb=class{constructor(e){this.id=e}};var Rb=class{constructor(e,r){this.parentList=e;this.logger=r;this.targets=new es;this.onTerminatedEmitter=new J;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;e.onAdd(([,i])=>{i.parent&&this.targets.get(i.parent.id)&&this.targets.add(i.id,i.target)}),e.onRemove(([i])=>{this.targets.remove(i)&&!this.targets.size&&this.onTerminatedEmitter.fire({killed:!0,code:0})})}async launch(e,r){if(e.type!=="node-terminal"||e.request!=="attach")return{blockSessionTermination:!1};let i=this.parentList.get(e.delegateId);if(i===void 0)return setTimeout(()=>this.onTerminatedEmitter.fire({killed:!0,code:0}),1),{blockSessionTermination:!0};let n=i.target.targetOrigin();if(!(n instanceof kb))throw new Error("Expected delegate session to have a mutable target origin");let s=i.target.logger;if(!(s instanceof ha))throw new Error("Expected delegate session to have a proxy logger");return n.id=r.targetOrigin.id,s.connectTo(this.logger),setTimeout(()=>{this.targets.add(e.delegateId,i.target),i.dap.connect(r.dap)},0),{blockSessionTermination:!0}}terminate(){for(let e of this.targets.value())e.stop();return Promise.resolve()}restart(){for(let e of this.targets.value())e.restart();return Promise.resolve()}targetList(){return[...this.targets.value()]}dispose(){this.terminate()}};var Eq=F(pe());var Jle=0,Tu=class{constructor(){this.delegateSessions=new es;this.refsByTarget=new WeakMap}createLauncher(e){return new Rb(this.delegateSessions,e)}addDelegate(e,r,i){let n={id:Jle++,target:e,dap:r,parent:i&&this.refsByTarget.get(i)};return this.refsByTarget.set(e,n),this.delegateSessions.add(n.id,n),n.id}removeDelegate(e){let r=this.refsByTarget.get(e);r&&this.delegateSessions.remove(r.id)}};Tu=z([(0,Eq.injectable)()],Tu);var jq=F(pe());var ze=class{constructor(e,r,i){this.major=e;this.minor=r;this.patch=i}static parse(e){let r=e.split(".").map(Number);if(r.length!==3||r.some(isNaN))throw new SyntaxError(`Input string '${e}' is not a semver`);return new ze(r[0],r[1],r[2])}static min(e,r){return e.lt(r)?e:r}compare(e){return this.major-e.major||this.minor-e.minor||this.patch-e.patch}gt(e){return this.compare(e)>0}gte(e){return this.compare(e)>=0}lt(e){return this.compare(e)<0}lte(e){return this.compare(e)<=0}toString(){return`${this.major}.${this.minor}.${this.patch}`}};var Nq=F(pe());var Rq=F(Pq()),ls=F(w("fs")),Mu=F(pe()),Oq=F(w("net")),WE=F(w("os")),qE=F(w("path"));var Bb=class{constructor(e,r){this.sessionId=e;this.sink=r;this.onMessageEmitter=new J;this.onEndEmitter=new J;this.disposables=new Qe;this.onMessage=this.onMessageEmitter.event;this.onEnd=this.onEndEmitter.event;this.disposables.push(r.NodeWorker.on("detachedFromWorker",i=>{i.sessionId===e&&(this.onEndEmitter.fire(),this.dispose())}),r.NodeWorker.on("receivedMessageFromWorker",i=>{i.sessionId===e&&this.onMessageEmitter.fire([i.message,new Dr])}))}send(e){this.sink.NodeWorker.sendMessageToWorker({message:e,sessionId:this.sessionId})}dispose(){this.disposables.isDisposed||(this.disposables.dispose(),this.onEndEmitter.fire())}};var Lq=":::";var UE=w("path"),t1e=(0,UE.join)(__dirname,"watchdog.js"),Cq=(0,UE.join)(__dirname,"bootloader.js");var uh=F(vt()),Fi=F(pe()),us=w("path");var sh=F(pe()),Dq=w("path");var $u=Symbol("IPackageJsonProvider");var sp=class{constructor(e,r){this.fs=e;this.config=r;this.getPath=Ae(async()=>{if(this.config.type!=="pwa-node"||this.config.request!=="launch")return;let e=await Gm(this.fs,this.config.cwd,"package.json");return e?(0,Dq.join)(e,"package.json"):void 0});this.getContents=Ae(async()=>{let e=await this.getPath();if(e)try{let r=await this.fs.readFile(e);return JSON.parse(r.toString())}catch{return}})}};sp=z([(0,sh.injectable)(),E(0,(0,sh.inject)(Fr)),E(1,(0,sh.inject)(Ne))],sp);var ma=Symbol("INodeBinaryProvider");function Tq(t,e){return t.has(1)?e.addNodeOption("--inspect-publish-uid=http"):e}var ipe=new Set(["npm","yarn","pnpm","tnpm","cnpm"]),$q=t=>ipe.has((0,us.basename)(t,(0,us.extname)(t))),Mq=(t,e)=>{if(!(!t||!$q(t)))return e.find(r=>!r.startsWith("-")&&r!=="run"&&r!=="run-script")},jE=new ze(12,0,0),npe=new ze(8,0,0),spe=[{inclusiveMin:new ze(16,0,0),inclusiveMax:new ze(16,3,99),message:uh.t("Some breakpoints might not work in your version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes. Details: https://aka.ms/AAcsvqm")},{inclusiveMin:new ze(7,0,0),inclusiveMax:new ze(8,99,99),message:uh.t("You're running an outdated version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes.")}],pi=class{constructor(e,r){this.path=e;this.version=r;this.capabilities=new Set;r===void 0&&(r=jE),r.gte(new ze(12,0,0))&&this.capabilities.add(0),r.gte(new ze(12,6,0))&&this.capabilities.add(1)}get isPreciselyKnown(){return this.version!==void 0}get warning(){if(this.version){for(let e of spe)if(e.inclusiveMax.gte(this.version)&&e.inclusiveMin.lte(this.version))return e}}has(e,r){return!this.isPreciselyKnown&&r!==void 0?r:this.capabilities.has(e)}},ah=class extends Z{constructor(r,i){super(i$(r.toString(),i));this.version=r;this.location=i}},ope=["node","node64","electron"],ape=new Map([[11,new ze(12,0,0)],[10,new ze(12,0,0)],[9,new ze(12,0,0)],[8,new ze(12,0,0)],[7,new ze(12,0,0)],[6,new ze(12,0,0)],[5,new ze(10,0,0)],[4,new ze(10,0,0)],[3,new ze(10,0,0)],[2,new ze(8,0,0)],[1,new ze(8,0,0)]]),oh=class{constructor(e,r,i){this.logger=e;this.fs=r;this.packageJson=i;this.knownGoodMappings=new Map}async resolveAndValidate(e,r="node",i,n){try{return await this.resolveAndValidateInner(e,r,i,n)}catch(s){if(!(s instanceof ah))throw s;if(await this.shouldTryDebuggingAnyway(s))return new pi(s.location,s.version instanceof ze?s.version:void 0);throw s}}shouldTryDebuggingAnyway(e){return Promise.resolve(!1)}async resolveAndValidateInner(e,r,i,n){let s=await this.resolveBinaryLocation(r,e);if(this.logger.info("runtime.launch","Using binary at",{location:s,executable:r}),!s)throw new Z(c0(r,uh.t("path does not exist")));if(i)return new pi(s,new ze(i,0,0));let o=$T(s);if(!ope.includes(o)){if($q(s)){let y=await this.packageJson.getPath();y&&(e=e.addToPath((0,us.resolve)((0,us.dirname)(y),"node_modules/.bin"),"prepend"))}try{let y=await this.resolveAndValidateInner(e,"node",void 0,n);return new pi(s,y.version)}catch(y){if(f$(y,9230))throw y;return new pi(s,void 0)}}if(s.startsWith("/snap/"))return new pi(s,void 0);let a=this.knownGoodMappings.get(s);if(a)return a;let u=await this.getVersionText(s,n);if(!u)return new pi(s,void 0);this.logger.info("runtime.launch","Discovered version",{version:u});let c=/v([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(u);if(!c)throw new ah(u,s);let[,l,p,f]=c.map(Number),g=new ze(l,p,f);if(o==="electron"){let y=await this.resolveAndValidate(e);g=ze.min(ape.get(g.major)??jE,y.version??jE)}if(g.lt(npe))throw new ah(g,s);let m=new pi(s,g);return this.knownGoodMappings.set(s,m),m}async resolveBinaryLocation(e,r){return e&&(0,us.isAbsolute)(e)?await KC(this.fs,e,r):await Hm(this.fs,e,r.value)}async getVersionText(e,r){var i;try{let{stdout:n}=await yy(e,["--version"],{env:xt.processEnv().defined(),cwd:r});return n.trim()}catch(n){throw r&&!((i=await ro(this.fs,r))!=null&&i.isDirectory())?new Z(r$(r)):new Z(c0(e,n.message))}}};oh=z([(0,Fi.injectable)(),E(0,(0,Fi.inject)(ae)),E(1,(0,Fi.inject)(it)),E(2,(0,Fi.inject)($u))],oh);var op=class extends oh{constructor(r,i,n,s){super(r,i,n);this.vscode=s}async shouldTryDebuggingAnyway({message:r}){if(!this.vscode)return!1;let i=uh.t("Yes");return await this.vscode.window.showErrorMessage(r,i)===i}};op=z([E(0,(0,Fi.inject)(ae)),E(1,(0,Fi.inject)(it)),E(2,(0,Fi.inject)($u)),E(3,(0,Fi.optional)()),E(3,(0,Fi.inject)(_o))],op);var kq=w("path");var Fb=class{constructor(e,r,i,n,s,o,a={},u){this.launchConfig=e;this.targetOriginValue=r;this.connection=i;this.targetInfo=s;this.logger=o;this.lifecycle=a;this._parent=u;this._serialize=Promise.resolve(void 0);this._attached=!1;this._onNameChangedEmitter=new J;this._onDisconnectEmitter=new J;this.entryBreakpoint=void 0;this.onDisconnect=this._onDisconnectEmitter.event;this.onNameChanged=this._onNameChangedEmitter.event;this.connection=i,this._cdp=n,n.pause(),this._waitingForDebugger=s.type==="waitingForDebugger",s.title?this._targetName=`${(0,kq.basename)(s.title)} [${s.processId}]`:this._targetName=`[${s.processId}]`,n.Target.on("targetDestroyed",()=>this.connection.close()),i.onDisconnected(()=>this._disconnected())}id(){return this.targetInfo.targetId}processId(){return this.targetInfo.processId}name(){return this._targetName}fileName(){return this.targetInfo.title}type(){return"node"}targetOrigin(){return this.targetOriginValue}parent(){return this._parent}async initialize(){this.lifecycle.initialized&&(this.entryBreakpoint=await this.lifecycle.initialized(this)||void 0)}waitingForDebugger(){return this._waitingForDebugger}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Oe(e):e}supportsCustomBreakpoints(){return!1}executionContextName(){return this._targetName}hasParent(){return!!this._parent}async runIfWaitingForDebugger(){await this._cdp.Runtime.runIfWaitingForDebugger({})}async _disconnected(){this._onDisconnectEmitter.fire()}canAttach(){return!this._attached}async attach(){return this._serialize=this._serialize.then(async()=>{if(!this._attached)return this._doAttach()}),this._serialize}async _doAttach(){this._waitingForDebugger=!1,this._attached=!0;let e=await this._cdp.Target.attachToTarget({targetId:this.targetInfo.targetId});if(!e){this.logger.info("runtime.launch","Failed to attach to target",{targetId:this.targetInfo.targetId});return}this._cdp.NodeWorker.enable({waitForDebuggerOnStart:!0}),e&&"__dynamicAttach"in e&&(await this._cdp.Runtime.enable({}),await this._cdp.Debugger.enable({}));let r;return this._cdp.Runtime.on("executionContextCreated",i=>{i.context.auxData&&i.context.auxData.isDefault&&(r=i.context.id)}),this._cdp.Runtime.on("executionContextDestroyed",i=>{i.executionContextId===r&&this.connection.close()}),this._cdp}async afterBind(){this._cdp.resume()}canDetach(){return this._attached}async detach(){this._serialize=this._serialize.then(async()=>{if(this._waitingForDebugger){let e=await this._doAttach();await(e==null?void 0:e.Runtime.runIfWaitingForDebugger({}))}this._attached&&this._doDetach()})}async _doDetach(){await Promise.all([this._cdp.Target.detachFromTarget({targetId:this.targetInfo.targetId}),this._cdp.NodeWorker.disable({})]),this.connection.close(),this._attached=!1}canRestart(){return!1}restart(){}canStop(){return!0}stop(){try{this.lifecycle.close&&this.lifecycle.close(this)}finally{this.connection.close()}}};var cs=class{constructor(e,r,i,n){this.pathProvider=e;this.logger=r;this.portLeaseTracker=i;this.pathResolverFactory=n;this.serverConnections=new Set;this.targets=new es;this.onTerminatedEmitter=new J;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;this.bootloaderFile=Ae(this.getBootloaderFile.bind(this))}async launch(e,r){let i=this.resolveParams(e);if(!i)return{blockSessionTermination:!1};this._stopServer();let{server:n,pipe:s}=await this._startServer(r.telemetryReporter),o=this.logger.forTarget(),a=this.run={server:n,serverAddress:s,params:i,context:r,logger:o,pathResolver:this.pathResolverFactory.create(i,this.logger)};return await this.launchProgram(a),{blockSessionTermination:!0}}async terminate(){this.program?await this.program.stop():this.onProgramTerminated({code:0,killed:!0})}async restart(e){if(!this.run)return;let r=this.program;r&&(this.program=void 0,await r.stop(),await Promise.race([ke(2e3).then(()=>!1),Promise.all([...this.serverConnections].map(n=>new Promise(s=>n.onDisconnected(s))))])||(this.logger.warn("runtime.launch","Timeout waiting for server connections to close"),this.closeAllConnections())),await this.launchProgram({...this.run,params:e?this.resolveParams(e)??this.run.params:this.run.params,context:{...this.run.context,cancellationToken:this.run.params.timeout>0?Yt.withTimeout(this.run.params.timeout).token:Cr}})}targetList(){return[...this.targets.value()]}dispose(){this._stopServer()}onProgramTerminated(e){this.onTerminatedEmitter.fire(e),this._stopServer(),this.program=void 0}resolveNodePath(e,r="node"){return this.pathProvider.resolveAndValidate(xt.merge(xt.processEnv(),this.getConfiguredEnvironment(e)),r,e.nodeVersionHint,e.cwd)}getConfiguredEnvironment(e){let r=xt.empty;if(e.envFile)try{r=r.merge(upe(e.envFile))}catch(i){throw new Z(t$(i.message))}return r.merge(e.env)}async resolveEnvironment({params:e,serverAddress:r},i,n){let s=this.getConfiguredEnvironment(e),o=await this.bootloaderFile(e.cwd,i),a={inspectorIpc:r,deferredMode:!1,waitForDebugger:"",execPath:await Hm(ls.promises,"node",process.env),onlyEntrypoint:!e.autoAttachChildProcesses,verbose:e.trace===!0||typeof e.trace=="object"&&e.trace.stdio?!0:void 0,autoAttachMode:"always",mandatePortTracking:this.portLeaseTracker.isMandated?!0:void 0,...n},u={NODE_OPTIONS:` --require ${o.interpolatedPath} `,VSCODE_INSPECTOR_OPTIONS:Lq+JSON.stringify(a),ELECTRON_RUN_AS_NODE:null},c=s.lookup("NODE_OPTIONS");c&&(u.NODE_OPTIONS+=` ${c}`);let l=xt.processEnv().lookup("NODE_OPTIONS");return l&&(u.NODE_OPTIONS+=` ${l}`),s.merge({...u})}createLifecycle(e,r,i){return{}}async _startServer(e){let r=GC(),i=await new Promise((n,s)=>{let o=Oq.createServer(a=>this._startSession(a,e)).on("error",s).listen(r,()=>n(o))});return{pipe:r,server:i}}_stopServer(){var e,r;(e=this.run)==null||e.server.close(),this.run=void 0,(r=this.bootloaderFile.value)==null||r.then(i=>i.dispose()),this.bootloaderFile.forget(),this.closeAllConnections()}closeAllConnections(){this.serverConnections.forEach(e=>e.close()),this.serverConnections.clear()}async _startSession(e,r){if(!this.run)return;let{connection:i,cdp:n,targetInfo:s}=await this.acquireTarget(e,r,this.run.logger);if(!this.run){e.destroy();return}s.processId===void 0&&(s.processId=Number(s.targetId));let o=new Fb(this.run.params,this.run.context.targetOrigin,i,n,s,this.run.logger,this.createLifecycle(n,this.run,s),s.openerId?this.targets.get(s.openerId):void 0);this.listenToWorkerDomain(n,r,o),this.targets.add(s.targetId,o),o.onDisconnect(()=>this.targets.remove(s.targetId))}async listenToWorkerDomain(e,r,i){e.NodeWorker.on("attachedToWorker",n=>{let s=new Bb(n.sessionId,e),o=new ol(i.launchConfig,{attached:!0,canAccessOpener:!1,type:"node-worker",targetId:`${i.id()}-${n.sessionId}`,title:n.workerInfo.title,url:n.workerInfo.url,openerId:i.id()},i,i.targetOrigin(),new Tt(s,i.logger,r).rootSession(),i.logger),a=new Qe;a.push(s),a.push(i.onDisconnect(()=>a.dispose())),a.push(s.onEnd(()=>a.dispose())),a.callback(()=>this.targets.remove(o.id())),this.targets.add(o.id(),o)})}async acquireTarget(e,r,i){let n=new Tt(new Ni(i,e),i,r);this.serverConnections.add(n),n.onDisconnected(()=>this.serverConnections.delete(n));let s=n.rootSession(),{targetInfo:o}=await new Promise(c=>s.Target.on("targetCreated",c)),a=o,u=this.portLeaseTracker.register(a.processInspectorPort);return n.onDisconnected(()=>u.dispose()),{targetInfo:a,cdp:s,connection:n,logger:i}}async getBootloaderFile(e,r){let i=lt(Cq);if(!i.includes(" "))return{interpolatedPath:i,dispose:()=>{}};if(r.has(0))return{interpolatedPath:`"${i}"`,dispose:()=>{}};let n=`require(${JSON.stringify(i)})`;if(!WE.tmpdir().includes(" ")||!e){let a=qE.join(WE.tmpdir(),"vscode-js-debug-bootloader.js");return await ls.promises.writeFile(a,n),{interpolatedPath:a,dispose:()=>{}}}let s=".vscode-js-debug-bootloader.js",o=qE.join(e,s);return await ls.promises.writeFile(o,n),{interpolatedPath:`./${s}`,dispose:()=>ls.unlinkSync(o)}}async gatherTelemetryFromCdp(e,r){for(let i=0;i<8;i++){let n=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:"typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : ({ processId: process.pid, nodeVersion: process.version, architecture: process.arch })"+ft()});if(!this.program)return;if(!n||!n.result.value){this.logger.error("runtime.target","Undefined result getting telemetry");return}if(typeof n.result.value!="object"){this.logger.info("runtime.target","Process not yet defined, will retry"),await ke(50*2**i);continue}let s=n.result.value;return r.context.telemetryReporter.report("nodeRuntime",{version:s.nodeVersion,arch:s.architecture}),this.program.gotTelemetery(s),s}}};cs=z([(0,Mu.injectable)(),E(0,(0,Mu.inject)(ma)),E(1,(0,Mu.inject)(ae)),E(2,(0,Mu.inject)(xi)),E(3,(0,Mu.inject)(fn))],cs);function upe(t){if(!ls.existsSync(t))return{};let e=cpe(ls.readFileSync(t,"utf8"));return Rq.parse(Buffer.from(e))}function cpe(t){return t&&t[0]==="\uFEFF"&&(t=t.substr(1)),t}var ga=class extends cs{async appendEnvironmentVariables(e,r){let i="typeof process==='undefined'||process.pid===undefined?'process not defined':(()=>{"+Object.entries(r.defined()).map(([n,s])=>{let o=JSON.stringify(n);return`process.env[${o}]=(process.env[${o}]||'')+${JSON.stringify(s)}`}).join(";")+"})()"+ft();for(let n=0;n<5;n++){let s=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:i});if(!s){this.logger.error("runtime.target","Undefined result setting child environment vars");return}if(!s.exceptionDetails&&s.result.value!=="process not defined")return;this.logger.error("runtime.target","Error setting child environment vars",s),await ke(50)}}};ga=z([(0,Nq.injectable)()],ga);var Ub=class{constructor(e,r){this.a=e;this.b=r;this.stopped=Promise.race([this.a.stopped.then(async e=>await this.b.stop()&&e),this.b.stopped.then(async e=>await this.a.stop()&&e)])}gotTelemetery(e){this.a.gotTelemetery(e),this.b.gotTelemetery(e)}async stop(){return(await Promise.all([this.a.stop(),this.b.stop()]))[0]}},jb=class{constructor(e,r,i){this.child=e;this.logger=r;this.killBehavior=i;this.killed=!1;this.stopped=new Promise((n,s)=>{e.once("exit",o=>n({killed:this.killed,code:o||0})),e.once("error",o=>s({killed:this.killed,code:1,error:o}))})}gotTelemetery(){}stop(){return this.killed=!0,un(this.child.pid,this.logger,this.killBehavior),this.stopped}},ku=class{constructor(){this.stopped=new Promise(e=>this.stopDefer=e)}gotTelemetery(e){this.telemetry=e}stop(){return this.stopDefer({code:0,killed:!0}),this.stopped}},ya=class extends ku{constructor(r){super();this.wd=r;r.onEnd(i=>{this.stopDefer(i),this.wd.dispose()})}stop(){return this.wd.dispose(),this.stopped}},ch=class{constructor(e,r,i){this.terminalResult=e;this.logger=r;this.killBehavior=i;this.didStop=!1;this.stopped=new Promise(e=>this.onStopped=r=>{this.didStop=!0,e({code:0,killed:r})});e.processId&&this.startPollLoop(e.processId)}gotTelemetery({processId:e}){if(this.didStop){un(e,this.logger,this.killBehavior);return}this.loop||this.startPollLoop(e)}stop(){return this.didStop?this.stopped:(this.didStop=!0,this.loop?(un(this.loop.processId,this.logger,this.killBehavior),this.startPollLoop(this.loop.processId,ch.killConfirmInterval)):this.terminalResult.shellProcessId?(un(this.terminalResult.shellProcessId,this.logger,this.killBehavior),this.startPollLoop(this.terminalResult.shellProcessId,ch.killConfirmInterval)):this.onStopped(!0),this.stopped)}startPollLoop(e,r=ch.terminationPollInterval){this.loop&&clearInterval(this.loop.timer);let i={processId:e,timer:setInterval(()=>{lpe(e)||(clearInterval(i.timer),this.onStopped(!0))},r)};this.loop=i}},Ha=ch;Ha.terminationPollInterval=1e3,Ha.killConfirmInterval=200;function lpe(t){try{return process.kill(t,0),!0}catch{return!1}}var Uq=F(w("net"));var Bq=w("crypto"),Fq=()=>(0,Bq.randomBytes)(12).toString("hex");var Ui=class{constructor(e,r){this.info=e;this.server=r;this.onEndEmitter=new J;this.cts=new Yt;this.gracefulExit=!1;this.targetAlive=!1;this.targetInfo={targetId:this.info.ownId??Fq(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)};this.onEnd=this.onEndEmitter.event;this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){let r=await new Promise((n,s)=>{let o=Uq.createConnection(e.ipcAddress,()=>n(o));o.on("error",s)}),i=new Ni(Mi.null,r);return new Ui(e,i)}listenToServer(){let{server:e,targetInfo:r}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:r}})),e.onMessage(async([i])=>{if(this.target&&!i.includes("Target.attachToTarget")&&!i.includes("Target.detachFromTarget")){this.target.send(i);return}let n=await this.execute(i);n&&e.send(JSON.stringify(n))}),e.onEnd(()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})})}dispose(){this.gracefulExit=!0,this.cts.dispose(!0),this.disposeTarget(),this.server.dispose()}async execute(e){var i;let r=JSON.parse(e);switch(r.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:r.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:this.info.dynamicAttach?!0:void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:r.id,result:{}};default:(i=this.target)==null||i.send(r);return}}async createTarget(){this.gracefulExit=!1;let e=await kr.create(this.info.inspectorURL,this.cts.token,this.info.remoteHostHeader);return e.onMessage(([r])=>this.server.send(r)),e.onEnd(()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()}),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}};var VE=class extends ya{constructor(r,i){super(r);this.logger=i;this.stopped.then(()=>{this.telemetry&&un(this.telemetry.processId,this.logger,"polite")})}},ap=class extends ga{constructor(){super(...arguments);this.restarting=!1}async restart(){var r;this.restarting=!0,this.onProgramTerminated({code:0,killed:!0,restart:!0}),(r=this.program)==null||r.stop()}resolveParams(r){return r.type==="pwa-extensionHost"&&r.request==="attach"?r:void 0}async launchProgram(r){let i=await zl(`http://localhost:${r.params.port}`,r.context.cancellationToken,this.logger),n=await Ui.attach({ipcAddress:r.serverAddress,scriptName:"Extension Host",inspectorURL:i,waitForDebugger:!0,dynamicAttach:!0}),s=this.program=new VE(n,this.logger);this.program.stopped.then(o=>{s===this.program&&this.onProgramTerminated(o)})}createLifecycle(r,i,n){return n.openerId?{}:{initialized:()=>this.onFirstInitialize(r,i,n)}}async onFirstInitialize(r,i,n){this.setEnvironmentVariables(r,i,n.targetId);let s=await this.gatherTelemetryFromCdp(r,i),o=this.program;if(s&&o){let a=new Ha({processId:s.processId},this.logger,"forceful");a.stopped.then(()=>o.stop()),o.stopped.then(()=>{this.restarting||a.stop()})}}async setEnvironmentVariables(r,i,n){if(!i.params.autoAttachChildProcesses)return;let s=await this.resolveEnvironment(i,new pi("node",ze.parse(process.versions.node)),{openerId:n});return this.appendEnvironmentVariables(r,s.update("ELECTRON_RUN_AS_NODE",null))}};ap=z([(0,jq.injectable)()],ap);var lh=w("fs"),Wq=F(pe());var up=class extends cs{resolveParams(e){return e.type==="pwa-extensionHost"&&e.request==="launch"?e:void 0}async launchProgram(e){let r=e.params.port||await Ug(),i=await e.context.dap.launchVSCodeRequest({args:ppe(e.params,r),env:this.getConfiguredEnvironment(e.params).defined(),debugRenderer:e.params.debugWebviews||e.params.debugWebWorkerHost});i.rendererDebugPort&&dn.debugIdToRendererDebugPort.set(e.params.__sessionId,i.rendererDebugPort),this.program=new ku,this.program.stop()}};up=z([(0,Wq.injectable)()],up);var ppe=(t,e)=>{let r=t.args.map(i=>{if(i.startsWith("-")){let n=i.split("=",2);return n.length===2&&((0,lh.existsSync)(n[1])||(0,lh.existsSync)(n[1]+".js"))?{prefix:n[0]+"=",path:n[1]}:{prefix:i}}else{try{let n=(0,lh.lstatSync)(i);if(n.isDirectory())return{prefix:"--folder-uri=",path:i};if(n.isFile())return{prefix:"--file-uri=",path:i}}catch{}return{path:i}}});return t.noDebug||r.unshift({prefix:`--inspect-brk-extensions=${e}`}),r.unshift({prefix:`--debugId=${t.__sessionId}`}),r};var i8=F(vt()),Ou=F(pe());var qq=w("crypto"),ph=w("fs"),Vq=w("os"),Gq=F(w("path")),Wb=class{constructor(){this.disposed=!1;this.path=Gq.join((0,Vq.tmpdir)(),`node-debug-callback-${(0,qq.randomBytes)(8).toString("hex")}`);this.file=ph.promises.open(this.path,"w")}static isValid(e){try{let r=(0,ph.readFileSync)(e);return r.length?r.readDoubleBE()>Date.now()-Wb.recencyDeadline:!1}catch{return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),Wb.updateInterval))}async touch(e=()=>Date.now()){let r=await this.file,i=Buffer.alloc(8);i.writeDoubleBE(e()),await r.write(i,0,i.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{await(await this.file).close(),await ph.promises.unlink(this.path)}catch{}}}},cp=Wb;cp.updateInterval=1e3,cp.recencyDeadline=2e3;var Qq=w("fs");var Xq=w("path");var Kq=w("child_process"),zq=F(bb()),lp=class{constructor(e=Kq.spawn){this.spawn=e}lookup(e,r){return new Promise((i,n)=>{let s=this.createProcess(),o=this.createParser();s.on("error",n),s.stderr.on("error",a=>n(`Error finding processes: ${a.toString()}`)),s.stdout.pipe((0,zq.default)(/\r?\n/)).on("data",a=>{let u=o(a);u&&(r=e(u,r))}),s.on("close",(a,u)=>{a===0?i(r):u?n(new Error(`process terminated with signal: ${u}`)):a&&n(new Error(`process terminated with exit code: ${a}`))})})}};var pp=class extends lp{constructor(r){super();this.fsUtils=r}async getWorkingDirectory(r){try{let{stdout:i}=await yy("lsof",["-a","-dcwd","-Fn",`-p${r}`]),n=i.trim().split(`
`).pop().slice(1);return n&&(0,Xq.isAbsolute)(n)&&await this.fsUtils.exists(n)?n:void 0}catch(i){if(i instanceof ks)return;throw i}}createProcess(){return this.spawn("ps",["-xo",`pid=PID,ppid=PPID,comm=${"a".repeat(256)},command=COMMAND`])}createParser(){let r;return i=>{if(!r){r=i.indexOf("COMMAND");return}let n=/^\W*([0-9]+)\W*([0-9]+)\W*/.exec(i);if(n)return{pid:Number(n[1]),ppid:Number(n[2]),command:i.slice(n[0].length,r).trim(),args:i.slice(r).trim()}}}};var qb=class extends pp{createProcess(){return this.spawn("ps",["-axo","pid=PID,ppid=PPID,comm:30,command=COMMAND"])}createParser(){let e=super.createParser();return r=>{let i=e(r);if(!i)return;let n=i.args.indexOf(i.command);if(n===-1)return i;for(n=n+i.command.length;n<i.args.length&&i.args[n]!==" ";)n++;return i.command=i.args.substr(0,n),i.args=i.args.substr(n+1),i}}};var Jq=w("path");var Vb=class extends lp{async getWorkingDirectory(){}createProcess(){let e=(0,Jq.join)(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");return this.spawn(e,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"])}createParser(){let e=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/;return r=>{let i=e.exec(r.trim());if(!i||i.length!==5)return;let n=Number(i[4]),s=Number(i[3]),o=Number(i[2]),a=i[1].trim();if(!isNaN(n)&&!isNaN(s)&&a){let u=a;if(a[0]==='"'){let c=a.indexOf('"',1);c>0&&(u=a.substr(1,c-1),a=a.substr(c+2))}else{let c=a.indexOf(" ");c>0?(u=a.substr(0,c),a=a.substr(c+1)):a=""}return{pid:n,ppid:s,command:u,args:a,date:o}}}}};var Yq=new Ki(Qq.promises),Zq=process.platform==="win32"?new Vb:process.platform==="darwin"?new pp(Yq):new qb(Yq);function e8(t){let e=/--inspect(-brk)?(=((\[[0-9a-fA-F:]*\]|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|[a-zA-Z0-9\.]*):)?(\d+))?/,r=/--inspect-port=(\d+)/,i,n,s=e.exec(t);return s&&s.length>=1&&(s.length>=5&&s[4]&&(i=s[4]),s.length>=6&&s[5]&&(n=parseInt(s[5]))),s=r.exec(t),s&&s.length===2&&(n=parseInt(s[1])),{address:i,port:n}}async function t8(t,e,r,i=Cr){let n=await fpe(t.pid,r);if(!n)return[];let s=[],o=n.children.slice();for(;o.length;){let a=o.pop();o=o.concat(a.children);let{port:u}=e8(a.args);u&&s.push(ME(`http://${t.hostname}:${u}`,i,r,!0).then(c=>Ui.attach({ipcAddress:t.ipcAddress,scriptName:"Child Process",inspectorURL:c,waitForDebugger:!0,dynamicAttach:!0,pid:String(a.pid),openerId:e})).catch(c=>r.info("internal","Could not spawn WD for child process",{err:c,port:u,child:a})))}return(await Promise.all(s)).filter(a=>!!a)}async function fpe(t,e){let r=new Map;r.set(0,{children:[],pid:0,ppid:0,command:"",args:""});try{await Zq.lookup(({pid:n,ppid:s,command:o,args:a})=>(n!==s&&r.set(n,{pid:n,ppid:s,command:o,args:a,children:[]}),r),null)}catch(n){e.warn("internal","Error getting child process tree",n);return}let i=r.values();for(let n of i){let s=r.get(n.ppid);s&&s!==n&&s.children.push(n)}return!isNaN(t)&&t>0?r.get(t):r.get(0)}var r8=F(pe());var ps=class{create(e){return e===!1?new GE:e===!0?new Ru({maxAttempts:1/0,delay:1e3}):new Ru({maxAttempts:e.maxAttempts??1/0,delay:e.delay??1e3})}};ps=z([(0,r8.injectable)()],ps);var Ru=class{constructor(e,r=0){this.options=e;this.attempt=r}get delay(){return this.options.delay}next(){return this.attempt===this.options.maxAttempts?void 0:new Ru(this.options,this.attempt+1)}reset(){return this.attempt?new Ru(this.options):this}},GE=class{constructor(){this.delay=-1}next(){}reset(){return this}};var fp=class extends ga{constructor(r,i,n,s,o=new ps){super(r,i,s,n);this.restarters=o}resolveParams(r){return r.type==="pwa-node"&&r.request==="attach"?r:void 0}async launchProgram(r){let i=async(s,o)=>{let a=this.program,u;try{r.params.websocketAddress?u=r.params.websocketAddress:u=await zl(`http://${r.params.address}:${r.params.port}`,o&&r.params.timeout>0?Yt.withTimeout(r.params.timeout).token:r.context.cancellationToken,this.logger)}catch(p){if(a&&a===o)return n(s,a,{killed:!1,code:1});throw p}let c=await Ui.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:u,remoteHostHeader:r.params.remoteHostHeader,waitForDebugger:!0,dynamicAttach:!0}),l=this.program=new ya(c);l.stopped.then(p=>n(s.reset(),l,p))},n=async(s,o,a)=>{if(this.program!==o)return;if(a.killed){this.onProgramTerminated(a);return}let u=s.next();if(!u){this.onProgramTerminated(a);return}r.context.dap.output({output:i8.t(`Lost connection to debugee, reconnecting in {0}ms\r
`,u.delay)});let c=new ku;this.program=c;let l=await Promise.race([ke(u.delay),c.stopped]);this.program===c&&(l?this.onProgramTerminated(a):i(u,c))};return i(this.restarters.create(r.params.restart))}async terminate(r){await super.terminate(),r&&this.telemetry&&un(this.telemetry.processId,this.logger)}createLifecycle(r,i,n){if(n.openerId)return{};let s;return{initialized:async()=>{s=this.onFirstInitialize(r,i,n),await s},close:()=>{var o;this.targetList().length&&((o=this.program)==null||o.stop()),s==null||s.then(a=>a.dispose())}}}async onFirstInitialize(r,i,n){let s=new cp;await s.startTouchLoop();let o=new pi("node",void 0);try{o=await this.resolveNodePath(i.params)}catch{}let[a]=await Promise.all([this.gatherTelemetryFromCdp(r,i),this.setEnvironmentVariables(r,i,s.path,n.targetId,o)]);return this.telemetry=a,a&&i.params.attachExistingChildren&&t8({pid:a.processId,nodePath:o.path,hostname:i.params.address,ipcAddress:i.serverAddress},n.targetId,this.logger).catch(u=>this.logger.warn("internal","Error watching child processes",{err:u})),s}async setEnvironmentVariables(r,i,n,s,o){if(!i.params.autoAttachChildProcesses)return;if(!await yc(i.params.address)){this.logger.warn("runtime.target","Cannot attach to children of remote process");return}let a=await this.resolveEnvironment(i,o,{requireLease:n,openerId:s});return this.appendEnvironmentVariables(r,a)}};fp=z([(0,Ou.injectable)(),E(0,(0,Ou.inject)(ma)),E(1,(0,Ou.inject)(ae)),E(2,(0,Ou.inject)(fn)),E(3,(0,Ou.inject)(xi))],fp);var fi=F(pe()),mp=w("path");function n8(t){if(!t.runtimeArgs||t.attachSimplePort)return;let e=[];for(let r of t.runtimeArgs)/^--inspect-brk(=|$)/.test(r)?t.stopOnEntry=t.stopOnEntry||!0:e.push(r);t.runtimeArgs=e}var s8=w("os"),o8=F(w("path")),a8=w("crypto"),dp=w("fs"),KE=class{constructor(){this.path=o8.join((0,s8.tmpdir)(),`node-debug-callback-${(0,a8.randomBytes)(8).toString("hex")}`);this.disposed=!1}read(e=KE.pollInterval){return this.readPromise?this.readPromise:(this.readPromise=new Promise((r,i)=>{let n=setInterval(()=>{if(this.disposed){clearInterval(n),r(void 0);return}if((0,dp.existsSync)(this.path)){try{r(JSON.parse((0,dp.readFileSync)(this.path,"utf-8")))}catch(s){i(s)}finally{this.dispose()}clearInterval(n)}},e)}),this.readPromise)}dispose(){if(!this.disposed){this.disposed=!0;try{(0,dp.unlinkSync)(this.path)}catch{}}}},fh=KE;fh.pollInterval=200;var Nu=F(w("path"));var dh=Symbol("IProgramLauncher"),Gb=t=>{let e=t.program;if(e&&Nu.isAbsolute(e)){let r=Nu.relative(t.cwd,e);e=Nu.isAbsolute(r)?r:`.${Nu.sep}${r}`}return e?[...t.runtimeArgs,e,...nf(t.args)]:[...t.runtimeArgs,...nf(t.args)]};var dpe=async(t,e)=>{if(typeof e.stopOnEntry=="string")return(0,mp.resolve)(e.cwd,e.stopOnEntry);if(e.program)return(0,mp.resolve)(e.cwd,e.program);for(let r of nf(e.args)){if(r.startsWith("-"))continue;let i=(0,mp.resolve)(e.cwd,r);if(await t.exists(i))return i}},hp=class extends cs{constructor(r,i,n,s,o,a,u,c,l){super(r,i,l,c);this.bpPredictor=n;this.launchers=s;this.restarters=o;this.fsUtils=a;this.packageJson=u}resolveParams(r){let i;if(r.type==="pwa-node"&&r.request==="launch"?i={...r}:"server"in r&&r.server&&"program"in r.server&&(i={...r.server}),!!i)return n8(i),i}async launchProgram(r){r.params.program&&(r.params.program=await this.tryGetCompiledFile(r.params.program)),this.attachSimplePort=await this.getSimpleAttachPortIfAny(r.params);let i=async n=>{this.program&&this.program.stop();let s=await this.resolveNodePath(r.params,r.params.runtimeExecutable||void 0),o=s.warning;o&&r.context.dap.output({category:"stderr",output:o.message});let a=new fh,u=await this.resolveEnvironment(r,s,{fileCallback:a.path});this.attachSimplePort?(r.params.attachSimplePort||r.context.dap.output({category:"stderr",output:"Using legacy attach mode for --inspect-brk in npm scripts. We recommend removing --inspect-brk, and using `stopOnEntry` in your launch.json if you need it."}),u=u.merge({NODE_OPTIONS:null})):u=Tq(s,u);let c={...r.params,env:u.value},l=this.launchers.find(f=>f.canLaunch(c));if(!l)throw new Error("Cannot find an appropriate launcher for the given set of options");let p=await l.launchProgram(s.path,c,r.context);if(this.attachSimplePort){let f=await Ui.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:await zl(`http://127.0.0.1:${this.attachSimplePort}`,r.context.cancellationToken,this.logger),waitForDebugger:!0,dynamicAttach:!0});p=new Ub(p,new ya(f))}else a.read().then(f=>{f&&p.gotTelemetery(f)});this.program=p,p.stopped.then(async f=>{if(a.dispose(),this.program!==p)return;if(f.killed||f.code===0){this.onProgramTerminated(f);return}let g=n.next();if(!g){this.onProgramTerminated(f);return}await ke(g.delay),this.program===p&&i(g)})};return i(this.restarters.create(r.params.restart))}async getSimpleAttachPortIfAny(r){var s,o;if(r.attachSimplePort)return r.attachSimplePort;let i=Mq(r.runtimeExecutable,r.runtimeArgs);if(!i)return;let n=await this.packageJson.getContents();if((o=(s=n==null?void 0:n.scripts)==null?void 0:s[i])!=null&&o.includes("--inspect-brk"))return r.port??9229}createLifecycle(r,i,{targetId:n}){return{initialized:async()=>{if(this.attachSimplePort&&await this.gatherTelemetryFromCdp(r,i),!i.params.stopOnEntry)return;let s=await dpe(this.fsUtils,i.params);if(!s){this.logger.warn("runtime","Could not resolve program entrypointfrom args");return}let o="(?:entryBreakpoint){0}",a=Oe(s),u=bi(a)+o,c=await r.Debugger.setBreakpointByUrl({urlRegex:u,lineNumber:0,columnNumber:0});return c!=null&&c.breakpointId?{cdpId:c==null?void 0:c.breakpointId,path:a}:void 0},close:()=>{let s=Number(n);if(s>0)try{process.kill(s)}catch{}}}}async tryGetCompiledFile(r){r=_t(r);let i=(0,mp.extname)(r);if(!i||i===".js")return r;let n=await this.bpPredictor.getPredictionForSource(r);if(!n||n.size===0)return r;let s=gc(n.values());return s?(this.logger.info("runtime.launch","Updating entrypoint to compiled file",{from:r,to:s.compiledPath,candidates:n.size}),s.compiledPath):r}};hp=z([(0,fi.injectable)(),E(0,(0,fi.inject)(ma)),E(1,(0,fi.inject)(ae)),E(2,(0,fi.inject)(qa)),E(3,(0,fi.multiInject)(dh)),E(4,(0,fi.inject)(ps)),E(5,(0,fi.inject)(Fr)),E(6,(0,fi.inject)($u)),E(7,(0,fi.inject)(fn)),E(8,(0,fi.inject)(xi))],hp);var Hp=F(w("fs")),u8=w("fs"),Kb=F(pe()),c8=F(w("os")),Rt=F(w("path"));var l8=Symbol("INvmResolver");var gp=class{constructor(e=new Ki(u8.promises),r=process.env,i=process.arch,n=process.platform,s=c8.homedir()){this.fsUtils=e;this.env=r;this.arch=i;this.platform=n;this.homedir=s}async resolveNvmVersionPath(e){let r,i=[],n=this.parseVersionString(e),s=this.env["NVS_HOME"];if(!s){let o=this.platform==="win32"?Rt.join(this.env.LOCALAPPDATA||"","nvs"):Rt.join(this.env.HOME||"",".nvs");Hp.existsSync(o)&&(s=o)}if(n.nvsFormat||s){if(r=await this.resolveNvs(s,n),!r&&n.nvsFormat)throw new Z(u0(e,"nvs"));i.push("nvs")}if(!r)if(this.platform==="win32")this.env["NVM_HOME"]&&(r=await this.resolveWindowsNvm(e),i.push("nvm-windows"));else{let o=this.env["NVM_DIR"]||Rt.join(this.homedir,".nvm");await this.fsUtils.exists(o)&&(r=await this.resolveUnixNvm(e),i.push("nvm"))}if(!r){let o=this.platform==="win32"?this.env["FNM_DIR"]||Rt.join(this.env.APPDATA||"","fnm"):this.env["FNM_DIR"]||Rt.join(this.homedir,".fnm");await this.fsUtils.exists(o)&&(r=await this.resolveFnm(e,o),i.push("fnm"))}if(!i.length)throw new Z(a0());if(!r||!await this.fsUtils.exists(r))throw new Z(u0(e,i.join("/")));return{directory:r,binary:await this.getBinaryInFolder(r)}}async getBinaryInFolder(e){return await qu(["node64.exe","node64"].map(r=>this.fsUtils.exists(Rt.join(e,r))))?"node64":"node"}async resolveNvs(e,{remoteName:r,semanticVersion:i,arch:n}){if(!e)throw new Z(QT());let s=this.findBinFolderForVersion(Rt.join(e,r),i,o=>Hp.existsSync(Rt.join(o,n)));if(s)return this.platform!=="win32"?Rt.join(s,n,"bin"):Rt.join(s,n)}async resolveUnixNvm(e){let r=this.env["NVM_DIR"];if(!r){let n=Rt.join(this.env.HOME||"",".nvm");await this.fsUtils.exists(n)&&(r=n)}if(!r)throw new Z(a0());let i=this.findBinFolderForVersion(Rt.join(r,"versions","node"),`v${e}`);return i?Rt.join(i,"bin"):void 0}async resolveWindowsNvm(e){let r=this.env["NVM_HOME"];if(!r)throw new Z(ZT());return this.findBinFolderForVersion(r,`v${e}`)}async resolveFnm(e,r){let i=this.findBinFolderForVersion(Rt.join(r,"node-versions"),`v${e}`);if(i)return this.platform==="win32"?Rt.join(i,"installation"):Rt.join(i,"installation","bin")}findBinFolderForVersion(e,r,i){if(!Hp.existsSync(e))return;let n=Hp.readdirSync(e);if(n.includes(r))return Rt.join(e,r);let s=n.filter(o=>o.startsWith(`${r}.`)).sort(hpe).filter(o=>i?i(Rt.join(e,o)):!0).pop();return s?Rt.join(e,s):void 0}parseVersionString(e){let i=/^(([\w-]+)\/)?(v?(\d+(\.\d+(\.\d+)?)?))(\/((x86)|(32)|((x)?64)|(arm\w*)|(ppc\w*)))?$/i.exec(e);if(!i)throw new Error("Invalid version string: "+e);let n=!!(i[2]||i[8]),s=i[2]||"node",o=i[4]||"",a=mpe(i[8]||this.arch);return{nvsFormat:n,remoteName:s,semanticVersion:o,arch:a}}};gp=z([(0,Kb.injectable)(),E(0,(0,Kb.inject)(Fr))],gp);var hpe=(t,e)=>{let r=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(t),i=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(e);if(!r||!i)return(i?-1:0)+(r?1:0);let[,n,s,o]=r,[,a,u,c]=i;return Number(n)-Number(a)||Number(s)-Number(u)||Number(o)-Number(c)};function mpe(t){switch(t){case"32":case"x86":case"ia32":return"x86";case"64":case"x64":case"amd64":return"x64";case"arm":let e=process.config.variables.arm_version;return e?"armv"+e+"l":"arm";default:return t}}var p8=w("child_process"),zb=F(pe()),f8=F(bb());var yp=class{constructor(e){this.logger=e}canLaunch(e){return e.console==="internalConsole"}async launchProgram(e,r,i){let{executable:n,args:s,shell:o,cwd:a}=gpe(e,Gb(r),r.cwd);i.dap.output({category:"console",output:[n,...s].join(" ")+`
`});let u=(0,p8.spawn)(n,s,{shell:o,cwd:a,env:xt.merge(xt.processEnv(),r.env).defined()});return r.outputCapture==="console"?this.discardStdio(i.dap,u):this.captureStdio(i.dap,u),new jb(u,this.logger,r.killBehavior)}captureStdio(e,r){r.stdout.pipe(bp.stream()).on("data",i=>e.output({category:"stdout",output:i})).resume(),r.stderr.pipe(bp.stream()).on("data",i=>e.output({category:"stderr",output:i})).resume()}discardStdio(e,r){let i=[],n=()=>{i&&e.output({category:"stderr",output:Buffer.concat(i).toString()})},s=Buffer.from("Debugger attached."),o=a=>{a.includes(s)?(i=void 0,r.stderr.removeListener("data",o)):i&&i.push(a)};r.stderr.on("data",o),r.on("error",a=>{n(),e.output({category:"stderr",output:a.stack||a.message})}),r.on("exit",a=>{a!==null&&a>0&&(n(),e.output({category:"stderr",output:`Process exited with code ${a}\r
`}))}),r.stdout.resume(),r.stderr.resume()}};yp=z([(0,zb.injectable)(),E(0,(0,zb.inject)(ae))],yp);var gpe=(t,e,r)=>{if(process.platform==="win32"&&(t=Yi(t),r=Yi(r),t.endsWith(".ps1")&&(e=["-File",t,...e],t="powershell.exe")),process.platform!=="win32"||!t.includes(" "))return{executable:t,args:e,shell:!1,cwd:r};let i=!1,n=[];for(let s of e)s.includes(" ")?(n.push(`"${s}"`),i=!0):n.push(s);return i?{executable:`"${t}"`,args:n,shell:!0,cwd:r}:{executable:t,args:e,shell:!1,cwd:r}};var bp=class{constructor(){this.etxSpotted=!1}static stream(){return(0,f8.default)(new bp)}[Symbol.split](e){if(this.etxSpotted||=e.includes(""),!this.etxSpotted)return[e,""];let r=e.split("");return r.length>1?r.map((i,n)=>n<r.length-1?`${i}
`:i):r}};var Xb=F(pe());var vp=class{constructor(e){this.logger=e}canLaunch(e){return e.internalConsoleOptions,e.console!=="internalConsole"}async launchProgram(e,r,i){let n={kind:r.console==="integratedTerminal"?"integrated":"external",title:r.name,cwd:r.cwd,args:[e,...Gb(r)],env:ju(r.env),argsCanBeInterpretedByShell:!Array.isArray(r.args)},s;try{s=await this.sendLaunchRequest(n,i)}catch(o){throw new Z(e$(o.message))}return new Ha(s,this.logger,r.killBehavior)}sendLaunchRequest(e,r){return r.dap.runInTerminalRequest(e)}};vp=z([(0,Xb.injectable)(),E(0,(0,Xb.inject)(ae))],vp);var d8=F(pe());var _p=class{getTreatment(e,r){return Promise.resolve(r)}};_p=z([(0,d8.injectable)()],_p);var h8=F(pe());var Bu=class{constructor(){this.flushEmitter=new J;this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};Bu=z([(0,h8.injectable)()],Bu);var m8=t=>{},g8=t=>{};var y8=F(vt()),Jb=F(pe());var H8="@vscode/dwarf-debugging",wp=class{constructor(e){this.dap=e;this.didPrompt=!1}async load(){try{return await import(H8)}catch{return}}prompt(){this.didPrompt||(this.didPrompt=!0,this.dap.output({output:y8.t("You may install the `{}` module via npm for enhanced WebAssembly debugging",H8),category:"console"}))}};wp=z([(0,Jb.injectable)(),E(0,(0,Jb.inject)(qr))],wp);var v8=(t,e,r,i)=>{let n=new Zb.Container;return n.parent=t,n.bind(Ne).toConstantValue(e.launchConfig),n.bind(xc).toConstantValue(n),n.bind(qr).toConstantValue(r),n.bind(dt).toConstantValue(i),n.bind(Yn).toConstantValue(e),n.bind(Sq).toConstantValue(e.targetOrigin()),n.bind(Oa).to(du).inSingletonScope(),n.bind(Nn).to(Na).inSingletonScope(),n.bind(fg).to(Oc).inSingletonScope(),n.bind(Ao).toSelf().inSingletonScope(),e.sourcePathResolver&&n.bind(et).toConstantValue(e.sourcePathResolver),n.bind(ou).toSelf(),n.bind(bH).toDynamicValue(s=>s.container.get(ou).create()).inSingletonScope(),e.parent()&&(n.bind(qa).to(Wa).inSingletonScope(),n.bind(Un).to($c).inSingletonScope()),n.bind(Lr).to(process.env.DA_TEST_DISABLE_TELEMETRY?Bu:qn).inSingletonScope().onActivation(Bt),n.bind(Ei).toSelf().inSingletonScope(),n.bind(Jt).toSelf().inSingletonScope(),n.bind(Oo).toSelf().inSingletonScope(),n.bind(Eo).to(Zn).inSingletonScope(),n.bind(To).toSelf().inSingletonScope(),n.bind(cl).to(ul).inSingletonScope(),n.bind(Vg).to(tl).inSingletonScope(),n.bind(wi).to(Mc).inSingletonScope(),n.bind(mH).to(dl).inSingletonScope(),n.bind(wo).to(Lc).inSingletonScope(),n.bind(Lg).to(Gc).inSingletonScope(),n.bind(er).toSelf(),n.bind(si).toSelf(),n.bind(oi).toSelf(),n.bind(IH).to(Ps).inSingletonScope(),n.bind(AH).to(pl).inSingletonScope(),n.bind(qg).to(Zc).inSingletonScope().onActivation(Bt),n},_8=t=>{let e=new Zb.Container;e.parent=t,e.bind(xc).toConstantValue(e),e.bind(ae).to(Mi).inSingletonScope().onActivation(Bt),e.bind(Oa).to(du).inSingletonScope(),e.bind(Lr).to(process.env.DA_TEST_DISABLE_TELEMETRY?Bu:qn).inSingletonScope().onActivation(Bt),e.bind(Fn).to(Fn).inSingletonScope(),e.bind(ws).to(ws).inSingletonScope(),e.bind(xl).to(El).inSingletonScope(),e.bind(Dc).to(Kl).inSingletonScope(),e.bind(ma).to(op),e.bind(as).toSelf().inSingletonScope().onActivation(Bt),e.bind(ps).toSelf(),e.bind($r).to(dn).onActivation(Bt),e.bind($r).to(ap).onActivation(Bt),e.bind($r).to(up).onActivation(Bt),e.bind($r).to(hp).onActivation(Bt),e.bind(dh).to(yp),e.bind(dh).to(vp),e.bind($u).to(sp).inSingletonScope(),g8(e),e.bind($r).to(fp).onActivation(Bt),e.bind(Cu).toSelf().inSingletonScope().onActivation(Bt),e.bind($r).toService(Cu),e.bind($r).to(Jl).inSingletonScope().onActivation(Bt),e.bind($r).to(Ql).inSingletonScope().onActivation(Bt),e.bind($r).to(Yl).inSingletonScope().onActivation(Bt),e.bind($r).to(Zl).inSingletonScope().onActivation(Bt),e.bind($r).to(Bi).onActivation(Bt),e.bind($r).toDynamicValue(()=>t.get(Tu).createLauncher(e.get(ae))).inSingletonScope(),e.isBound(Ef)||e.bind(Ef).to(wp).inSingletonScope();let r=i=>n=>new i(n.container.get(h0),n.container.get(it),n.container.get(gf));return e.bind(Fa).toDynamicValue(r(Qb.ChromeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","chrome"),e.bind(Fa).toDynamicValue(r(Qb.EdgeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","edge"),e},w8=t=>{let e=new Zb.Container;return e.bind(xc).toConstantValue(e),e.bind(Tu).toSelf().inSingletonScope(),e.bind(rp).toSelf().inSingletonScope(),e.bind(Ig).to(_p).inSingletonScope(),e.bind(y$).toConstantValue(new es),e.bind(ZF).to(Cl).inSingletonScope(),e.bind(Bn).toConstantValue(t.storagePath),e.bind(Pc).toConstantValue(t.isVsCode),e.bind(l8).to(gp),e.bind(xi).to(Qc).inSingletonScope(),e.bind(h0).toConstantValue(process.env),e.bind(gf).toConstantValue(b8.default),e.bind(it).toConstantValue(Yb.promises),e.bind(Fr).toConstantValue(new Ki(Yb.promises)),e.bind(Ba).toConstantValue(t.isRemote?"remote":"local"),t.context&&e.bind(H$).toConstantValue(t.context),m8(e),e},I8=(t,e,r)=>{t.bind(Zf).toConstantValue(RR(e)),t.bind(Ne).toService(Zf),t.bind(fn).to(ip).inSingletonScope(),t.bind(Sc).toConstantValue(r),t.bind(et).toDynamicValue(i=>i.container.get(fn).create(e,i.container.get(ae))).inSingletonScope(),t.bind(Fr).toConstantValue(sm.create(e.__remoteFilePrefix,Yb.promises,r)),t.bind(p0).to(bo).inSingletonScope().onActivation(Bt),t.bind(vo).to(Ec).inSingletonScope(),t.bind(mt).toSelf().inSingletonScope().onActivation(Bt),t.bind(Nn).to(Na).inSingletonScope(),t.bind(ja).toSelf().inSingletonScope(),t.bind(qa).to(Wa).inSingletonScope(),t.bind(Un).to(Tc).inSingletonScope()};var ev=F(w("path"));function S8(t,e,r){let i=A8(t,e,"uncaughtException",r),n=A8(t,e,"unhandledRejection",r);return process.addListener("uncaughtException",i),process.addListener("unhandledRejection",n),{dispose:()=>{process.removeListener("uncaughtException",i),process.removeListener("unhandledRejection",n)}}}var A8=(t,e,r,i=!0)=>n=>{bpe(n)&&(e.report("error",{"!error":n,error:i?void 0:n,exceptionType:r}),t.error("runtime.exception","Unhandled error in debug adapter",n))},Hpe=t=>typeof t=="object"&&!!t&&"stack"in t,ype=ev.dirname(ev.dirname(ev.dirname(__dirname)));function bpe(t){var e;return!E8||Hpe(t)&&!!((e=t.stack)!=null&&e.includes(ype))}var E8=!1;function x8(){E8=!0}var tv=class{constructor(e,r,i,n){this._delegate=e;this._rootServices=i;this._disposables=new Qe;this._serviceTree=new WeakMap;this._root=new ba(void 0);this.getLaunchers=Ae(()=>{let e=new Set(this._rootServices.getAll($r));for(let r of e)this._disposables.push(r.onTargetListChanged(()=>{let i=this.targetList();this._attachToNewTargets(i,r),this._terminateOrphanThreads(i)}));return e});this._dap=r.dap(),this._targetOrigin=n,this._disposables.callback(()=>ng(i)),this._disposables.push(S8(i.get(ae),i.get(Lr),i.get(Pc))),r.attachTelemetry(i.get(Lr));let s=this._dap,o=0,a;s.on("initialize",async u=>{this._rootServices.bind(gr).toConstantValue(u);let c=Ls.capabilities();return u.clientID==="vscode"&&x8(),setTimeout(()=>s.initialized({}),0),c}),s.on("setExceptionBreakpoints",async()=>({})),s.on("setBreakpoints",async u=>{var c,l;return(c=u.breakpoints)!=null&&c.length&&i.get(mt).notifyHadBreakpoint(),{breakpoints:((l=u.breakpoints)==null?void 0:l.map(()=>({id:++o,verified:!1,message:P8.t("Unbound breakpoint")})))??[]}}),s.on("configurationDone",async()=>({})),s.on("threads",async()=>({threads:[]})),s.on("loadedSources",async()=>({sources:[]})),s.on("breakpointLocations",()=>Promise.resolve({breakpoints:[]})),s.on("attach",async u=>(await this.boot(u,s),{})),s.on("launch",async u=>(await this.boot(u,s),{})),s.on("pause",async()=>({})),s.on("terminate",()=>this._terminateRoot(!0)),s.on("disconnect",u=>this._disconnectRoot(u)),s.on("restart",async({arguments:u})=>(await this._restart(u),{})),s.on("startSelfProfile",async({file:u})=>(a==null||a.dispose(),a=new SH(u),await a.start(),{})),s.on("stopSelfProfile",async()=>(a&&(await a.stop(),a.dispose(),a=void 0),{}))}async _terminateRoot(e){return this._root.state=1,await Promise.all([...this.getLaunchers()].map(r=>r.terminate(e))),await this._root.waitUntilChildrenAre(2),this._root.state=2,{}}async _disconnectRoot(e){return this._root.state<1&&await this._terminateRoot(e.terminateDebuggee),this._rootServices.get(Lr).flush(),await this._root.waitUntilChildrenAre(3),this._root.state=3,{}}async boot(e,r){return this._boot(Ic(e,this._rootServices.get(Ba)),r)}async _boot(e,r){vpe(r),this.reportBootTelemetry(e),I8(this._rootServices,e,r),this._rootServices.get(ae).setup(Hx(r,e.trace));let i=e.timeout>0?Yt.withTimeout(e.timeout):new Yt;e.rootPath&&(e.rootPath=Yi(e.rootPath)),this._launchParams=e;let n=await Promise.all([...this.getLaunchers()].map(s=>this._launch(s,e,i.token)));return Promise.all(n.map(s=>s.terminated)).then(s=>{let o=s.find(tr);this._markTargetAsTerminated(this._root,{restart:!!(o!=null&&o.restart)})}),{}}reportBootTelemetry(e){let r=Ic({type:e.type,request:e.request,name:"<string>",__workspaceFolder:"<workspace>"}),i=(n,s)=>typeof n=="string"?s&&r[s]===n?n:"<string>":n instanceof Array?n.map(o=>i(o)):n&&typeof n=="object"?fs(n,o=>i(o)):n;this._rootServices.get(Lr).report("launch",{type:e.type,request:e.request,os:`${rv.platform()} ${rv.arch()}`,nodeVersion:process.version,adapterVersion:pf,parameters:fs(e,i)})}async _restart(e){let r;if(e){let i=this._rootServices.get(Zf);r=Ic({__workspaceFolder:i.__workspaceFolder,...e},this._rootServices.get(Ba)),i.update(r)}await Promise.all([...this.getLaunchers()].map(i=>i.restart(r)))}async _launch(e,r,i){return(await this.captureLaunch(e,r,i)).blockSessionTermination?{terminated:new Promise(s=>{let o=this._disposables.push(e.onTerminated(a=>{o.dispose(),s(a)}))})}:{terminated:Promise.resolve(void 0)}}async captureLaunch(e,r,i){let n=e.constructor.name,s;try{s=await e.launch(r,{telemetryReporter:this._rootServices.get(Lr),cancellationToken:i,targetOrigin:this._targetOrigin,dap:this._dap})}catch(o){throw this._rootServices.get(ae).warn("runtime.launch","Launch returned error",{error:o,wasCancelled:i.isCancellationRequested,name:n}),o}return s.blockSessionTermination&&this._rootServices.get(ae).info("runtime.launch","Launched successfully",{name:n}),s}dispose(){this._disposables.dispose(),this._terminateOrphanThreads([])}targetList(){let e=[];for(let r of this.getLaunchers())e.push(...r.targetList());return e}async attach(e,r){if(!this._launchParams)throw new Error("Cannot launch before params have been set");let i=e.value;if(!i.canAttach())return;let n=await i.attach();if(!n)return;let s=await this._delegate.acquireDap(i),o=s.dap(),a=this._launchParams;this._asyncStackPolicy||(this._asyncStackPolicy=$R(a.showAsyncStacks));let u=i.parent(),c=u&&this._serviceTree.get(u)||this._rootServices,l=v8(c,i,o,n);s.attachTelemetry(l.get(Lr)),this._serviceTree.set(i,c);let p=new Ls(o,this._asyncStackPolicy,a,l),f=p.createThread(n,i),g=async()=>(await p.launchBlocker(),i.runIfWaitingForDebugger(),e.threadData.resolve({thread:f,debugAdapter:p}),{});o.on("disconnect",m=>this._disconnectTarget(e,m)),o.on("terminate",()=>this._terminateTarget(e)),o.on("restart",async()=>(i.canRestart()?i.restart():await this._restart(),Promise.resolve({}))),await this._delegate.initAdapter(p,i,r)?g():(o.on("attach",g),o.on("launch",g)),await i.afterBind()}_attachToNewTargets(e,r){for(let i of e.values()){if(!i.waitingForDebugger()||ba.targetNodes.has(i))continue;let n=i.parent(),s=n?ba.targetNodes.get(n):this._root;if(!s)throw new Error(`Got target with unknown parent: ${i.name()}`);let o=new ba(i);s.add(o),this.attach(o,r)}}async _terminateOrphanThreads(e,r){let i=[...this._root.all()].filter(n=>!e.includes(n.value));return Promise.all(i.map(n=>this._markTargetAsTerminated(n,r)))}async _markTargetAsTerminated(e,r={}){if(e.state>=1)return await e.waitUntil(2),{};if(e.state=1,L8(e)){let i=await e.threadData.promise;await i.thread.dispose(),i.debugAdapter.dap.terminated(r),i.debugAdapter.dispose()}else this._dap.terminated(r);return await e.waitUntilChildrenAre(2),e.state=2,{}}async _terminateTarget(e){return e.state>=3?{}:(e.value.canStop()?e.value.stop():this._terminateRoot(!0),await e.waitUntil(2),{})}async _disconnectTarget(e,r){if(e.state>=3)return{};e.state<1&&(r.terminateDebuggee!==!0&&e.value.canDetach()?await e.value.detach():e.value.canStop()?e.value.stop():this._terminateRoot(r.terminateDebuggee)),await e.waitUntil(2),await e.waitUntilChildrenAre(3),e.state=3,queueMicrotask(()=>this._delegate.releaseDap(e.value));let i=e.value.parent(),n=i?ba.targetNodes.get(i):this._root;return n==null||n.remove(e),{}}};function vpe(t){JT&&t.output({category:"console",output:`Note: Using the "preview" debug extension
`})}var L8=t=>!!t.value,zE=class{constructor(e){this.value=e;this.threadData=je();this._state=0;this._children=new Set;this._stateChangeEmitter=new J;e&&zE.targetNodes.set(e,this)}get state(){return this._state}set state(e){e>this._state&&(this._state=e,this._stateChangeEmitter.fire(e))}add(e){this._children.add(e)}remove(e){this._children.delete(e)}async waitUntil(e){return this._state>=e?Promise.resolve():new Promise(r=>{let i=this._stateChangeEmitter.event(n=>{n>=e&&(i.dispose(),r())})})}async waitUntilChildrenAre(e){await Promise.all([...this._children].map(r=>r.waitUntil(e)))}*all(){L8(this)&&(yield this);for(let e of this._children)yield*e.all()}},ba=zE;ba.targetNodes=new WeakMap;var C8=`\r
\r
`,_pe=0,iv=class{constructor(e,r,i){this.inputStream=e;this.outputStream=r;this._contentLength=-1;this._connectionId=_pe++;this.msgEmitter=new J;this.messageReceived=this.msgEmitter.event;this.endedEmitter=new J;this.closed=this.endedEmitter.event;this._handleData=e=>{var i;let r=new Dr;for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){let n=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,n.length>0)try{let s=JSON.parse(n);(i=this.logger)==null||i.verbose("dap.receive",void 0,{connectionId:this._connectionId,message:s}),this.msgEmitter.fire({message:s,receivedTime:r})}catch(s){console.error("Error handling data: "+(s&&s.message))}continue}}else{let n=this._rawData.indexOf(C8);if(n!==-1){let o=this._rawData.toString("utf8",0,n).split(`\r
`);for(let a=0;a<o.length;a++){let u=o[a].split(/: +/);u[0]==="Content-Length"&&(this._contentLength=+u[1])}this._rawData=this._rawData.slice(n+C8.length);continue}}break}};this.logger=i,this._rawData=Buffer.alloc(0),e.on("end",()=>this.endedEmitter.fire()),e.on("data",this._handleData)}send(e,r=!0,i){var o,a;let n=JSON.stringify(e);if(r){let u=e;e.type==="response"&&e.command==="source"&&(u={...e,body:{...e.body,content:"<script source>"}}),(o=this.logger)==null||o.verbose("dap.send",void 0,{connectionId:this._connectionId,message:u})}let s=`Content-Length: ${Buffer.byteLength(n,"utf8")}\r
\r
${n}`;if(this.outputStream.destroyed){(a=this.logger)==null||a.warn("dap.send","Message not sent. Connection was closed."),i==null||i();return}this.outputStream.write(s,"utf8",u=>{var c;i==null||i(),u&&(console.log(e),(c=this.logger)==null||c.error("dap.send","Error while writing to output stream",u),this.close())})}close(){this.inputStream.destroy(),this.outputStream.destroy()}setLogger(e){return this.logger=e,this}};process.env.L10N_FSPATH_TO_BUNDLE&&nv.config({fsPath:process.env.L10N_FSPATH_TO_BUNDLE});var wpe=T8.mkdtempSync(sv.join(M8.tmpdir(),"vscode-js-debug-"));function Ipe(t){let e,r=[],i=new Set,n=je(),s=0,o;return t.on("setBreakpoints",async a=>{var l;let u=((l=a.breakpoints)==null?void 0:l.map(()=>++s))??[];return r.push({params:a,ids:u}),{breakpoints:u.map(p=>({id:p,verified:!1,message:nv.t("breakpoint.provisionalBreakpoint","Unbound breakpoint")}))}}),t.on("setExceptionBreakpoints",async a=>(e=a,{})),t.on("enableCustomBreakpoints",async a=>{for(let u of a.ids)i.add(u);return{}}),t.on("disableCustomBreakpoints",async a=>{for(let u of a.ids)i.delete(u);return{}}),t.on("configurationDone",async()=>(n.resolve(),{})),t.on("threads",async()=>({threads:[]})),t.on("loadedSources",async()=>({sources:[]})),t.on("initialize",async a=>(o=a,setTimeout(()=>t.initialized({}),0),Ls.capabilities())),new Promise(a=>{let u=async c=>{await n.promise;let l=je();if(!o)throw new Error("cannot call launch/attach before initialize");return a({initializeParams:o,setExceptionBreakpointsParams:e,setBreakpointsParams:r,customBreakpoints:i,launchParams:c,deferred:l}),l.promise};t.on("launch",c=>u(c)),t.on("attach",u)})}var JE=class{constructor(e,r){this.dapRoot=e;this.services=r;this.sessions=new Map}async acquireDap(e){var o;let r=this.sessions.get(e.id());if(r){let{connection:a}=await r.promise;return a}let i=e.parent(),n;if(i){let a=(o=this.sessions.get(i.id()))==null?void 0:o.settledValue;if(!a)throw new Error("Expected parent session to have a settled value");n=a.connection.dap()}else n=this.dapRoot;let s=je();return this.sessions.set(e.id(),s),n.startDebuggingRequest({request:e.launchConfig.request,configuration:{type:e.launchConfig.type,name:e.name(),__pendingTargetId:e.id()}}).catch(a=>s.reject(a)),s.promise.then(a=>a.connection)}async initAdapter(e,r){var n;let i=(n=this.sessions.get(r.id()))==null?void 0:n.settledValue;if(!i)throw new Error(`Expected to find pending init for target ${r.id()}`);i.setExceptionBreakpointsParams&&await e.setExceptionBreakpoints(i.setExceptionBreakpointsParams);for(let{params:s,ids:o}of i.setBreakpointsParams)await e.breakpointManager.setBreakpoints(s,o);return await e.enableCustomBreakpoints({ids:Array.from(i.customBreakpoints)}),await e.onInitialize(i.initializeParams),await e.configurationDone(),await e.launchBlocker(),i.deferred.resolve({}),!0}releaseDap(e){this.sessions.delete(e.id())}hasPendingTarget(e){var r;return((r=this.sessions.get(e))==null?void 0:r.hasSettled())===!1}handleConnection(e){if(!("__pendingTargetId"in e.launchParams)||!e.launchParams.__pendingTargetId)throw new Error("Incoming session is missing __pendingTargetId");let r=e.launchParams.__pendingTargetId,i=this.sessions.get(r);if(!i)throw new Error(`__pendingTargetId ${r} not found`);i.resolve(e)}};function D8(t){let e=w8({storagePath:wpe,isVsCode:!1}),r=new Set,i=$8.createServer(async n=>{try{let s=new ha,o=new iv(n,n,s),a=new df(o,s),u=a.dap(),c=await Ipe(u);if("__pendingTargetId"in c.launchParams){let l=c.launchParams.__pendingTargetId,p=l&&[...r].find(f=>f.hasPendingTarget(l));if(!p)throw new Error(`Cannot find pending target for ${l}`);s.connectTo(p.services.get(ae)),p.handleConnection({...c,connection:a})}else{let l=_8(e),p=new JE(u,l);r.add(p),l.bind(gr).toConstantValue(c.initializeParams),s.connectTo(l.get(ae));let f=new tv(p,a,l,new Mb("targetOrigin"));o.closed(()=>{f.dispose(),r.delete(p)}),c.deferred.resolve(await f.boot(c.launchParams,u))}}catch(s){return console.error(s),n.destroy()}}).on("error",n=>{console.error(n),process.exit(1)}).listen(t,()=>{let n=i.address();console.log(`Debug server listening at ${typeof n=="string"?n:`${n.address}:${n.port}`}`)})}var[,Ape,XE="8123",Spe="localhost"]=process.argv;process.argv.includes("--help")?console.log(`Usage: ${sv.basename(Ape)} [port|socket path=8123] [host=localhost]`):isNaN(Number(XE))?D8({path:XE}):D8({port:Number(XE),host:Spe});})();
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-windows/index.js:
  (*!
   * is-windows <https://github.com/jonschlinkert/is-windows>
   *
   * Copyright  2015-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
